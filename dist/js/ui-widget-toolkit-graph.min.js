!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("d3"),require("pixi.js")):"function"==typeof define&&define.amd?define("UWT",["d3","pixi.js"],e):"object"==typeof exports?exports.UWT=e(require("d3"),require("pixi.js")):t.UWT=e(t.d3,t.PIXI)}(window,(function(t,e){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=147)}([function(t,e,n){"use strict";var r=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},o=function(t){var e;return 1===t.length&&(e=t,t=function(t,n){return r(e(t),n)}),{left:function(e,n,r,o){for(null==r&&(r=0),null==o&&(o=e.length);r<o;){var i=r+o>>>1;t(e[i],n)<0?r=i+1:o=i}return r},right:function(e,n,r,o){for(null==r&&(r=0),null==o&&(o=e.length);r<o;){var i=r+o>>>1;t(e[i],n)>0?o=i:r=i+1}return r}}};var i=o(r),a=i.right,s=(i.left,a);var u=function(t){return null===t?NaN:+t},c=Array.prototype,l=(c.slice,c.map,function(t,e,n){t=+t,e=+e,n=(o=arguments.length)<2?(e=t,t=0,1):o<3?1:+n;for(var r=-1,o=0|Math.max(0,Math.ceil((e-t)/n)),i=new Array(o);++r<o;)i[r]=t+r*n;return i}),h=Math.sqrt(50),f=Math.sqrt(10),d=Math.sqrt(2),p=function(t,e,n){var r,o,i,a,s=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((r=e<t)&&(o=t,t=e,e=o),0===(a=g(t,e,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),i=new Array(o=Math.ceil(e-t+1));++s<o;)i[s]=(t+s)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),i=new Array(o=Math.ceil(t-e+1));++s<o;)i[s]=(t-s)/a;return r&&i.reverse(),i};function g(t,e,n){var r=(e-t)/Math.max(0,n),o=Math.floor(Math.log(r)/Math.LN10),i=r/Math.pow(10,o);return o>=0?(i>=h?10:i>=f?5:i>=d?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(i>=h?10:i>=f?5:i>=d?2:1)}function v(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),o=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),i=r/o;return i>=h?o*=10:i>=f?o*=5:i>=d&&(o*=2),e<t?-o:o}var y=function(t,e,n){if(null==n&&(n=u),r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,o=(r-1)*e,i=Math.floor(o),a=+n(t[i],i,t);return a+(+n(t[i+1],i+1,t)-a)*(o-i)}},m=function(t,e){var n,r,o=t.length,i=-1;if(null==e){for(;++i<o;)if(null!=(n=t[i])&&n>=n)for(r=n;++i<o;)null!=(n=t[i])&&n>r&&(r=n)}else for(;++i<o;)if(null!=(n=e(t[i],i,t))&&n>=n)for(r=n;++i<o;)null!=(n=e(t[i],i,t))&&n>r&&(r=n);return r},_=function(t,e){var n,r,o=t.length,i=-1;if(null==e){for(;++i<o;)if(null!=(n=t[i])&&n>=n)for(r=n;++i<o;)null!=(n=t[i])&&r>n&&(r=n)}else for(;++i<o;)if(null!=(n=e(t[i],i,t))&&n>=n)for(r=n;++i<o;)null!=(n=e(t[i],i,t))&&r>n&&(r=n);return r},x=function(t,e){var n,r=t.length,o=-1,i=0;if(null==e)for(;++o<r;)(n=+t[o])&&(i+=n);else for(;++o<r;)(n=+e(t[o],o,t))&&(i+=n);return i};n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return r})),n.d(e,"c",(function(){return o})),n.d(e,"d",(function(){return m})),n.d(e,"e",(function(){return _})),n.d(e,"f",(function(){return y})),n.d(e,"g",(function(){return l})),n.d(e,"h",(function(){return x})),n.d(e,"k",(function(){return p})),n.d(e,"i",(function(){return g})),n.d(e,"j",(function(){return v}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.Left=1]="Left",t[t.Right=2]="Right",t[t.Top=4]="Top",t[t.Bottom=8]="Bottom",t[t.None=0]="None"}(e.Alignment||(e.Alignment={})),function(t){t[t.CursorStart=0]="CursorStart",t[t.CursorMove=1]="CursorMove",t[t.CursorEnd=2]="CursorEnd",t[t.BrushStart=3]="BrushStart",t[t.BrushMove=4]="BrushMove",t[t.BrushEnd=5]="BrushEnd",t[t.HoverStart=6]="HoverStart",t[t.HoverEnd=7]="HoverEnd",t[t.HoverClear=8]="HoverClear",t[t.Zoom=9]="Zoom",t[t.Click=10]="Click",t[t.DoubleClick=11]="DoubleClick",t[t.RangeUpdate=12]="RangeUpdate"}(e.EventType||(e.EventType={})),function(t){t[t.Unrendered=0]="Unrendered",t[t.Cartesian=1]="Cartesian",t[t.Pie=2]="Pie",t[t.Grid=3]="Grid",t[t.FlowDiagram=4]="FlowDiagram",t[t.ForceDirectedGraph=5]="ForceDirectedGraph",t[t.Sunburst=6]="Sunburst",t[t.HierarchyGraph=7]="HierarchyGraph",t[t.PortDiagram=8]="PortDiagram",t[t.SimpleGraph=9]="SimpleGraph",t[t.TreeMap=10]="TreeMap",t[t.Axis=11]="Axis",t[t.Radar=12]="Radar"}(e.UIType||(e.UIType={})),function(t){t[t.Discrete=0]="Discrete",t[t.Gradient=1]="Gradient"}(e.LegendType||(e.LegendType={})),function(t){t[t.Vertical=0]="Vertical",t[t.Horizontal=1]="Horizontal"}(e.LegendOrientation||(e.LegendOrientation={})),function(t){t[t.Rectangle=0]="Rectangle",t[t.Line=1]="Line",t[t.Circle=2]="Circle"}(e.LegendItemShape||(e.LegendItemShape={}));var r=function(){function t(t,e,n,r){this.x=0,this.y=0,this.width=0,this.height=0,this.x=t,this.y=e,this.width=n,this.height=r}return t.prototype.contains=function(t,e){return t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height},t}();e.Rect=r;var o=function(){function t(t,e){t?this.addClasses(t):this.classes={},this.style=e||{}}return t.prototype.addClasses=function(t){for(var e=t.split(" "),n=0;n<e.length;++n)this.classes[e[n]]=!0;return this},t.prototype.addStyles=function(t){for(var e in t)this.style[e]=t[e];return this},t.prototype.setColor=function(t){return this.addStyles({color:t}),this},t.prototype.setOpacity=function(t){return this.addStyles({opacity:t}),this},t.prototype.removeClass=function(t){return delete this.classes[t],this},t.prototype.removeStyle=function(t){return delete this.style[t],this},t.prototype.getClasses=function(){return Object.keys(this.classes)},t.prototype.getClassString=function(){var t="";for(var e in this.classes)t+=e+" ";return t},t.prototype.getStyles=function(){return this.style},t.prototype.getStyleString=function(){return JSON.stringify(this.style)},t}();e.Css=o;var i=function(){function t(t,e){this.min=t,this.max=e}return t.prototype.setMin=function(t){return this.min=t,this},t.prototype.getMin=function(){return this.min},t.prototype.setMax=function(t){return this.max=t,this},t.prototype.getMax=function(){return this.max},t}();e.Range=i},function(t,e,n){"use strict";function r(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function o(t){return function(e,n){return r(t(e),n)}}function i(t){return t||(t=r),1===t.length&&(t=o(t)),{left:function(e,n,r,o){for(null==r&&(r=0),null==o&&(o=e.length);r<o;){var i=r+o>>>1;t(e[i],n)<0?r=i+1:o=i}return r},right:function(e,n,r,o){for(null==r&&(r=0),null==o&&(o=e.length);r<o;){var i=r+o>>>1;t(e[i],n)>0?o=i:r=i+1}return r}}}Object.defineProperty(e,"__esModule",{value:!0}),e.getSelectionName=function(t){return"number"==typeof t?"n"+t:t?(t.length>0&&!isNaN(Number(t[0]))&&(t="z"+t),t=t.replace(/[\*\%\#\[\]\/\>\<\s\+\(\)\;\@\:\?\"=.,]/g,"-")):""},e.removeFromList=function(t,e){if(t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},e.bisect=i,e.bucketData=function(t,e,n){for(var r=i().right,o=[],a=0;a<e.length-1;++a)o[a]=[];var s=e[0],u=e[e.length-1],c=e.slice(1);for(a=0;a<t.length;++a){var l=n(t[a]);if(!(l<s||l>u))o[r(c,l)].push(t[a])}var h={};for(a=0;a<e.length-1;++a){h[e[a]+"-"+e[a+1]]=o[a]}return h},e.copy=function(t){var e={};for(var n in t)e[n]=t[n];return e},e.merge=function(t,e){for(var n in e)t[n]=e[n]},e.convertTraceToTrees=function(t){for(var e=[],n=[],r=[],o=0;o<t.length;o++){for(var i=t[o],a=n[n.length-1];n.length&&i.x>a.x+a.dx;)--n.length,--r.length,a=n[n.length-1];var s=r[r.length-1],u={key:i.key,value:i.dx,children:[],parent:s};i.name&&(u.name=i.name),s?s.children.push(u):e.push(u),n.push(i),r.push(u)}return e};var a=function(){function t(t){this._data=t||[]}return t.prototype.push=function(t){this._data.push(t)},t.prototype.get=function(t){return this._data[t]},t.prototype.length=function(){return this._data.length},t.prototype.getData=function(){return this._data},t}();e.SimpleBuffer=a;var s=function(){function t(t){this._data=new Array(t),this._startIdx=0,this._count=0,this._isRotating=!1}return t.prototype.push=function(t){this._isRotating?(this._data[this._startIdx]=t,++this._startIdx,this._startIdx===this._count&&(this._startIdx=0),this._isRotating=!0):this._count===this._data.length-1?(this._data[this._count]=t,++this._count,this._isRotating=!0):(this._data[this._count]=t,++this._count)},t.prototype.get=function(t){return this._isRotating&&(t+=this._startIdx)>=this._count&&(t-=this._count),this._data[t]},t.prototype.length=function(){return this._count},t.prototype.getData=function(){if(this._isRotating){for(var t=[],e=this._startIdx;e<this._data.length;++e)t.push(this._data[e]);for(e=0;e<this._startIdx;++e)t.push(this._data[e]);return t}return this._data},t}();e.RingBuffer=s,e.bisectBuffer=function(t){return t||(t=r),1===t.length&&(t=o(t)),{left:function(e,n,r,o){for(null==r&&(r=0),null==o&&(o=e.length());r<o;){var i=r+o>>>1;t(e.get(i),n)<0?r=i+1:o=i}return r},right:function(e,n,r,o){for(null==r&&(r=0),null==o&&(o=e.length());r<o;){var i=r+o>>>1;t(e.get(i),n)>0?o=i:r=i+1}return r}}},e.transposeKeys=function(t){var e={};function n(t,r,o,i){for(var a=[],s=0;s<r.length;++s)a[s]=r[s];if(a.push(o.key),Array.isArray(o.data))for(s=0;s<o.data.length;++s)n(t,a,o.data[s],i+1);else for(var u=t,c=a.length-1;c>=0;--c){var l=a[c],h=void 0;e.hasOwnProperty(l)?h=e[l]:(h=u.length,e[l]=h),u[h]||(u[h]={key:l,data:[]}),0===c?u[h].data=o.data:u=u[h].data}}for(var r=[],o=0;o<t.length;++o)n(r,[],t[o],0);return r},e.runFunctionOnLeaf=function t(e,n){if(e&&e.children&&e.children.length>0)for(var r=0;r<e.children.length;++r)t(e.children[r],n);else n(e)},e.isOverlapping=function(t,e){return t.x<=e.right&&t.right>=e.x&&t.y<=e.bottom&&t.bottom>=e.y}},function(e,n){e.exports=t},function(t,e,n){var r;try{r={cloneDeep:n(267),constant:n(81),defaults:n(268),each:n(111),filter:n(114),find:n(269),flatten:n(141),forEach:n(112),forIn:n(274),has:n(125),isUndefined:n(126),last:n(275),map:n(127),mapValues:n(276),max:n(277),merge:n(279),min:n(285),minBy:n(286),now:n(287),pick:n(288),range:n(293),reduce:n(129),sortBy:n(296),uniqueId:n(301),values:n(134),zipObject:n(302)}}catch(t){}r||(r=window._),t.exports=r},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),a=n(1),s=n(13),u=n(42),c=n(91),l=n(7),h=n(3);function f(t,e,n){var r,o=t.attr("style"),i=t.style("fill");i&&"none"!==i&&(r=u.SelectionHelper.getHoverColor(i),t.style("fill",r)),o&&e.set(t.node(),i),(i=t.style("stroke"))&&"none"!==i&&(r=u.SelectionHelper.getHoverColor(i),t.style("stroke",r)),o&&n.set(t.node(),i),t.classed("hover",!0)}function d(t,e,n){t.style("fill",e.get(t.node())),t.style("stroke",n.get(t.node())),t.classed("hover",!1)}function p(t,e,n){if(t.getScreenCTM&&t.getScreenCTM()){var r=t.getScreenCTM().inverse();return n.matrixTransform(r)}return{x:n.x,y:n.y}}function g(t,e){var n=e.node().getBoundingClientRect(),r=t.node(),o=(e.node(),r.createSVGPoint());o.x=n.left,o.y=n.top;var i=p(r,0,o);o.x=n.right,o.y=n.bottom;var a=p(r,0,o);return{x:i.x,y:i.y,width:a.x-i.x,height:a.y-i.y,right:a.x,bottom:a.y}}e.getStyle=function(t){var e=t.node();return window.getComputedStyle(e)},e.mergeKeys=function(t,e){for(var n={},r=0;r<t.length;++r)n[t[r]]=!0;for(r=0;r<e.length;++r)n.hasOwnProperty(e[r])||t.push(e[r])},e.getKeys=function(t,e){for(var n={},r=[],o=0;o<t.length;++o)for(var i=e(t[o]),a=0;a<i.length;++a)"string"!=typeof i[a]&&"number"!=typeof i[a]||n.hasOwnProperty(i[a])||(n[i[a]]=!0,r.push(i[a]));return r},e.addHover=f,e.removeHover=d,e.addClickHelper=function(t,e,n,r,o,i,u){var c;e&&t.on("click",(function(t){void 0!==u&&(t=u),n?c=setTimeout((function(){c&&(e({caller:i,event:a.EventType.Click,data:t}),c=null)}),300):e({caller:i,event:a.EventType.Click,data:t})})),n&&t.on("dblclick",(function(t){void 0!==u&&(t=u),window.clearTimeout(c),c=null,n({caller:i,event:a.EventType.DoubleClick,data:t})})),r&&r.length&&t.on("contextmenu",(function(t){event||(event=h.event),s.showContextMenu(h.event,t,r)}))},e.convertToSVGCoords=g,e.getTextRect=function(t,e){var n=t.append("text").text(e),r=g(t,n);return n.remove(),r},e.animatePath=function(t,e){var n=t.node().getTotalLength();t.attr("stroke-dasharray",n).attr("stroke-dashoffset",n).transition("add").duration(e).attr("stroke-dashoffset",0)};var v=function(){function t(){}return t.getAngle=function(t,e){return 180*Math.atan2(e.y-t.y,e.x-t.x)/Math.PI},t.translateArrow=function(e){return function(n,r,o){return function(n){var r=e.getTotalLength(),o=e.getPointAtLength(n*r),i=e.getPointAtLength(Math.max(r-.01,0)*n),a=e.getPointAtLength((r+.01)*n);return"translate("+o.x+", "+o.y+") rotate( "+t.getAngle(i,a)+")"}}},t.createArrow=function(t,e){void 0===e&&(e=4);var n=2*e;return t.append("path").attr("d","M -"+n+", -"+e+" L0,0 L-"+n+","+e+" z")},t.animateArrow=function(e,n,r){n.transition().duration(r).attrTween("transform",t.translateArrow(e.node()))},t}();e.Arrow=v;var y=function(t,e){var n=this,r=Math.min(e.width,e.height)/2,o=2*Math.PI;n._svg=t;var i=h.arc().innerRadius(.5*r).outerRadius(.9*r).startAngle(0);n._svg.append("path").classed("spinner",!0).datum({endAngle:.66*o}).style("fill","rgb(0,113,197)").attr("d",i).call((function t(e,r){e.transition().ease(h.easeLinear).duration(r).attrTween("transform",(function(){return h.interpolateString("rotate(0)","rotate(360)")})),setTimeout((function(){n._svg&&t(e,r)}),r)}),1500)};e.Spinner=y;var m=function(){function t(){var t=this;t._isXY=!1,this.onBrushStart=function(e){if(t._onStartCallback){var n=h.brushSelection(this);t._onStartCallback.call(this,n)}},this.onBrushMove=function(e){if(t._onMoveCallback){var n=h.brushSelection(this);t._onMoveCallback.call(this,n)}},this.onBrushEnd=function(e){if(t._onEndCallback){var n=h.brushSelection(this);t._onEndCallback.call(this,n)}}}return t.prototype.moveToFront=function(){this._brushTargetGraph.each((function(){this.parentNode.appendChild(this)}))},t.prototype.moveToBack=function(){this._brushTargetGraph.each((function(){var t=this.parentNode.firstChild;t&&this.parentNode.insertBefore(this,t)}))},t.prototype.enableCallbacks=function(){return this._brush.on("start",this.onBrushStart).on("brush",this.onBrushMove).on("end",this.onBrushEnd),this},t.prototype.disableCallbacks=function(){return this._brush.on("start",void 0).on("brush",void 0).on("end",void 0),this},t.prototype.brushStart=function(t){this._brushTargetGraph.call(this._brush.move,null)},t.prototype.brushMove=function(t){this._brushTargetGraph.call(this._brush.move,t)},t.prototype.brushEnd=function(){this._brushTargetGraph.call(this._brush.move,null)},t.prototype.setXY=function(t){return this._isXY=t,this},t.prototype.setTarget=function(t){return this._brushTargetGraph=t,this},t.prototype.setStartCallback=function(t){return this._onStartCallback=t,this},t.prototype.setMoveCallback=function(t){return this._onMoveCallback=t,this},t.prototype.setEndCallback=function(t){return this._onEndCallback=t,this},t.prototype.setRect=function(t){return this._rect=t,this},t.prototype.ready=function(){return this._isXY?this._brush=h.brush().on("start",this.onBrushStart).on("brush",this.onBrushMove).on("end",this.onBrushEnd):this._brush=h.brushX().extent([[0,0],[this._rect.width,this._rect.height]]).on("start",this.onBrushStart).on("brush",this.onBrushMove).on("end",this.onBrushEnd),this._brushTargetGraph.call(this._brush),this},t.releaseListeners=function(t){t.on("brush",null).on("brushend",null).on("brushstart",null)},t}();e.Brush=m;var _=function(){function t(t,e,n,r){if(this._title=n||"",this._legend=e,this._itemMap={},this._items=[],e.definition){for(var o=[],i=0;i<e.definition.items.length;++i){var s=e.definition.items[i];o.push({key:s.key,name:s.name?s.name:s.key,color:s.color,shape:this.getShapeString(s.shape),opacity:""})}this.addItems(o)}var u="ordinal";this._legend.definition&&this._legend.definition.type===a.LegendType.Gradient&&(u="gradient"),this._classes="legend "+u+" "+this._title+" align-"+this._legend.alignment,this._legendSvg=t.append("g").classed(this._classes,!0),this.setPosition(r)}return t.prototype.getShapeString=function(t){if("string"==typeof t)return t;switch(t){case a.LegendItemShape.Rectangle:return"rect";case a.LegendItemShape.Line:return"line";case a.LegendItemShape.Circle:return"circle"}},t.prototype.setPosition=function(t){this._position=t},t.prototype.getPosition=function(){return this._position},t.prototype.setItems=function(t){this._items=[],this._itemMap={},this.addItems(t)},t.prototype.addItems=function(t){for(var e=0;e<t.length;++e){var n=t[e];this._itemMap.hasOwnProperty(n.key)?(this._itemMap[n.key].color=n.color,this._itemMap[n.key].opacity=n.opacity):(n.name||(n.name=n.key,this._legend.showValue&&void 0!==n.value&&(n.name+=": "+n.value,void 0!==n.units&&(n.name+=n.units))),this._itemMap[n.key]=n,this._items.push(n))}},t.prototype.getAlignment=function(){return this._legend.alignment},t.prototype.getRenderedRect=function(){return this._renderedRect},t.prototype.getRows=function(){return this._legend.orientation===a.LegendOrientation.Vertical?this._items.length:this._legendSvg.selectAll(".legendCells").size()},t.prototype.renderDiscreteLegend=function(t){for(var e=[],n=[],r=0;r<this._items.length;++r){this._items[r].name;var o=this._items[r].color,i=this._items[r].opacity;i&&o.startsWith("rgb")&&(o="rgba"+o.substr(3,o.length-4)+" , "+i+")"),e.push(this._items[r].name),n.push(o)}var u=2,l=0,f=this,d=function(e,n,r){var o=h.scaleOrdinal().domain(n).range(r),i=c.legendColor();i.on("cellover",(function(t){this.setAttribute("title",t)})).orient(t).labelPosition("right").shape("rect").shapeWidth(10).shapeHeight(10).shapePadding(u).scale(o),f._legend.onClick&&i.on("cellclick",(function(t){f._legend.onClick({event:a.EventType.Click,data:t})})),f._legend.contextMenuItems&&i.on("cellcontextmenu",(function(t){s.showContextMenu(h.event,t,f._legend.contextMenuItems)})),e.call(i)};d(this._legendSvg,e,n);var p=this._position.x;if((this._legend.alignment===a.Alignment.Top||this._legend.alignment===a.Alignment.Bottom)&&this._legend.orientation!==a.LegendOrientation.Vertical){u=0;this._legendSvg.select(".legendCells").selectAll(".cell").each((function(){var t=this.getBBox();u=Math.max(u,t.width)}));l=u+10,this._legendSvg.selectAll("*").remove();var g=Math.max(1,Math.min(e.length,Math.floor(this._position.width/l)));Math.ceil(e.length/g),p=this._position.x+this._position.width/2-l*g/2;var v=0;for(r=0;r<e.length;r+=g){var y=this._legendSvg.append("g").classed(this._classes,!0);d(y,e.slice(r,r+g),n.slice(r,r+g)),v&&y.attr("transform","translate(0,"+v+")"),v+=y.node().getBoundingClientRect().height}}p=Math.max(0,p),this._legendSvg.attr("transform","translate("+p+","+this._position.y+")")},t.prototype.renderGradientLegend=function(){this._legendSvg.selectAll("*").remove();var t=this._legend.definition.items,e=i.getSelectionName(this._title+"align-"+this._legend.alignment),n=this._legendSvg.append("linearGradient").attr("id",e).attr("x1","0%").attr("y1","0%");t.forEach((function(t){n.append("stop").attr("offset",t.key+"%").attr("style","stop-color:"+t.color+";stop-opacity:"+t.opacity)}));var r,o=h.scaleLinear().domain(h.extent(t,(function(t){return Number(t.key)}))),s=this._legendSvg.append("rect"),u=this._legendSvg.append("g");switch(this._legend.alignment){case a.Alignment.Left:n.attr("x2","0%").attr("y2","100%"),s.attr("x",30).attr("width",40).attr("y",0).attr("height",this._position.height),o.range([0,this._position.height]),u.attr("transform","translate(30, 0)"),r=h.axisLeft(o);break;case a.Alignment.Right:n.attr("x2","0%").attr("y2","100%"),s.attr("x",5).attr("width",40).attr("y",0).attr("height",this._position.height),o.range([0,this._position.height]),u.attr("transform","translate(45, 0)"),r=h.axisRight(o);break;case a.Alignment.Top:n.attr("x2","100%").attr("y2","0%"),s.attr("x",0).attr("width",this._position.width).attr("y",10).attr("height",40),o.range([0,this._position.width]),u.attr("transform","translate(0, 10)"),r=h.axisTop(o);break;case a.Alignment.Bottom:n.attr("x2","100%").attr("y2","0%"),s.attr("x",0).attr("width",this._position.width).attr("y",5).attr("height",40),o.range([0,this._position.width]),u.attr("transform","translate(0, 45)"),r=h.axisBottom(o)}s.attr("fill","url(#"+e+")"),u.call(r),this._legendSvg.attr("transform","translate("+this._position.x+","+this._position.y+")")},t.prototype.render=function(){var t;if(t=this._legend.orientation===a.LegendOrientation.Vertical?"vertical":this._legend.orientation===a.LegendOrientation.Horizontal?"horizontal":this._legend.alignment===a.Alignment.Left||this._legend.alignment===a.Alignment.Right?"vertical":"horizontal",this._legendSvg.selectAll("*").remove(),this._legend.definition&&this._legend.definition.type&&this._legend.definition.type===a.LegendType.Gradient){this.renderGradientLegend();var e=this._legendSvg.node().getBoundingClientRect();this._renderedRect=new a.Rect(e.left,e.top,e.right-e.left+40,e.bottom-e.top)}else{this.renderDiscreteLegend(t);e=this._legendSvg.node().getBoundingClientRect();this._renderedRect=new a.Rect(e.left,e.top,e.right-e.left,e.bottom-e.top)}},t}();e.D3Legend=_;var x=function(t){function e(){var e=t.call(this)||this;e.MIN_MARGIN={TOP:0,BOTTOM:10,LEFT:0,RIGHT:10},e.LEGEND_PADDING={X:10,Y:{TOP:10,BOTTOM:10}},e.AXIS_PADDING={X:10,Y:{TOP:10,BOTTOM:10}},e._fillColors=new WeakMap,e._strokeColors=new WeakMap;var n=e;return e._options={},e._minSvgWidth=0,e._maxGraphWidth=Number.MAX_VALUE,e._maxSvgWidth=Number.MAX_VALUE,e._selectionHelper=new u.SelectionHelper((function(t){n.addHover(t)}),(function(t){n.removeHover(t)})),e}return o(e,t),e.prototype.cursorChange=function(t){},e.prototype.zoom=function(t){},e.prototype.brush=function(t){},e.prototype.render=function(t){},e.prototype.configureTooltip=function(){},e.prototype.createLayout=function(){},e.prototype.setColorManager=function(t){this._colorMgr=t},e.prototype.initialize=function(t,e,n){this._element=t,this._renderer=e,this._tooltipId="d3-tooltip",this._tooltipAnalyticsName="d3-ui-widget-toolkit",this._parent=n;var r=n.node();r&&(this._options.width||(this._options.width=r.getBoundingClientRect().width),this._svgRect=new a.Rect(0,0,this._options.width,0),this._svg=n.append("svg")),this._handleWidth=10,this._graphRect=new a.Rect(0,0,0,this.DEFAULT_GRAPH_HEIGHT),this._requiresRelayout=!0},e.prototype.loadOptions=function(t){void 0!==t&&(t.width&&t.width!==this._options.width&&(this._requiresRelayout=!0),t.height&&t.height!==this._options.height&&(this._requiresRelayout=!0),t.topMargin&&t.topMargin!==this._options.topMargin&&(this._requiresRelayout=!0),t.bottomMargin&&t.bottomMargin!==this._options.bottomMargin&&(this._requiresRelayout=!0),t.leftMargin&&t.leftMargin!==this._options.leftMargin&&(this._requiresRelayout=!0),t.rightMargin&&t.rightMargin!==this._options.rightMargin&&(this._requiresRelayout=!0),i.merge(this._options,t))},e.prototype.getElement=function(){return this._element},e.prototype.getOptions=function(){return this._options},e.prototype.getAnimateDuration=function(){return void 0!==this._options.animateDuration?this._options.animateDuration:1e3},e.prototype.getRenderedCss=function(){return new a.Css},e.prototype.getTooltipData=function(t){return[{source:this._element,group:"",metrics:{}}]},e.prototype.hover=function(t){this._selectionHelper.onSelect(t)},e.prototype.addHover=function(t){var e=this;t&&e._svg.selectAll("."+t).each((function(){f(h.select(this),e._fillColors,e._strokeColors)}))},e.prototype.removeHover=function(t){var e=this;t.length>0&&e._svg.selectAll("."+t).each((function(){d(h.select(this),e._fillColors,e._strokeColors)}))},e.prototype.invalidate=function(t){this.loadOptions(t),this.createLayout(),t.disableResize||this.createHandles(),this.configureTooltip(),this.render(t),this._selectionHelper.onRedraw()},e.prototype.updateHandles=function(){this._svg.select(".chart-handle.bottom").attr("x",this._graphRect.x).attr("y",this._graphRect.y+this._graphRect.height).attr("width",this._graphRect.width),this._svg.select(".chart-handle.left").attr("x",this._graphRect.x-this._handleWidth-1).attr("y",this._graphRect.y).attr("height",this._graphRect.height),this._svg.select(".chart-handle.right").attr("x",this._graphRect.x+this._graphRect.width+1).attr("y",this._graphRect.y).attr("height",this._graphRect.height)},e.prototype.createHandles=function(){var t=this;t._options.disableResizeLeft||t._svg.append("rect").attr("opacity",0).attr("width",t._handleWidth).attr("cursor","ew-resize").classed("chart-handle vertical left",!0).call(h.drag().on("start",(function(){e.IS_RESIZING=!0})).on("drag",(function(){if(0!==h.event.dx){var e=Math.min(t._options.leftMargin+t._graphRect.width,Math.max(t.MIN_MARGIN.LEFT,t._options.leftMargin+h.event.dx)),n={width:t._svg.node().getBoundingClientRect().width,leftMargin:e,xStart:t._options.xStart,xEnd:t._options.xEnd,animateDuration:0};t._element.handleUpdate?t._element.handleUpdate(t._element,n):t.render(n)}})).on("end",(function(){e.IS_RESIZING=!1}))),t._options.disableResizeRight||t._svg.append("rect").attr("opacity",0).attr("width",t._handleWidth).attr("cursor","ew-resize").classed("chart-handle vertical right",!0).call(h.drag().on("start",(function(){e.IS_RESIZING=!0})).on("drag",(function(){if(0!==h.event.dx){t._svg.node();var e=t._options.width+h.event.dx;e=Math.max(t._minSvgWidth,e);var n={width:e=Math.min(t._maxSvgWidth,e),xStart:t._options.xStart,xEnd:t._options.xEnd,animateDuration:0};t._element.handleUpdate?t._element.handleUpdate(t._element,n):t.render(n)}})).on("end",(function(){e.IS_RESIZING=!1})))},e.prototype.createImage=function(){var t=this;return new Promise((function(e,n){var r=t._svg,o=Number(r.attr("width")),i=Number(r.attr("height")),a=function(t){t.setAttribute("xlink","http://www.w3.org/1999/xlink"),function(t,e){var n=document.createElement("style");n.setAttribute("type","text/css"),n.innerHTML=t;var r=e.hasChildNodes()?e.children[0]:null;e.insertBefore(n,r)}(function(t){var e=[];e.push("#"+t.id);for(var n=0;n<t.classList.length;n++)h("."+t.classList[n],e)||e.push("."+t.classList[n]);for(var r=t.getElementsByTagName("*"),o=0;o<r.length;o++){var i=r[o].id;h("#"+i,e)||e.push("#"+i);var a=r[o].classList;for(n=0;n<a.length;n++)h("."+a[n],e)||e.push("."+a[n])}var s="";for(o=0;o<document.styleSheets.length;o++){var u=document.styleSheets[o];try{if(!u.cssRules)continue}catch(t){if("SecurityError"!==t.name)throw t;continue}for(var c=u.cssRules,l=0;l<c.length;l++)h(c[l].selectorText,e)&&(s+=c[l].cssText)}return s;function h(t,e){return-1!==e.indexOf(t)}}(t),t);var e=(new XMLSerializer).serializeToString(t);return e=(e=e.replace(/(\w+)?:?xlink=/g,"xmlns:xlink=")).replace(/NS\d+:href/g,"xlink:href")}(r.node()),s="data:image/svg+xml;base64,"+btoa(a),u=new Image;u.src=s,u.onload=function(){var t=document.createElement("canvas");t.height=i,t.width=o,t.getContext("2d").drawImage(u,0,0,o,i);var n=t.toDataURL("image/png");e({image:n,type:"image/png",height:i,width:o})}}))},e.prototype.saveImage=function(){this.createImage().then((function(t){var e='<img src="'+t.image+'" height="'+t.height+'" width="'+t.width+'">';h.select("#pngdataurl").html(e);var n=document.createElement("a");n.download="chart.png",n.href=t.image,n.click()}))},e}(l.UIElementRenderer);e.SVGRenderer=x},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(1),i=n(18),a=n(3),s={};"undefined"!=typeof document&&(r=document.createElement("canvas").getContext("2d")),e.getTextWidth=function(t,e,n){return r.font=n+"px "+e,r.measureText(t).width};var u=function(){function t(){}return t.prototype.getOptions=function(){return this._options},t.prototype.getColorManager=function(){return this._colorMgr},t.prototype.setColorManager=function(t){this._colorMgr=t},t}();e.UIElementRenderer=u;var c=function(){function t(t,e){void 0===e&&(e=new i.ColorManager),t&&(this._parentId=t,this._parent=a.select("body").select(t)),e&&(this._colorMgr=e),this._rendererMap=new WeakMap}return t.register=function(t,e){s[t]=e},t.prototype.setOnRenderCallback=function(t){this.onRender=t},t.prototype.clearDiv=function(t){if(t)for(;t.firstChild;)t.removeChild(t.firstChild)},t.prototype.setDiv=function(t){this._parent=a.select(t)},t.prototype.getRenderedCss=function(t){return this._rendererMap.has(t)?this._rendererMap.get(t).getRenderedCss():new o.Css},t.prototype.hover=function(t,e){if(this._rendererMap.has(t))return this._rendererMap.get(t).hover(e)},t.prototype.zoom=function(t,e){this._rendererMap.has(t)&&this._rendererMap.get(t).zoom(e)},t.prototype.getTooltipData=function(t,e){return this._rendererMap.has(t)?this._rendererMap.get(t).getTooltipData(e):[{source:t,group:"",metrics:{}}]},t.prototype.cursorChange=function(t,e){if(this._rendererMap.has(t))return this._rendererMap.get(t).cursorChange(e)},t.prototype.brush=function(t,e){if(this._rendererMap.has(t))return this._rendererMap.get(t).brush(e)},t.prototype.configureElement=function(t){if(t.renderer=this,!this._rendererMap.has(t)){this._parent.node()||(this._parent=a.select(this._parentId));var e=s[t.type];if(e){var n=new e(t,this,this._parent);n.setColorManager(this._colorMgr),this._rendererMap.set(t,n)}}},t.prototype.render=function(t,e){void 0===e&&(e={});t.renderer=this,this.configureElement(t),this._rendererMap.has(t)&&(this._rendererMap.get(t).render(e),t.onRender&&t.onRender(e),this.onRender&&this.onRender(t,e))},t.prototype.invalidate=function(t,e){void 0===e&&(e={});t.renderer=this,this.configureElement(t),this._rendererMap.has(t)&&(this._rendererMap.get(t).invalidate(e),t.onRender&&t.onRender(e),this.onRender&&this.onRender(t,e))},t.prototype.setColorManager=function(t){this._colorMgr=t},t.prototype.getColorManager=function(){return this._colorMgr},t.prototype.destroy=function(t){this._rendererMap.delete(t)},t.prototype.getOptions=function(t){if(this._rendererMap.has(t))return this._rendererMap.get(t).getOptions()},t}();e.D3Renderer=c,e.D3ChartRenderer=c,e.D3GraphRenderer=c},function(t,e,n){"use strict";var r=n(4),o=n(14).Graph;function i(t,e,n,o){var i;do{i=r.uniqueId(o)}while(t.hasNode(i));return n.dummy=e,t.setNode(i,n),i}function a(t){return r.max(r.map(t.nodes(),(function(e){var n=t.node(e).rank;if(!r.isUndefined(n))return n})))}t.exports={addDummyNode:i,simplify:function(t){var e=(new o).setGraph(t.graph());return r.forEach(t.nodes(),(function(n){e.setNode(n,t.node(n))})),r.forEach(t.edges(),(function(n){var r=e.edge(n.v,n.w)||{weight:0,minlen:1},o=t.edge(n);e.setEdge(n.v,n.w,{weight:r.weight+o.weight,minlen:Math.max(r.minlen,o.minlen)})})),e},asNonCompoundGraph:function(t){var e=new o({multigraph:t.isMultigraph()}).setGraph(t.graph());return r.forEach(t.nodes(),(function(n){t.children(n).length||e.setNode(n,t.node(n))})),r.forEach(t.edges(),(function(n){e.setEdge(n,t.edge(n))})),e},successorWeights:function(t){var e=r.map(t.nodes(),(function(e){var n={};return r.forEach(t.outEdges(e),(function(e){n[e.w]=(n[e.w]||0)+t.edge(e).weight})),n}));return r.zipObject(t.nodes(),e)},predecessorWeights:function(t){var e=r.map(t.nodes(),(function(e){var n={};return r.forEach(t.inEdges(e),(function(e){n[e.v]=(n[e.v]||0)+t.edge(e).weight})),n}));return r.zipObject(t.nodes(),e)},intersectRect:function(t,e){var n,r,o=t.x,i=t.y,a=e.x-o,s=e.y-i,u=t.width/2,c=t.height/2;if(!a&&!s)throw new Error("Not possible to find intersection inside of the rectangle");Math.abs(s)*u>Math.abs(a)*c?(s<0&&(c=-c),n=c*a/s,r=c):(a<0&&(u=-u),n=u,r=u*s/a);return{x:o+n,y:i+r}},buildLayerMatrix:function(t){var e=r.map(r.range(a(t)+1),(function(){return[]}));return r.forEach(t.nodes(),(function(n){var o=t.node(n),i=o.rank;r.isUndefined(i)||(e[i][o.order]=n)})),e},normalizeRanks:function(t){var e=r.min(r.map(t.nodes(),(function(e){return t.node(e).rank})));r.forEach(t.nodes(),(function(n){var o=t.node(n);r.has(o,"rank")&&(o.rank-=e)}))},removeEmptyRanks:function(t){var e=r.min(r.map(t.nodes(),(function(e){return t.node(e).rank}))),n=[];r.forEach(t.nodes(),(function(r){var o=t.node(r).rank-e;n[o]||(n[o]=[]),n[o].push(r)}));var o=0,i=t.graph().nodeRankFactor;r.forEach(n,(function(e,n){r.isUndefined(e)&&n%i!=0?--o:o&&r.forEach(e,(function(e){t.node(e).rank+=o}))}))},addBorderNode:function(t,e,n,r){var o={width:0,height:0};arguments.length>=4&&(o.rank=n,o.order=r);return i(t,"border",o,e)},maxRank:a,partition:function(t,e){var n={lhs:[],rhs:[]};return r.forEach(t,(function(t){e(t)?n.lhs.push(t):n.rhs.push(t)})),n},time:function(t,e){var n=r.now();try{return e()}finally{console.log(t+" time: "+(r.now()-n)+"ms")}},notime:function(t,e){return e()}}},,function(t,e,n){var r;try{r={clone:n(155),constant:n(81),each:n(111),filter:n(114),has:n(125),isArray:n(6),isEmpty:n(231),isFunction:n(44),isUndefined:n(126),keys:n(24),map:n(127),reduce:n(129),size:n(234),transform:n(240),union:n(241),values:n(134)}}catch(t){}r||(r=window._),t.exports=r},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},,function(t,e,n){"use strict";function r(t,e,n,a,s){var u;if((u=document.createElement("div")).setAttribute("class","context-menu"),u.oncontextmenu=function(t){i(),t.preventDefault()},document.body.appendChild(u),n.length>0){var c=document.createElement("ul");u.appendChild(c);for(var l=function(a){var u=n[a],l=document.createElement("li");u.divider?(l.className+=" is-divider",l.innerHTML="<hr>"):(u.title||console.error("No title attribute set. Check the spelling of your options."),u.disabled&&(l.className+=" is-disabled"),u.action||u.submenu||(l.className+=" is-header"),u.submenu?l.innerHTML="<span><text>"+u.title+'</text><text style="width: 5px; float: right">&#9658</text></span>':l.innerHTML=u.title,l.onclick=function(t){u.disabled||u.action&&(u.action(l,e,a),i())},l.onmouseenter=function(){if(o(n),u.submenu){var i=l.getBoundingClientRect(),a={top:i.top+window.scrollY,bottom:i.bottom+window.scrollY,left:i.left+window.scrollX,right:i.right+window.scrollX,height:i.height,width:i.width};u.submenuDiv=r(t,e,u.submenu,a,s)}}),c.appendChild(l)},h=0;h<n.length;++h)l(h);u.style.display="block",function(t,e){var n=document.body.clientWidth,r=document.body.clientHeight,o=e.left,i=e.top;o=e.right+t.clientWidth<n?e.right:e.left-t.clientWidth,e.top+t.clientHeight>r&&(i=e.top-t.clientHeight),t.style.left=o-2+"px",t.style.top=i-2+"px"}(u,a),s||t.stopPropagation()}return u}function o(t){t.forEach((function(t,e,n){!function(t){t.submenuDiv&&(document.body.removeChild(t.submenuDiv),delete t.submenuDiv),t.submenu&&o(t.submenu)}(t)}))}function i(){o(a);for(var t=document.getElementsByClassName("context-menu");t.length;)document.body.removeChild(t[0])}Object.defineProperty(e,"__esModule",{value:!0});var a=[];e.showContextMenu=function(t,e,n,o){void 0===o&&(o=!1),t&&(window.onkeyup=function(t){27===t.keyCode&&i()},i(),a=n,r(t,e,n,{left:t.pageX,top:t.pageY,right:t.pageX,bottom:t.pageY,height:0,width:0},o),t.preventDefault())}},function(t,e,n){var r;try{r=n(153)}catch(t){}r||(r=window.graphlib),t.exports=r},function(t,e,n){var r=n(94),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();t.exports=i},function(t,e,n){"use strict";var r=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function o(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function i(){}var a="\\s*([+-]?\\d+)\\s*",s="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",u="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",c=/^#([0-9a-f]{3})$/,l=/^#([0-9a-f]{6})$/,h=new RegExp("^rgb\\("+[a,a,a]+"\\)$"),f=new RegExp("^rgb\\("+[u,u,u]+"\\)$"),d=new RegExp("^rgba\\("+[a,a,a,s]+"\\)$"),p=new RegExp("^rgba\\("+[u,u,u,s]+"\\)$"),g=new RegExp("^hsl\\("+[s,u,u]+"\\)$"),v=new RegExp("^hsla\\("+[s,u,u,s]+"\\)$"),y={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function m(t){var e;return t=(t+"").trim().toLowerCase(),(e=c.exec(t))?new k((e=parseInt(e[1],16))>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):(e=l.exec(t))?_(parseInt(e[1],16)):(e=h.exec(t))?new k(e[1],e[2],e[3],1):(e=f.exec(t))?new k(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=d.exec(t))?x(e[1],e[2],e[3],e[4]):(e=p.exec(t))?x(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=g.exec(t))?C(e[1],e[2]/100,e[3]/100,1):(e=v.exec(t))?C(e[1],e[2]/100,e[3]/100,e[4]):y.hasOwnProperty(t)?_(y[t]):"transparent"===t?new k(NaN,NaN,NaN,0):null}function _(t){return new k(t>>16&255,t>>8&255,255&t,1)}function x(t,e,n,r){return r<=0&&(t=e=n=NaN),new k(t,e,n,r)}function b(t){return t instanceof i||(t=m(t)),t?new k((t=t.rgb()).r,t.g,t.b,t.opacity):new k}function w(t,e,n,r){return 1===arguments.length?b(t):new k(t,e,n,null==r?1:r)}function k(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function M(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function C(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new S(t,e,n,r)}function T(t){if(t instanceof S)return new S(t.h,t.s,t.l,t.opacity);if(t instanceof i||(t=m(t)),!t)return new S;if(t instanceof S)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,o=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,u=a-o,c=(a+o)/2;return u?(s=e===a?(n-r)/u+6*(n<r):n===a?(r-e)/u+2:(e-n)/u+4,u/=c<.5?a+o:2-a-o,s*=60):u=c>0&&c<1?0:s,new S(s,u,c,t.opacity)}function E(t,e,n,r){return 1===arguments.length?T(t):new S(t,e,n,null==r?1:r)}function S(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function A(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}r(i,m,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),r(k,w,o(i,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new k(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new k(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+M(this.r)+M(this.g)+M(this.b)},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),r(S,E,o(i,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new S(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new S(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,o=2*n-r;return new k(A(t>=240?t-240:t+120,o,r),A(t,o,r),A(t<120?t+240:t-120,o,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var N=Math.PI/180,L=180/Math.PI,O=6/29,P=3*O*O;function j(t){if(t instanceof I)return new I(t.l,t.a,t.b,t.opacity);if(t instanceof U){if(isNaN(t.h))return new I(t.l,0,0,t.opacity);var e=t.h*N;return new I(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof k||(t=b(t));var n,r,o=G(t.r),i=G(t.g),a=G(t.b),s=R((.2225045*o+.7168786*i+.0606169*a)/1);return o===i&&i===a?n=r=s:(n=R((.4360747*o+.3850649*i+.1430804*a)/.96422),r=R((.0139322*o+.0971045*i+.7141733*a)/.82521)),new I(116*s-16,500*(n-s),200*(s-r),t.opacity)}function D(t,e,n,r){return 1===arguments.length?j(t):new I(t,e,n,null==r?1:r)}function I(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function R(t){return t>.008856451679035631?Math.pow(t,1/3):t/P+4/29}function H(t){return t>O?t*t*t:P*(t-4/29)}function F(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function G(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function B(t){if(t instanceof U)return new U(t.h,t.c,t.l,t.opacity);if(t instanceof I||(t=j(t)),0===t.a&&0===t.b)return new U(NaN,0,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*L;return new U(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function z(t,e,n,r){return 1===arguments.length?B(t):new U(t,e,n,null==r?1:r)}function U(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}r(I,D,o(i,{brighter:function(t){return new I(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new I(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new k(F(3.1338561*(e=.96422*H(e))-1.6168667*(t=1*H(t))-.4906146*(n=.82521*H(n))),F(-.9787684*e+1.9161415*t+.033454*n),F(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),r(U,z,o(i,{brighter:function(t){return new U(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new U(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return j(this).rgb()}}));var V=-.14861,Y=1.78277,W=-.29227,X=-.90649,q=1.97294,$=q*X,Z=q*Y,Q=Y*W-X*V;function J(t){if(t instanceof tt)return new tt(t.h,t.s,t.l,t.opacity);t instanceof k||(t=b(t));var e=t.r/255,n=t.g/255,r=t.b/255,o=(Q*r+$*e-Z*n)/(Q+$-Z),i=r-o,a=(q*(n-o)-W*i)/X,s=Math.sqrt(a*a+i*i)/(q*o*(1-o)),u=s?Math.atan2(a,i)*L-120:NaN;return new tt(u<0?u+360:u,s,o,t.opacity)}function K(t,e,n,r){return 1===arguments.length?J(t):new tt(t,e,n,null==r?1:r)}function tt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function et(t,e,n,r,o){var i=t*t,a=i*t;return((1-3*t+3*i-a)*e+(4-6*i+3*a)*n+(1+3*t+3*i-3*a)*r+a*o)/6}r(tt,K,o(i,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new tt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new tt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*N,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),o=Math.sin(t);return new k(255*(e+n*(V*r+Y*o)),255*(e+n*(W*r+X*o)),255*(e+n*(q*r)),this.opacity)}}));var nt=function(t){return function(){return t}};function rt(t,e){return function(n){return t+n*e}}function ot(t,e){var n=e-t;return n?rt(t,n>180||n<-180?n-360*Math.round(n/360):n):nt(isNaN(t)?e:t)}function it(t){return 1==(t=+t)?at:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):nt(isNaN(e)?n:e)}}function at(t,e){var n=e-t;return n?rt(t,n):nt(isNaN(t)?e:t)}var st=function t(e){var n=it(e);function r(t,e){var r=n((t=w(t)).r,(e=w(e)).r),o=n(t.g,e.g),i=n(t.b,e.b),a=at(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=o(e),t.b=i(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function ut(t){return function(e){var n,r,o=e.length,i=new Array(o),a=new Array(o),s=new Array(o);for(n=0;n<o;++n)r=w(e[n]),i[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return i=t(i),a=t(a),s=t(s),r.opacity=1,function(t){return r.r=i(t),r.g=a(t),r.b=s(t),r+""}}}ut((function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),o=t[r],i=t[r+1],a=r>0?t[r-1]:2*o-i,s=r<e-1?t[r+2]:2*i-o;return et((n-r/e)*e,a,o,i,s)}})),ut((function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),o=t[(r+e-1)%e],i=t[r%e],a=t[(r+1)%e],s=t[(r+2)%e];return et((n-r/e)*e,o,i,a,s)}}));var ct=function(t,e){var n,r=e?e.length:0,o=t?Math.min(r,t.length):0,i=new Array(o),a=new Array(r);for(n=0;n<o;++n)i[n]=xt(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<o;++n)a[n]=i[n](t);return a}},lt=function(t,e){var n=new Date;return e-=t=+t,function(r){return n.setTime(t+e*r),n}},ht=function(t,e){return e-=t=+t,function(n){return t+e*n}},ft=function(t,e){var n,r={},o={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=xt(t[n],e[n]):o[n]=e[n];return function(t){for(n in r)o[n]=r[n](t);return o}},dt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,pt=new RegExp(dt.source,"g");var gt,vt,yt,mt,_t=function(t,e){var n,r,o,i=dt.lastIndex=pt.lastIndex=0,a=-1,s=[],u=[];for(t+="",e+="";(n=dt.exec(t))&&(r=pt.exec(e));)(o=r.index)>i&&(o=e.slice(i,o),s[a]?s[a]+=o:s[++a]=o),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:ht(n,r)})),i=pt.lastIndex;return i<e.length&&(o=e.slice(i),s[a]?s[a]+=o:s[++a]=o),s.length<2?u[0]?function(t){return function(e){return t(e)+""}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})},xt=function(t,e){var n,r=typeof e;return null==e||"boolean"===r?nt(e):("number"===r?ht:"string"===r?(n=m(e))?(e=n,st):_t:e instanceof m?st:e instanceof Date?lt:Array.isArray(e)?ct:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?ft:ht)(t,e)},bt=function(t,e){return e-=t=+t,function(n){return Math.round(t+e*n)}},wt=180/Math.PI,kt={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Mt=function(t,e,n,r,o,i){var a,s,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:o,translateY:i,rotate:Math.atan2(e,t)*wt,skewX:Math.atan(u)*wt,scaleX:a,scaleY:s}};function Ct(t,e,n,r){function o(t){return t.length?t.pop()+" ":""}return function(i,a){var s=[],u=[];return i=t(i),a=t(a),function(t,r,o,i,a,s){if(t!==o||r!==i){var u=a.push("translate(",null,e,null,n);s.push({i:u-4,x:ht(t,o)},{i:u-2,x:ht(r,i)})}else(o||i)&&a.push("translate("+o+e+i+n)}(i.translateX,i.translateY,a.translateX,a.translateY,s,u),function(t,e,n,i){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),i.push({i:n.push(o(n)+"rotate(",null,r)-2,x:ht(t,e)})):e&&n.push(o(n)+"rotate("+e+r)}(i.rotate,a.rotate,s,u),function(t,e,n,i){t!==e?i.push({i:n.push(o(n)+"skewX(",null,r)-2,x:ht(t,e)}):e&&n.push(o(n)+"skewX("+e+r)}(i.skewX,a.skewX,s,u),function(t,e,n,r,i,a){if(t!==n||e!==r){var s=i.push(o(i)+"scale(",null,",",null,")");a.push({i:s-4,x:ht(t,n)},{i:s-2,x:ht(e,r)})}else 1===n&&1===r||i.push(o(i)+"scale("+n+","+r+")")}(i.scaleX,i.scaleY,a.scaleX,a.scaleY,s,u),i=a=null,function(t){for(var e,n=-1,r=u.length;++n<r;)s[(e=u[n]).i]=e.x(t);return s.join("")}}}Ct((function(t){return"none"===t?kt:(gt||(gt=document.createElement("DIV"),vt=document.documentElement,yt=document.defaultView),gt.style.transform=t,t=yt.getComputedStyle(vt.appendChild(gt),null).getPropertyValue("transform"),vt.removeChild(gt),t=t.slice(7,-1).split(","),Mt(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),Ct((function(t){return null==t?kt:(mt||(mt=document.createElementNS("http://www.w3.org/2000/svg","g")),mt.setAttribute("transform",t),(t=mt.transform.baseVal.consolidate())?(t=t.matrix,Mt(t.a,t.b,t.c,t.d,t.e,t.f)):kt)}),", ",")",")"),Math.SQRT2;function Tt(t){return function(e,n){var r=t((e=E(e)).h,(n=E(n)).h),o=at(e.s,n.s),i=at(e.l,n.l),a=at(e.opacity,n.opacity);return function(t){return e.h=r(t),e.s=o(t),e.l=i(t),e.opacity=a(t),e+""}}}Tt(ot),Tt(at);function Et(t){return function(e,n){var r=t((e=z(e)).h,(n=z(n)).h),o=at(e.c,n.c),i=at(e.l,n.l),a=at(e.opacity,n.opacity);return function(t){return e.h=r(t),e.c=o(t),e.l=i(t),e.opacity=a(t),e+""}}}Et(ot),Et(at);function St(t){return function e(n){function r(e,r){var o=t((e=K(e)).h,(r=K(r)).h),i=at(e.s,r.s),a=at(e.l,r.l),s=at(e.opacity,r.opacity);return function(t){return e.h=o(t),e.s=i(t),e.l=a(Math.pow(t,n)),e.opacity=s(t),e+""}}return n=+n,r.gamma=e,r}(1)}St(ot),St(at);n.d(e,"a",(function(){return xt})),n.d(e,"b",(function(){return ht})),n.d(e,"c",(function(){return bt}))},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e,n){"use strict";function r(t){var e=Number(t).toString(16);return 1==e.length?"0"+e:e}function o(t){var e=t.substring(t.indexOf("(")+1,t.indexOf(")")).split(",");return r(e[0])+r(e[1])+r(e[2])}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){this._colorMap={},this.getRandomColor=t||function(){for(var t="#",e=0;e<6;e++)t+="0123456789ABCDEF"[Math.floor(16*Math.random())];return t}}return t.prototype.hasColor=function(t){return this._colorMap.hasOwnProperty(t)},t.prototype.setColor=function(e,n){0===n.indexOf("rgb")&&(n=t.RgbToHex(n)),this._colorMap[e]=n},t.prototype.getColor=function(t){return this.hasColor(t)||(this._colorMap[t]=this.getRandomColor()),this._colorMap[t]},t.IntToHex=function(t){return"#"+t.toString(16).padStart(6,"0")},t.RgbToHex=function(t){return"#"+o(t)},t.RgbToInt=function(t){return parseInt(o(t),16)},t}();e.ColorManager=i},function(t,e,n){var r=n(44),o=n(75);t.exports=function(t){return null!=t&&o(t.length)&&!r(t)}},function(t,e,n){var r=n(211),o=n(221),i=n(29),a=n(6),s=n(228);t.exports=function(t){return"function"==typeof t?t:null==t?i:"object"==typeof t?a(t)?o(t[0],t[1]):r(t):s(t)}},function(t,e,n){"use strict";function r(){}function o(t,e){var n=new r;if(t instanceof r)t.each((function(t,e){n.set(e,t)}));else if(Array.isArray(t)){var o,i=-1,a=t.length;if(null==e)for(;++i<a;)n.set(i,t[i]);else for(;++i<a;)n.set(e(o=t[i],i,t),o)}else if(t)for(var s in t)n.set(s,t[s]);return n}r.prototype=o.prototype={constructor:r,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var i=o,a=function(){var t,e,n,r=[],o=[];function a(n,o,s,u){if(o>=r.length)return null!=t&&n.sort(t),null!=e?e(n):n;for(var c,l,h,f=-1,d=n.length,p=r[o++],g=i(),v=s();++f<d;)(h=g.get(c=p(l=n[f])+""))?h.push(l):g.set(c,[l]);return g.each((function(t,e){u(v,e,a(t,o,s,u))})),v}return n={object:function(t){return a(t,0,s,u)},map:function(t){return a(t,0,c,l)},entries:function(t){return function t(n,i){if(++i>r.length)return n;var a,s=o[i-1];return null!=e&&i>=r.length?a=n.entries():(a=[],n.each((function(e,n){a.push({key:n,values:t(e,i)})}))),null!=s?a.sort((function(t,e){return s(t.key,e.key)})):a}(a(t,0,c,l),0)},key:function(t){return r.push(t),n},sortKeys:function(t){return o[r.length-1]=t,n},sortValues:function(e){return t=e,n},rollup:function(t){return e=t,n}}};function s(){return{}}function u(t,e,n){t[e]=n}function c(){return i()}function l(t,e,n){t.set(e,n)}function h(){}var f=i.prototype;function d(t,e){var n=new h;if(t instanceof h)t.each((function(t){n.add(t)}));else if(t){var r=-1,o=t.length;if(null==e)for(;++r<o;)n.add(t[r]);else for(;++r<o;)n.add(e(t[r],r,t))}return n}h.prototype=d.prototype={constructor:h,has:f.has,add:function(t){return this["$"+(t+="")]=t,this},remove:f.remove,clear:f.clear,values:f.keys,size:f.size,empty:f.empty,each:f.each};n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),a=function(){function t(e,n){if(void 0===n&&(n="tooltip-t"),document.getElementById(e)){var r=e;"#"!==e.charAt(0)&&(r="#"+e),this._tooltipDiv=document.querySelector(r)}else this._tooltipDiv=document.createElement("div"),this._tooltipDiv.style.overflow="auto",this._tooltipDiv.id=e,document.querySelector("body").appendChild(this._tooltipDiv);this._targets=[],this._analyticsName="",this._disabled=!1,this._visibilityTimeoutSecs=0,this._visibilityTimeoutCallLeaveFunction=!0,this._delayMS=t._defaultDelayMS,this._tooltipPlacementFunc=this.defaultTooltipPlacement,this._alwaysRecalcWidth=!1,this._tooltipLeftOfMouse=!0,this._lastShowTs=Date.now(),this._counter=t._counter,t._counter++,this._hide="none",this._tooltipOffset=0,this._tooltipHeight=0,this._tooltipWidth=0,this._windowWidth=0,this._windowHeight=0,this._tooltipDiv.classList.add(n),this._tooltipBackgroundColor=null,this._tooltipFontColor=null,this._tooltipFontType=null,this._tooltipFontSize=null;var o=this;this.onMouseEnter=function(t){o._disabled||(void 0===o._enterfunc||o._enterfunc.call(this,t)?(o.displayTooltip(o._delayMS),o._tooltipHeight=0,o._tooltipWidth=0,o._windowWidth=0,o._windowHeight=0):o.onMouseLeave.call(this,t))},this.onMouseLeave=function(t){if(null!=o._timerId&&window.clearTimeout(o._timerId),o._timerId=void 0,null!=o._visibilityTimerId&&window.clearTimeout(o._visibilityTimerId),void 0!==o._leavefunc){var e=!0;null===t&&(e=o._visibilityTimeoutCallLeaveFunction),e&&o._leavefunc.call(this,t)}o.hideTooltip()},this.onMouseMove=function(t,e){if(!o._disabled){if(void 0!==o._movefunc&&o._movefunc.call(this,t),o._alwaysRecalcWidth||0===o._tooltipWidth){o._tooltipWidth=o._tooltipDiv.offsetWidth;var n=o._tooltipDiv.offsetHeight,r=parseInt(o._tooltipDiv.style.marginTop),a=parseInt(o._tooltipDiv.style.marginBottom);r&&(n+=r),a&&(n+=a),o._tooltipHeight=n}0==o._windowWidth&&(o._windowWidth=window.innerWidth,o._windowHeight=window.innerHeight),e&&e.clientY||(e=i.event.clientY?i.event:i.event.sourceEvent),o._tooltipPlacementFunc(e)}}}return t.prototype.adjustVerticalPosition=function(t,e){(t-=this._tooltipHeight/2)<window.pageYOffset&&(t=window.pageYOffset),(e=t+this._tooltipHeight)>this._windowHeight+window.pageYOffset&&(t-=e-(this._windowHeight+window.pageYOffset)),t<0&&(t=0),this._tooltipDiv.style.top=t+"px"},t.prototype.placeTooltipLeft=function(t){var e,n;e=window.pageYOffset+t.clientY,n=window.pageXOffset+t.clientX,(n-=this._tooltipWidth+10)<window.pageXOffset&&(n=window.pageXOffset),this._tooltipDiv.style.left=n+"px",this.adjustVerticalPosition(e,void 0)},t.prototype.placeTooltipLeftRight=function(t){var e,n;e=window.pageYOffset+t.clientY,(n=window.pageXOffset+t.clientX)<this._windowWidth/3&&(this._tooltipLeftOfMouse=!1),n>this._windowWidth/3*2&&(this._tooltipLeftOfMouse=!0),this._tooltipLeftOfMouse?n-=this._tooltipWidth+10:n+=10,n<window.pageXOffset&&(n=window.pageXOffset),this._tooltipDiv.style.left=n+"px",this.adjustVerticalPosition(e,void 0)},t.prototype.defaultTooltipPlacement=function(t){var e,n,r,o;if(e=window.pageYOffset+t.clientY,o=window.pageXOffset+t.clientX,t.y<this._windowHeight/2){if((n=(e+=20+this._tooltipOffset)+this._tooltipHeight)<this._windowHeight+window.pageYOffset)return(r=(o-=this._tooltipWidth/2)+this._tooltipWidth)>this._windowWidth&&(o-=r-this._windowWidth),o<window.pageXOffset&&(o=window.pageXOffset),this._tooltipDiv.style.left=o+"px",void this.adjustVerticalPosition(e,n)}else if((e-=this._tooltipHeight+10+this._tooltipOffset)>=window.pageYOffset)return(r=(o-=this._tooltipWidth/2)+this._tooltipWidth)>this._windowWidth&&(o-=r-this._windowWidth),o<window.pageXOffset&&(o=window.pageXOffset),this._tooltipDiv.style.left=o+"px",void this.adjustVerticalPosition(e,n);t.clientX>this._windowWidth/2?(o-=this._tooltipWidth+10)<window.pageXOffset&&(o=window.pageXOffset):(r=(o+=10)+this._tooltipWidth)>this._windowWidth&&(o-=r-this._windowWidth),this._tooltipDiv.style.left=o+"px",this.adjustVerticalPosition(e,n)},t.prototype.setOffset=function(t){return this._tooltipOffset=t,this},t.prototype.setEnabled=function(t){return this._disabled=!t,this},t.prototype.setHideDisplayValue=function(t){return this._hide=t,this},t.prototype.setDelay=function(t){return this._delayMS=t,this},t.prototype.setPlaceTooltipLeft=function(){return this._tooltipPlacementFunc=this.placeTooltipLeft,this},t.prototype.setPlaceTooltipLeftRight=function(){return this._tooltipPlacementFunc=this.placeTooltipLeftRight,this},t.prototype.releaseListeners=function(){this._targets.forEach((function(t){t.on("mouseenter.tooltip",null).on("mouseleave.tooltip",null).on("mousemove.tooltip",null)})),this._targets=[]},t.prototype.setVisibilityTimeout=function(t,e){return void 0===e&&(e=!0),this._visibilityTimeoutSecs=t,this._visibilityTimeoutCallLeaveFunction=e,this},t.prototype.alwaysRecalcWidth=function(t){return this._alwaysRecalcWidth=t,this},t.prototype.setBackgroundColor=function(t){return this._tooltipBackgroundColor=t,this._tooltipDiv.style["background-color"]=this._tooltipBackgroundColor,this},t.prototype.setFontColor=function(t){return this._tooltipFontColor=t,this._tooltipDiv.style.color=this._tooltipFontColor,this},t.prototype.setFontType=function(t){return this._tooltipFontType=t,this._tooltipDiv.style.font=this._tooltipFontType,this},t.prototype.setFontSize=function(t){return this._tooltipFontSize=t,this._tooltipDiv.style.font=this._tooltipFontSize,this},t.prototype.setAnalyticsName=function(t){return this._analyticsName=t,this},t.prototype.setCssClass=function(t){return this._tooltipDiv.classList.add(t),this},t.prototype.setTarget=function(t){return t&&(t.on("mouseenter.tooltip",this.onMouseEnter).on("mouseleave.tooltip",this.onMouseLeave).on("mousemove.tooltip",this.onMouseMove),this._targets.push(t)),this},t.prototype.setEnterCallback=function(t){return this._enterfunc=t,this},t.prototype.setLeaveCallback=function(t){return this._leavefunc=t,this},t.prototype.setMoveCallback=function(t){return this._movefunc=t,this},t.prototype.displayTooltip=function(t){if(this._disabled)return this;var e=this;return 0===t?(n(),this):void 0!==this._timerId?this:(this._timerId=window.setTimeout(n,t),this);function n(){e._disabled||(e._tooltipDiv.style.display="block",e._visibilityTimeoutSecs>0&&(e._visibilityTimerId=window.setTimeout((function(){e.onMouseLeave(null)}),1e3*e._visibilityTimeoutSecs)))}},t.prototype.hideTooltip=function(){return this._timerId&&window.clearTimeout(this._timerId),this._timerId=void 0,this._tooltipDiv.style.display=this._hide,this},t._defaultDelayMS=500,t._counter=0,t}();e.BaseTooltip=a;var s=function(t){function e(e,n){return void 0===n&&(n="tooltip-t"),t.call(this,e,n)||this}return o(e,t),e.prototype.getTitle=function(){return this._title},e.prototype.setData=function(t,e){for(;this._tooltipDiv.hasChildNodes();)this._tooltipDiv.removeChild(this._tooltipDiv.lastChild);this._title=t;var n=document.createElement("table");n.classList.add("tooltip-table"),this._tooltipDiv.appendChild(n);var r=document.createElement("tr");n.appendChild(r);var o=document.createElement("td");o.classList.add("tooltip-title"),o.setAttribute("colspan","2"),o.textContent=t,r.appendChild(o),null!=e&&(r=document.createElement("tr"),n.appendChild(r),(o=document.createElement("td")).setAttribute("colspan","2"),o.textContent=e,r.appendChild(o))},e}(a);e.OneLineTooltip=s;var u=function(t){function e(e,n){return void 0===n&&(n="tooltip-t"),t.call(this,e,n)||this}return o(e,t),e.prototype.getTitle=function(){return this._title},e.prototype.setData=function(t,e){for(;this._tooltipDiv.hasChildNodes();)this._tooltipDiv.removeChild(this._tooltipDiv.lastChild);this._title=t;var n=document.createElement("table");n.classList.add("tooltip-table"),this._tooltipDiv.appendChild(n);var r=document.createElement("tr");n.appendChild(r);var o=document.createElement("td");o.classList.add("tooltip-title"),o.setAttribute("colspan","2"),o.textContent=t,r.appendChild(o);var i=!1;if(e.length>0)for(var a=e[0].source,s=1;s<e.length;++s)e[s].source!==a&&(i=!0);for(s=0;s<e.length;++s){var u=e[s];if(Object.keys(u.metrics).length>0){var c=u.source;if(c&&c.title&&i){var l=document.createElement("tr");n.appendChild(l);var h=document.createElement("td");h.classList.add("tooltip-group-title"),h.setAttribute("colspan","2"),h.textContent=c.title,l.appendChild(h)}if(u.group&&u.group.length>0){var f=document.createElement("tr");n.appendChild(f);var d=document.createElement("td");d.classList.add("tooltip-group-title"),d.setAttribute("colspan","2"),d.textContent=u.group,f.appendChild(d)}for(var p in u.metrics){var g=document.createElement("tr");n.appendChild(g);var v=document.createElement("td");v.classList.add("tooltip-metric-name"),v.textContent=p,g.appendChild(v),(v=document.createElement("td")).classList.add("tooltip-metric-value"),v.textContent=u.metrics[p],g.appendChild(v)}}}},e}(a);e.MetricListTooltip=u;var c=function(t){function e(e,n){return void 0===n&&(n="tooltip-t"),t.call(this,e,n)||this}return o(e,t),e.prototype.clearTooltip=function(){for(;this._tooltipDiv.hasChildNodes();)this._tooltipDiv.removeChild(this._tooltipDiv.lastChild)},e.prototype.getTooltipDiv=function(){return this._tooltipDiv},e}(u);e.CustomDivTooltip=c},function(t,n){t.exports=e},function(t,e,n){var r=n(97),o=n(77),i=n(19);t.exports=function(t){return i(t)?r(t):o(t)}},,,function(t,e,n){var r=n(166),o=n(171);t.exports=function(t,e){var n=o(t,e);return r(n)?n:void 0}},function(t,e,n){var r=n(34),o=n(167),i=n(168),a=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?o(t):i(t)}},function(t,e){t.exports=function(t){return t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(2),i=n(1);!function(t){t[t.Tooltip=0]="Tooltip",t[t.Highlight=1]="Highlight",t[t.Render=2]="Render",t[t.Focus=3]="Focus",t[t.None=4]="None"}(r||(r={}));var a=function(){this._nameMap={},this._objectMap=new Map};function s(t){t.getTooltip||(t.getTooltip=function(e){return t.renderer&&t.renderer.getTooltipData?t.renderer.getTooltipData(t,e):[{source:t,group:"",metrics:{}}]})}function u(t){t.api||(t.api={}),t.api.cursorChange||(t.api.cursorChange=function(e){if(t.renderer&&t.renderer.cursorChange)return t.renderer.cursorChange(t,e)}),t.api.hover||(t.api.hover=function(e){if(t.renderer&&t.renderer.hover)return t.renderer.hover(t,e)}),t.api.brush||(t.api.brush=function(e){if(t.renderer&&t.renderer.brush)return t.renderer.brush(t,e)}),t.api.zoom||(t.api.zoom=function(e){if(t.renderer&&t.renderer.zoom)return t.renderer.zoom(t,e)})}function c(t){t.api||(t.api={}),t.api.brush||(t.api.brush=function(e){if(t.renderer&&t.renderer.brush)return t.renderer.brush(t,e)}),t.api.render||(t.api.render=function(e,n){return e?t.renderer=e:e=t.renderer,new Promise((function(r,o){e&&(t.renderer.render(t,n),r("Ok")),o("No renderer available")}))})}function l(t){s(t),u(t),c(t)}e.GroupInfo=a,e.addCallbacks=l;var h=function(){function t(){this._elems=[];var t=this;this._groupInfo=[];for(var e=0;e<4;++e)this._groupInfo.push(new a);this._onHoverCallback=function(e){e.caller||console.warn("Warning no caller specified for this event, cannot propoate changes",e);var n=t._groupInfo[3]._objectMap.get(e.caller);if(n)if(t._hoverCallback)t._hoverCallback(n,e);else for(var r=0;r<n.length;++r){var o=n[r];e.caller!==o&&o.api&&o.api.hover&&o.api.hover(e)}},this._onZoomCallback=function(e){e.caller||console.warn("Warning no caller specified for this event, cannot propoate changes",e);var n=t._groupInfo[1]._objectMap.get(e.caller);if(n)if(t._zoomCallback)t._zoomCallback(n,e);else for(var r=0;r<n.length;++r){var o=n[r];e.caller!==o&&o.api&&o.api.zoom&&o.api.zoom(e)}},this._onCursorChangeCallback=function(e){e.caller||console.warn("Warning no caller specified for this event, cannot propoate changes",e);var n=t._groupInfo[1]._objectMap.get(e.caller);if(n)if(t._cursorChangeCallback)t._cursorChangeCallback(n,e);else for(var r=0;r<n.length;++r){var o=n[r];e.caller!==o&&o.api&&o.api.cursorChange&&o.api.cursorChange(e)}},this._onBrushCallback=function(e){e.caller||console.warn("Warning no caller specified for this event, cannot propoate changes",e);var n=t._groupInfo[1]._objectMap.get(e.caller);if(n)if(t._brushCallback)t._brushCallback(n,e);else for(var r=0;r<n.length;++r){var o=n[r];e.caller!==o&&o.api&&o.api.brush&&o.api.brush(e)}},this._onTooltipCallback=function(e){e.caller||console.warn("Warning no caller specified for this event, cannot propoate changes",e);var n=[],r=t._groupInfo[0]._objectMap.get(e.caller);if(r){if(t._tooltipCallback)n=n.concat(t._tooltipCallback(r,e));else for(var o=0;o<r.length;++o){var i=r[o].getTooltip(e);n=n.concat(i)}return e.data&&e.data.tooltip&&e.data.tooltip.setData(e.data.tooltip.getTitle(),n),n}},this._onUpdateCallback=function(e,n){e||console.warn("Warning no caller specified for this event, cannot propoate changes");var r=t._groupInfo[2]._objectMap.get(e);if(r)for(var o=0;o<r.length;++o){var i=r[o];i.renderer&&i.renderer.render(i,n)}}}return t.prototype.removeFromGroup=function(t,e){var n=this._groupInfo[e]._objectMap.get(t);n&&o.removeFromList(t,n)},t.prototype.addToGroup=function(t,e,n){this._groupInfo[n]._nameMap.hasOwnProperty(e)||(this._groupInfo[n]._nameMap[e]=[]),this._groupInfo[n]._nameMap[e].push(t),this._groupInfo[n]._objectMap.set(t,this._groupInfo[n]._nameMap[e])},t.prototype.addElement=function(t,e,n,r){if(!t)return this;if(-1!==this._elems.indexOf(t))throw"Element already exists in this manager";l(t),this._elems.push(t);var o;t.getElements||(t.getElements=function(){return[t]}),o=t.getElements();for(var i=0;i<o.length;++i){var a=o[i];e&&this.addToTooltipGroup(a,e),n&&this.addToHighlightGroup(a,n),r&&this.addToRenderGroup(a,r)}return t.manager=this,this},t.prototype.removeElement=function(t){if(!t)return this;var e;e=t.getElements?t.getElements():[t];for(var n=0;n<e.length;++n){var r=e[n];this.removeFromTooltipGroup(r),this.removeFromHighlightGroup(r),this.removeFromRenderGroup(r)}return o.removeFromList(t,this._elems),delete t.manager,this},t.prototype.getElements=function(){return this._elems},t.prototype.setZoomCallback=function(t){return this._zoomCallback=t,this},t.prototype.setHoverCallback=function(t){return this._hoverCallback=t,this},t.prototype.setTooltipCallback=function(t){return this._tooltipCallback=t,this},t.prototype.setBrushCallback=function(t){return this._brushCallback=t,this},t.prototype.addToTooltipGroup=function(t,e){s(t),this.removeFromTooltipGroup(t),this.addToGroup(t,e,0);var n=this;if(t.onTooltip){var r=t.onTooltip;t.onTooltip=function(t){n._onTooltipCallback(t),r(t)}}else t.onTooltip=this._onTooltipCallback;return this},t.prototype.removeFromTooltipGroup=function(t){return this.removeFromGroup(t,0),this},t.prototype.addToFocusGroup=function(t,e){u(t),this.removeFromFocusGroup(t);var n=this;if(t.onHover){var r=t.onHover;t.onHover=function(t){n._onHoverCallback(t),r(t)}}else t.onHover=n._onHoverCallback;return this.addToGroup(t,e,3),this},t.prototype.removeFromFocusGroup=function(t){return this.removeFromGroup(t,3),this},t.prototype.addToHighlightGroup=function(t,e){u(t),this.removeFromHighlightGroup(t),this.addToFocusGroup(t,e);var n=this;if(t.onBrush){var r=t.onBrush;t.onBrush=function(t){n._onBrushCallback(t),r(t)}}else t.onBrush=n._onBrushCallback;if(t.onCursorChanged){var a=t.onCursorChanged;t.onCursorChanged=function(t){n._onCursorChangeCallback(t),a(t)}}else t.onCursorChanged=this._onCursorChangeCallback;if(t.onZoom){var s=t.onZoom;t.onZoom=function(t){n._onZoomCallback(t),s(t)}}else t.onZoom=this._onZoomCallback;var c=this._groupInfo[1]._nameMap[e];if(c&&c.length){var l=c[0];if(l.api.getOptions&&t.api&&t.api.zoom){var h=l.api.getOptions(),f=o.copy(h);f.event=i.EventType.Zoom,setTimeout((function(){t.api.zoom(f)}))}}return this.addToGroup(t,e,1),this},t.prototype.removeFromHighlightGroup=function(t){return this.removeFromFocusGroup(t),this.removeFromGroup(t,1),this},t.prototype.addToRenderGroup=function(t,e){c(t),this.removeFromRenderGroup(t),this.addToGroup(t,e,2);var n=this;if(t.handleUpdate){var r=t.handleUpdate;t.handleUpdate=function(t,e){n._onUpdateCallback(t,e),r(t,e)}}else t.handleUpdate=this._onUpdateCallback;return this},t.prototype.removeFromRenderGroup=function(t){return this.removeFromGroup(t,2),this},t.prototype.clear=function(){this._elems.length=0,this._groupInfo.length=0;for(var t=0;t<4;++t)this._groupInfo.push(new a)},t}();e.ElementManager=h},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),o=n(13),i=n(23);var a=function(){function t(t){this._graphicsMap={},this._renderer=t}return t.prototype.add=function(t,e,n,r,o){var a;return t?(this._graphicsMap[t]||(this._graphicsMap[t]=this._renderer.generateTexture(o(),n,r)),a=new i.Sprite(this._graphicsMap[t])):(this._graphicsMap[e]||(this._graphicsMap[e]=this._renderer.generateTexture(o(),n,r)),a=new i.Sprite(this._graphicsMap[e])),a},t}();e.GraphicsManager=a;var s=function(){function t(t){void 0===t&&(t=!1),this._selectionItems={},i.utils.skipHello(),this._useWebGLRenderer=t,this._renderer=t?new i.WebGLRenderer({transparent:!0,antialias:!0}):new i.CanvasRenderer({transparent:!0,antialias:!0});var e=new i.Graphics;e.beginFill(16777215),e.drawRect(0,0,1,1),e.endFill(),this._rectTexture=this._renderer.generateTexture(e,i.SCALE_MODES.LINEAR,128)}return t.prototype.getRenderer=function(){return this._renderer},t.prototype.createGraphicsManager=function(){return new a(this._renderer)},t.prototype.addPixiSvg=function(t,e,n,r){for(var o=t.node().getElementsByClassName(e),i=0;i<o.length;++i){var a=o[i];a.parentNode.removeChild(a)}var s=t.append("foreignObject").attr("class",e).attr("width",n).attr("height",r),u=s.node().appendChild(this._renderer.view),c=function(){var t=navigator.userAgent.match(/Chrom(?:e|ium)\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/);if(null!=t&&5==t.length){var e=t.map((function(t){return parseInt(t,10)}));return{major:e[1],minor:e[2],build:e[3]}}}();if(void 0!==c&&c.major<75){u.style.position="fixed",u.style.top=-window.scrollY+"px";var l=-window.scrollY,h=window.scrollY;document.addEventListener("scroll",(function(){l-=window.scrollY-h,u.style.top=l+"px",h=window.scrollY}))}return this._renderer.resize(n,r),s},t.prototype.createRectangleContainer=function(t,e,n,r,o){var a=new i.Container,s=new i.Sprite(this._rectTexture);return s.tint=o,s.width=n,s.height=r,a.addChild(s),a.position.x=t,a.position.y=e,a},t.prototype.renderText=function(t,e,n,r,o){void 0===n&&(n=0),void 0===r&&(r=2),void 0===o&&(o=.5),this._useWebGLRenderer||(r=1,o=1);var a=e.style("font-size");a=Number(a.substring(0,a.length-2))*r+"px";var s=new i.Text(t,{fill:n,fontFamily:e.style("font-family"),fontSize:a,fontWeight:e.style("font-weight")});return s.scale=new i.Point(o,o),s},t.prototype.addInteractionHelper=function(t,e,n,i,a,s,u,c,l){t.interactive=!0;var h,f=this;function d(t){t.stopPropagation(),u&&u.onMouseLeave(t),o.showContextMenu(t.data.originalEvent,l,i)}(e||n)&&t.on("click",(function(t){t.stopPropagation(),n?h?(window.clearTimeout(h),h=null,n({caller:c,event:r.EventType.DoubleClick,data:l})):h=setTimeout((function(){h&&(e({caller:c,event:r.EventType.Click,data:l}),h=null)}),300):e({caller:c,event:r.EventType.Click,data:l})})),i&&i.length&&t.on("rightupoutside",d).on("rightup",d),a&&t.on("mouseover",(function(t){t.target&&(this.__data__=l,a.call(this),u&&(f._tooltipTarget=t.target,u.onMouseEnter(l),u.onMouseMove(l,t.data.originalEvent)))})),s&&t.on("mouseout",(function(t){s.call(this),u&&t.currentTarget===f._tooltipTarget&&u.onMouseLeave(l)}))},t.prototype.clearSelections=function(){this._selectionItems={}},t.prototype.addSelection=function(t,e){this._selectionItems.hasOwnProperty(t)||(this._selectionItems[t]=[]),this._selectionItems[t].push(e)},t.prototype.getSelection=function(t){return this._selectionItems[t]},t.prototype.getStage=function(){return this._stage},t.prototype.render=function(t){t?(this._stage=t,this._renderer.render(t)):this._stage&&this._renderer.render(this._stage)},t}();e.PIXIHelper=s},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,n){var r=n(15).Symbol;t.exports=r},function(t,e,n){(function(t){var r=n(15),o=n(187),i=e&&!e.nodeType&&e,a=i&&"object"==typeof t&&t&&!t.nodeType&&t,s=a&&a.exports===i?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||o;t.exports=u}).call(this,n(74)(t))},function(t,e,n){var r=n(97),o=n(191),i=n(19);t.exports=function(t){return i(t)?r(t,!0):o(t)}},function(t,e,n){var r=n(196),o=n(71),i=n(197),a=n(106),s=n(198),u=n(28),c=n(95),l=c(r),h=c(o),f=c(i),d=c(a),p=c(s),g=u;(r&&"[object DataView]"!=g(new r(new ArrayBuffer(1)))||o&&"[object Map]"!=g(new o)||i&&"[object Promise]"!=g(i.resolve())||a&&"[object Set]"!=g(new a)||s&&"[object WeakMap]"!=g(new s))&&(g=function(t){var e=u(t),n="[object Object]"==e?t.constructor:void 0,r=n?c(n):"";if(r)switch(r){case l:return"[object DataView]";case h:return"[object Map]";case f:return"[object Promise]";case d:return"[object Set]";case p:return"[object WeakMap]"}return e}),t.exports=g},function(t,e,n){var r=n(28),o=n(17);t.exports=function(t){return"symbol"==typeof t||o(t)&&"[object Symbol]"==r(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(40);function o(){var t=window.navigator.userAgent,e=t.indexOf("MSIE ");if(e>0)return r.polyfill(),String.prototype.startsWith||(String.prototype.startsWith=function(t,e){return e=e||0,this.substr(e,t.length)===t}),parseInt(t.substring(e+5,t.indexOf(".",e)),10);if(t.indexOf("Trident/")>0){r.polyfill(),String.prototype.startsWith||(String.prototype.startsWith=function(t,e){return e=e||0,this.substr(e,t.length)===t});var n=t.indexOf("rv:");return parseInt(t.substring(n+3,t.indexOf(".",n)),10)}var o=t.indexOf("Edge/");return o>0&&parseInt(t.substring(o+5,t.indexOf(".",o)),10)}e.detectIE=o,document.addEventListener("DOMContentLoaded",(function(){o()}),!1),e.useIEPolyfill=function(t){try{new CustomEvent("test")}catch(n){var e=function(e,n){n=n||{bubbles:!1,cancelable:!1};var r=document.createEvent("MouseEvent");return r.initMouseEvent(e,n.bubbles,n.cancelable,t,0,0,0,0,0,!1,!1,!1,!1,0,null),r};e.prototype=Event.prototype,t.MouseEvent=e}}},function(t,e,n){(function(e,n){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */var r;r=function(){"use strict";function t(t){return"function"==typeof t}var r=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},o=0,i=void 0,a=void 0,s=function(t,e){p[o]=t,p[o+1]=e,2===(o+=2)&&(a?a(g):x())},u="undefined"!=typeof window?window:void 0,c=u||{},l=c.MutationObserver||c.WebKitMutationObserver,h="undefined"==typeof self&&void 0!==e&&"[object process]"==={}.toString.call(e),f="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function d(){var t=setTimeout;return function(){return t(g,1)}}var p=new Array(1e3);function g(){for(var t=0;t<o;t+=2)(0,p[t])(p[t+1]),p[t]=void 0,p[t+1]=void 0;o=0}var v,y,m,_,x=void 0;function b(t,e){var n=this,r=new this.constructor(M);void 0===r[k]&&j(r);var o=n._state;if(o){var i=arguments[o-1];s((function(){return O(o,r,i,n._result)}))}else N(n,r,t,e);return r}function w(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(M);return T(e,t),e}h?x=function(){return e.nextTick(g)}:l?(y=0,m=new l(g),_=document.createTextNode(""),m.observe(_,{characterData:!0}),x=function(){_.data=y=++y%2}):f?((v=new MessageChannel).port1.onmessage=g,x=function(){return v.port2.postMessage(0)}):x=void 0===u?function(){try{var t=Function("return this")().require("vertx");return void 0!==(i=t.runOnLoop||t.runOnContext)?function(){i(g)}:d()}catch(t){return d()}}():d();var k=Math.random().toString(36).substring(2);function M(){}function C(e,n,r){n.constructor===e.constructor&&r===b&&n.constructor.resolve===w?function(t,e){1===e._state?S(t,e._result):2===e._state?A(t,e._result):N(e,void 0,(function(e){return T(t,e)}),(function(e){return A(t,e)}))}(e,n):void 0===r?S(e,n):t(r)?function(t,e,n){s((function(t){var r=!1,o=function(t,e,n,r){try{t.call(e,n,r)}catch(t){return t}}(n,e,(function(n){r||(r=!0,e!==n?T(t,n):S(t,n))}),(function(e){r||(r=!0,A(t,e))}),t._label);!r&&o&&(r=!0,A(t,o))}),t)}(e,n,r):S(e,n)}function T(t,e){if(t===e)A(t,new TypeError("You cannot resolve a promise with itself"));else if(o=typeof(r=e),null===r||"object"!==o&&"function"!==o)S(t,e);else{var n=void 0;try{n=e.then}catch(e){return void A(t,e)}C(t,e,n)}var r,o}function E(t){t._onerror&&t._onerror(t._result),L(t)}function S(t,e){void 0===t._state&&(t._result=e,t._state=1,0!==t._subscribers.length&&s(L,t))}function A(t,e){void 0===t._state&&(t._state=2,t._result=e,s(E,t))}function N(t,e,n,r){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+1]=n,o[i+2]=r,0===i&&t._state&&s(L,t)}function L(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,o=void 0,i=t._result,a=0;a<e.length;a+=3)r=e[a],o=e[a+n],r?O(n,r,o,i):o(i);t._subscribers.length=0}}function O(e,n,r,o){var i=t(r),a=void 0,s=void 0,u=!0;if(i){try{a=r(o)}catch(t){u=!1,s=t}if(n===a)return void A(n,new TypeError("A promises callback cannot return that same promise."))}else a=o;void 0!==n._state||(i&&u?T(n,a):!1===u?A(n,s):1===e?S(n,a):2===e&&A(n,a))}var P=0;function j(t){t[k]=P++,t._state=void 0,t._result=void 0,t._subscribers=[]}var D=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(M),this.promise[k]||j(this.promise),r(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?S(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&S(this.promise,this._result))):A(this.promise,new Error("Array Methods must be provided an Array"))}return t.prototype._enumerate=function(t){for(var e=0;void 0===this._state&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===w){var o=void 0,i=void 0,a=!1;try{o=t.then}catch(t){a=!0,i=t}if(o===b&&void 0!==t._state)this._settledAt(t._state,e,t._result);else if("function"!=typeof o)this._remaining--,this._result[e]=t;else if(n===I){var s=new n(M);a?A(s,i):C(s,t,o),this._willSettleAt(s,e)}else this._willSettleAt(new n((function(e){return e(t)})),e)}else this._willSettleAt(r(t),e)},t.prototype._settledAt=function(t,e,n){var r=this.promise;void 0===r._state&&(this._remaining--,2===t?A(r,n):this._result[e]=n),0===this._remaining&&S(r,this._result)},t.prototype._willSettleAt=function(t,e){var n=this;N(t,void 0,(function(t){return n._settledAt(1,e,t)}),(function(t){return n._settledAt(2,e,t)}))},t}(),I=function(){function e(t){this[k]=P++,this._result=this._state=void 0,this._subscribers=[],M!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof e?function(t,e){try{e((function(e){T(t,e)}),(function(e){A(t,e)}))}catch(e){A(t,e)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return e.prototype.catch=function(t){return this.then(null,t)},e.prototype.finally=function(e){var n=this.constructor;return t(e)?this.then((function(t){return n.resolve(e()).then((function(){return t}))}),(function(t){return n.resolve(e()).then((function(){throw t}))})):this.then(e,e)},e}();return I.prototype.then=b,I.all=function(t){return new D(this,t).promise},I.race=function(t){var e=this;return r(t)?new e((function(n,r){for(var o=t.length,i=0;i<o;i++)e.resolve(t[i]).then(n,r)})):new e((function(t,e){return e(new TypeError("You must pass an array to race."))}))},I.resolve=w,I.reject=function(t){var e=new this(M);return A(e,t),e},I._setScheduler=function(t){a=t},I._setAsap=function(t){s=t},I._asap=s,I.polyfill=function(){var t=void 0;if(void 0!==n)t=n;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var r=null;try{r=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===r&&!e.cast)return}t.Promise=I},I.Promise=I,I},t.exports=r()}).call(this,n(41),n(31))},function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,c=[],l=!1,h=-1;function f(){l&&u&&(l=!1,u.length?c=u.concat(c):h=-1,c.length&&d())}function d(){if(!l){var t=s(f);l=!0;for(var e=c.length;e;){for(u=c,c=[];++h<e;)u&&u[h].run();h=-1,e=c.length}u=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function g(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new p(t,e)),1!==c.length||l||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),o=n(1),i=n(3),a=function(){function t(t,e,n){void 0===n&&(n=!1),this._currSelections=[],this._addSelection=t,this._removeSelection=e,this._doBlink=n}return t.getHoverColor=function(t){var e=i.color(t),n=i.color(e).darker(2).toString();return n===e.toString()&&(e.opacity=.6*e.opacity,n=e.toString()),n},t.prototype._addSelectionHelper=function(t){var e=this;this._addSelection(t),e._doBlink&&(clearTimeout(this._highlightTimer),this._highlightTimer=setTimeout((function(){e._removeSelectionHelper(t,!0)}),500))},t.prototype._removeSelectionHelper=function(t,e){void 0===e&&(e=!1);var n=this;this._removeSelection(t),this._doBlink&&e&&(clearTimeout(this._highlightTimer),this._highlightTimer=setTimeout((function(){n._addSelectionHelper(t)}),500))},t.prototype.onSelect=function(t){if(isNaN(Number(t.selection))){var e=r.getSelectionName(t.selection),n=this._currSelections.indexOf(e);switch(t.event){case o.EventType.HoverStart:-1===n&&(this._currSelections.push(e),this._addSelectionHelper(e));break;case o.EventType.HoverEnd:-1!==n&&(clearTimeout(this._highlightTimer),this._currSelections.splice(n,1),this._removeSelectionHelper(e));break;case o.EventType.HoverClear:clearTimeout(this._highlightTimer);for(var i=0;i<this._currSelections.length;++i)this._removeSelectionHelper(this._currSelections[i]);this._currSelections=[]}}else console.debug("Chart unable to fire hover event using a number as the selection class due to CSS limitations")},t.prototype.onRedraw=function(){for(var t=0;t<this._currSelections.length;++t){var e=this._currSelections[t];this._addSelectionHelper(e)}},t}();e.SelectionHelper=a},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),a=n(69),s=n(13),u=n(42),c=n(2),l=n(22),h=n(7),f=n(5),d=n(32),p=n(3),g=n(23),v=function(){function t(){}return t.addNode=function(t,e,n){return n.hasOwnProperty(t.key)?n[t.key]:(t.node=e.length,n[t.key]=t.node,e.push(t),t.node)},t.prototype.initializeGraph=function(t){t.nodes||(t.nodes=[]);for(var e={},n=0;n<t.nodes.length;++n){var r=t.nodes[n];r.node=n,e[r.key]=n}for(n=0;n<t.links.length;++n){var o=t.links[n];o.source=this.getLinkNode(o.from,t.nodes,e),o.target=this.getLinkNode(o.to,t.nodes,e)}},t.prototype.bind=function(e,n,r,o){var a,u=this,c=this;this.getSelectionString=r||function(t){return t.source.key+"-"+t.target.key},this.getTooltipString=o||function(t){var e;return t.source?e=t.source.key+" → "+t.target.key+"\n"+t.value:(e=t.key+"\n",void 0!==t.value&&(e+=t.value)),e},this.onHoverChanged=function(t){if(!f.SVGRenderer.IS_RESIZING){e.hover(n,t);var r=n.onHover;return r&&r(t),!0}},this.nodeHoverStart=function(){var t=this.__data__.key;return a=t,c.onHoverChanged({caller:n,event:i.EventType.HoverStart,selection:t})},this.linkHoverStart=function(){var t=c.getSelectionString(this.__data__);return a=t,c.onHoverChanged({caller:n,event:i.EventType.HoverStart,selection:t})},this.hoverEnd=function(){var t=c.onHoverChanged({caller:n,event:i.EventType.HoverEnd,selection:a});return a=void 0,t},this.getTooltipData=function(t){var e=t.data.data;return e&&this._dataTooltip.setData(c.getTooltipString(e),[]),[]};var h=function(t){t.def&&(t=t.def);var e={tooltip:c._dataTooltip,data:t},r=n.onTooltip;return r?r({caller:n,data:e}):u.getTooltipData({caller:n,data:e}),!0};this._dataTooltip=new l.CustomDivTooltip(this._tooltipId,"tooltip-t"),this._dataTooltip.setAnalyticsName(this._tooltipAnalyticsName).setEnterCallback(h).setMoveCallback(h).setPlaceTooltipLeftRight().alwaysRecalcWidth(!0).setDelay(0),this.getLinkNode=function(e,n,r){return"string"==typeof e||e instanceof String?t.addNode({key:e},n,r):t.addNode(e,n,r)},this.getNextXY=function(t,e,n,r){switch(e){case i.Alignment.Bottom:case i.Alignment.Top:return n.x<r.x?{x:t.x+t.width+10,y:n.y}:{x:t.x-10,y:n.y};case i.Alignment.Left:case i.Alignment.Right:return n.y<r.y?{x:n.x,y:t.y+t.height+10}:{x:n.x,y:t.y-10}}},this.addElbow=function(t,e,n,r){var o=e.source.node.from===e.source.node.to,a=0;switch(e.target.alignment){case i.Alignment.Bottom:a=o?(n.y+r.y)/2:(n.y-r.y)*Math.random()+r.y,t.push({x:n.x,y:a}),t.push({x:r.x,y:a});break;case i.Alignment.Top:a=o?(n.y+r.y)/2:(r.y-n.y)*Math.random()+n.y,t.push({x:n.x,y:a}),t.push({x:r.x,y:a});break;case i.Alignment.Left:a=o?(n.x+r.x)/2:(r.x-n.x)*Math.random()+n.x,t.push({x:a,y:n.y}),t.push({x:a,y:r.y});break;case i.Alignment.Right:a=o?(n.x+r.x)/2:(n.x-r.x)*Math.random()+n.x,t.push({x:a,y:n.y}),t.push({x:a,y:r.y})}},this.getElbowLinkPath=function(t,e,n){var r=u,o=[],a=t.source.alignment===i.Alignment.Left&&t.target.alignment===i.Alignment.Right||t.source.alignment===i.Alignment.Right&&t.target.alignment===i.Alignment.Left||t.source.alignment===i.Alignment.Top&&t.target.alignment===i.Alignment.Bottom||t.source.alignment===i.Alignment.Bottom&&t.target.alignment===i.Alignment.Top;if(a)switch(t.source.alignment){case i.Alignment.Left:n.x>e.x&&(a=!1);break;case i.Alignment.Right:n.x<e.x&&(a=!1);break;case i.Alignment.Top:n.y>e.y&&(a=!1);break;case i.Alignment.Bottom:n.y<e.y&&(a=!1)}if(a)switch(t.target.alignment){case i.Alignment.Left:n.x<e.x&&(a=!1);break;case i.Alignment.Right:n.x>e.x&&(a=!1);break;case i.Alignment.Top:n.y<e.y&&(a=!1);break;case i.Alignment.Bottom:n.y>e.y&&(a=!1)}if(a)o.push(e),u.addElbow(o,t,e,n),o.push(n);else{var s,c;o.push(e);t.source.node;s=r.getNextXY(x(r._graphContainer,t.source.node),t.source.alignment,e,n),o.push(s),c=r.getNextXY(x(r._graphContainer,t.target.node),t.target.alignment,n,e),u.addElbow(o,t,s,c),o.push(c),o.push(n)}return o},this.configureZoom=function(t,e,n,r){if(!u._options.disableZoomViewUpdate){var o=u,i=t[1]-t[0],a=e[1]-e[0],s=i/2+t[0],c=a/2+e[0],l=n/a,h=r/i,f=Math.min(1,l,h);if(o._zoom.scaleExtent([f/3,1.5]),o._options.fitToWindow){var d=p.zoomIdentity.translate(r/2-s*f,n/2-c*f).scale(f);o._graphContainer.call(o._zoom.transform,d)}o._contextMenuItems.push({title:"Reset Zoom",action:function(t,e,i){if(o._options.fitToWindow){var a=p.zoomIdentity.translate(r/2-s*f,n/2-c*f).scale(f);o._graphContainer.transition().duration(o.getAnimateDuration()).call(o._zoom.transform,a)}else o._graphContainer.transition().duration(o.getAnimateDuration()).call(o._zoom.transform,p.zoomIdentity)}})}},this.configureBrush=function(){var t=u;function e(e,n){if(!e)return!1;var r=t._element,o={event:n,xStart:e[0][0],xEnd:e[1][0],yStart:e[0][1],yEnd:e[1][1],caller:r},i=r.onBrush;return i?i(o):t.brush(o),!0}var n=function(e){null!==e&&t._brushTooltip.setData("Selection","("+e[0][0].toFixed(2)+", "+e[0][1].toFixed(2)+") - ("+e[1][0].toFixed(2)+", "+e[1][1].toFixed(2)+")")};t._svg.select(".brush").remove(),t._brushTooltip=new l.OneLineTooltip("brush","tooltip-t"),t._brushTooltip.setPlaceTooltipLeftRight().alwaysRecalcWidth(!0).setDelay(0),t._brush=(new f.Brush).setXY(!0).setTarget(t._svg.append("g").attr("class","brush")).setStartCallback((function(r){return t._brush.moveToFront(),n(r),t._dataTooltip.onMouseLeave(p.event),t._brushTooltip.onMouseEnter(p.event),t._brushTooltip.onMouseMove(p.event),e(r,i.EventType.BrushStart)})).setMoveCallback((function(r){return n(r),t._dataTooltip.onMouseLeave(p.event),t._brushTooltip.onMouseMove(p.event),e(r,i.EventType.BrushMove)})).setEndCallback((function(n){t._brushTooltip.onMouseLeave(p.event);var r=t._element.brushContextMenuItems;if(n&&r){for(var o=[],a=function(t){var a=r[t];o.push({title:a.title,action:function(t,r,o){r.xStart=n[0][0],r.xEnd=n[1][0],r.yStart=n[0][1],r.yEnd=n[1][1],a.action(t,r,o),e(n,i.EventType.BrushEnd)}})},u=0;u<r.length;++u)a(u);s.showContextMenu(p.event.sourceEvent,{event:i.EventType.BrushEnd,caller:t._element},o)}else{var c=document.getElementsByClassName("context-menu");c.length>0&&(c[0].style.display="none")}return t._options.forceBrushToFront||t._brush.moveToBack(),!0})).setRect(t._svgRect).ready(),t._brush.moveToBack()}},t.prototype.configureView=function(t,e){var n=[Number.MAX_VALUE,-Number.MAX_VALUE],r=[Number.MAX_VALUE,-Number.MAX_VALUE];if(this._element.nodes.forEach((function(t){n[0]=Math.min(n[0],t.x),n[1]=Math.max(n[1],t.x),r[0]=Math.min(r[0],t.y),r[1]=Math.max(r[1],t.y)})),t=this.renderLegend(t),this.bindZoom(),this.configureZoom(n,r,t,e),this.configureContextMenu(),this._svg&&!this._options.disableBrush){var o=this;setTimeout((function(){o.configureBrush()}),0)}},t}();e.ConnectedGraphBase=v;var y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.bind=function(t,e){v.prototype.bind.call(this,t,e,(function(t){return t.source.key+"-"+t.target.key}),(function(t){return t.from?t.linkType&&(t.linkType&a.LinkType.Directional)===a.LinkType.Directional?t.from+" → "+t.to+"\n":t.from+" ↔ "+t.to+"\n":t.port?t.node.key+":"+t.port.key:t.label?t.label:t.key}))},e}(v);e.DiagramBase=y;var m=function(t){function e(e,n,r){var o=t.call(this)||this;return o.initialize(e,n,r),o._graphContainer=o._svg,v.prototype.bind.call(o,n,e),o}return o(e,t),e.prototype.renderLegend=function(t){var e=this._element;if(e.legend){for(var n=[],r=0;r<e.nodes.length;++r){var o=e.nodes[r],a=o.type&&o.type.length>0?o.type[0]:o.key,s=this._svg.select(".node."+a);n.push({key:a,color:s.style("fill"),opacity:s.style("opacity")})}var u={},c=0;for(r=0;r<n.length;++r){var l=n[r];u.hasOwnProperty(l.key)||(u[l.key]=!0,c=Math.max(l.key.length,c))}var h=void 0;switch(e.legend.alignment){case i.Alignment.Top:h=new f.D3Legend(this._svg,e.legend,e.title,new i.Rect(0,10,this._svgRect.width,this._svgRect.height));break;case i.Alignment.Bottom:h=new f.D3Legend(this._svg,e.legend,e.title,new i.Rect(0,this._svgRect.height-this.LEGEND_PADDING.Y.BOTTOM,this._svgRect.width,this._svgRect.height));break;case i.Alignment.Left:h=new f.D3Legend(this._svg,e.legend,e.title,new i.Rect(0,10,this._svgRect.width,this._svgRect.height));break;case i.Alignment.Right:h=new f.D3Legend(this._svg,e.legend,e.title,new i.Rect(this._svgRect.width-10*c,10,this._svgRect.width,this._svgRect.height))}h.addItems(n),h.render(),t||(t=this._options.height),e.legend.alignment!==i.Alignment.Top&&e.legend.alignment!==i.Alignment.Bottom||(t+=h.getRenderedRect().height)}return t},e.prototype.bindZoom=function(){if(!this._options.disableZoomViewUpdate){var t=this,e=t._svg.select(".graphArea");t._zoom=p.zoom().on("zoom",(function(){e.attr("transform",p.event.transform)})),t._svg.call(t._zoom),t._element.api||(t._element.api={}),t._element.api.zoom=function(e){e.data&&t._zoom.scaleTo(t._parent,e.data)},t._element.api.pan=function(e){t._zoom.translateTo(t._parent,e.xStart,e.yStart)}}},e.prototype.configureContextMenu=function(){var t=this,e=t._element;if(e.contextMenuItems)for(var n=0;n<e.contextMenuItems.length;++n)t._contextMenuItems.push(e.contextMenuItems[n]);if(t.saveImage&&t._options.enableSaveAsImage){var r={title:"Save As Image",action:function(e,n,r){t.saveImage()},disabled:!1};t._contextMenuItems.push(r)}t._contextMenuItems.length>0&&t._parent.on("contextmenu",(function(e){s.showContextMenu(p.event,void 0,t._contextMenuItems)}))},e.prototype.initializeGraphArea=function(t){this.loadOptions(t),this._svg.selectAll("*").remove();var e=this._svg.append("g").classed("graphArea",!0);return this._contextMenuItems=[],e},e.prototype.configureLinkHover=function(t,e){t.on("mouseenter",this.linkHoverStart).on("mouseleave",this.hoverEnd);var n=this._element;f.addClickHelper(t,n.onClick,n.onDoubleClick,n.contextMenuItems,this._dataTooltip,n,e.def),t.node().__data__=e},e.prototype.initializeLinkLayer=function(t){t.append("g").classed("links",!0)},e.prototype.renderLinkHelper=function(t,e,n){var r=this,o=p.line().x((function(t){return t.x})).y((function(t){return t.y})),i=p.line().x((function(t){return t.x})).y((function(t){return t.y})).curve(p.curveBasis),s=t.select(".links"),u=function(t){var e=t.def.from+"-"+t.def.to+" "+t.def.from+" "+t.def.to;if(t.def.type&&t.def.type.length>0)for(var n=0;n<t.def.type.length;++n)e+=" "+c.getSelectionName(t.def.type[n]);return e},l=function(t){if(t.def.color)return t.def.color;if(t.def.type&&t.def.type.length>0)for(var e=0;e<t.def.type.length;++e)if(r._colorMgr.hasColor(t.def.type[e]))return r._colorMgr.getColor(t.def.type[e]);return"black"};n&&e.forEach((function(e){t.selectAll("."+e.def.from+"-"+e.def.to+"."+e.def.from+"."+e.def.to).remove()})),e.forEach((function(t){var e,c=t.def,h=r.getLinkStartXY(t),d=r.getLinkEndXY(t);(c.linkType&a.LinkType.Linear)===a.LinkType.Linear?t.path=[h,d]:t.path=r.getElbowLinkPath(t,h,d),e=c.linkType&a.LinkType.Curve?i:o;var p,g,v=s.append("path").attr("d",e(t.path)).classed(u(t),!0).classed("link",!0).attr("fill","none").style("stroke",l(t)).attr("stroke-width",c.width?c.width:2);(c.linkType&a.LinkType.Directional||c.linkType&a.LinkType.Bidirectional)&&(g=t.path[t.path.length-1],p=f.Arrow.createArrow(s,4).classed(u(t),!0).classed("arrow",!0).attr("fill",l(t)).attr("transform","translate("+g.x+","+g.y+") rotate( "+f.Arrow.getAngle(t.path[t.path.length-2],g)+")")),c.linkType&a.LinkType.Bidirectional&&f.Arrow.createArrow(s,4).classed(u(t),!0).classed("arrow",!0).attr("fill",l(t)).attr("transform","translate("+t.path[0].x+","+t.path[0].y+") rotate( "+f.Arrow.getAngle(t.path[1],t.path[0])+")"),n||0===r.getAnimateDuration()||(f.animatePath(v,r.getAnimateDuration()),p&&f.Arrow.animateArrow(v,p,r.getAnimateDuration())),r.configureLinkHover(v,t),r._dataTooltip.setTarget(v)}))},e.prototype.configureView=function(){var t=this._options.height?this._options.height:400,e=this._options.width;this._svg.attr("width",e).attr("height",t),v.prototype.configureView.call(this,t,e)},e}(f.SVGRenderer);e.D3ConnectedGraphSVG=m;var _=function(t){function e(e,n,r){var o=t.call(this)||this;return o._element=e,o._renderer=n,o._options={},o._contextMenuItems=[],o._tooltipId="d3-tooltip",o._tooltipAnalyticsName="d3-ui-widget-toolkit",o._parent=r,o._graphContainer=r,v.prototype.bind.call(o,n,e),o}return o(e,t),e.prototype.hover=function(t){this._selectionHelper.onSelect(t)},e.prototype.brush=function(t){},e.prototype.changeCursor=function(t){},e.prototype.getTooltipData=function(t){return[{source:this._element,group:"",metrics:{}}]},e.prototype.getAnimateDuration=function(){return void 0!==this._options.animateDuration?this._options.animateDuration:1e3},e.prototype.bindZoom=function(){if(!this._options.disableZoomViewUpdate){var t=this,e=t._stage;t._zoom=p.zoom().on("zoom",(function(){e.itemDragging||(e.position.set(p.event.transform.x,p.event.transform.y),e.scale.set(p.event.transform.k,p.event.transform.k),t._pixiHelper.render())})),t._parent.call(t._zoom),t._element.api||(t._element.api={}),t._element.api.zoom=function(e){e.data&&t._zoom.scaleTo(t._parent,e.data)},t._element.api.pan=function(e){t._zoom.translateTo(t._parent,e.xStart,e.yStart)}}},e.prototype.configureHover=function(){var t=this;this._selectionHelper=new u.SelectionHelper((function(e){if(e){var n=t._pixiHelper.getSelection(e);n&&n.forEach((function(t){t._prevTint=t.tint,t.tint=8947848,t.alpha=136})),t._pixiHelper.render()}}),(function(e){var n=t._pixiHelper.getSelection(e);n&&n.forEach((function(t){t.tint=t._prevTint,t.alpha=255})),t._pixiHelper.render()}))},e.prototype.configureContextMenu=function(){var t=this,e=t._element;if(e.contextMenuItems)for(var n=0;n<e.contextMenuItems.length;++n)t._contextMenuItems.push(e.contextMenuItems[n]);t._contextMenuItems.length>0&&t._parent.on("contextmenu",(function(e){s.showContextMenu(p.event,void 0,t._contextMenuItems)}))},e.prototype.initializeGraphArea=function(t){return this._contextMenuItems=[],c.merge(this._options,t),void 0===this._pixiHelper&&(this._pixiHelper=new d.PIXIHelper(!this.getOptions().forceCanvasRenderer),this._pixi=this._pixiHelper.getRenderer(),this._parent.node().appendChild(this._pixi.view),this._stage=new g.Container,this._stage.interactive=!0,this.createArrowTexture(),this.configureHover()),this._stage.removeChildren(),this._stage},e.prototype.createArrowTexture=function(){var t=new g.Graphics;t.beginFill(0),t.lineStyle(0,0,0);t.moveTo(0,0),t.lineTo(9*Math.cos(1.1),9*Math.sin(1.1)),t.lineTo(-9*Math.cos(1.1),9*Math.sin(1.1)),t.lineTo(0,0),this._arrowTexture=this._pixi.generateTexture(t,g.SCALE_MODES.LINEAR,10)},e.prototype.createArrow=function(t,e,n,r,o){var a=new g.Sprite(this._arrowTexture);switch(a.anchor=new g.ObservablePoint(void 0,void 0,.5,0),a.x=e.x,a.y=e.y,a.rotation=-Math.atan2(e.x-n.x,e.y-n.y),o){case i.Alignment.Left:a.rotation+=Math.PI;break;case i.Alignment.Right:a.rotation+=-Math.PI;break;case i.Alignment.Top:a.rotation+=3*Math.PI/2;break;case i.Alignment.Bottom:a.rotation+=-Math.PI/2}t.addChild(a)},e.prototype.renderLinkHelper=function(t,e){var n=this;n._pixiLinks&&(t.removeChild(n._pixiLinks),n._pixiLinks.destroy(),t.removeChild(n._pixiArrows),n._pixiArrows.destroy()),n._pixiLinks=new g.Graphics,t.addChildAt(n._pixiLinks,0),n._pixiArrows=new g.Container,t.addChildAt(n._pixiArrows,1),e.forEach((function(t){var e=t.def;n._pixiLinks.lineStyle(2,8947848,.4);var r=n.getLinkStartXY(t),o=n.getLinkEndXY(t);if(e.linkType&a.LinkType.Linear?t.path=[r,o]:t.path=n.getElbowLinkPath(t,r,o),e.linkType&a.LinkType.Curve)n._pixiLinks.moveTo(t.path[0].x,t.path[0].y),n._pixiLinks.bezierCurveTo(t.path[1].x,t.path[1].y,t.path[t.path.length-2].x,t.path[t.path.length-2].y,t.path[t.path.length-1].x,t.path[t.path.length-1].y);else{n._pixiLinks.moveTo(t.path[0].x,t.path[0].y);for(var i=1;i<t.path.length;++i)n._pixiLinks.lineTo(t.path[i].x,t.path[i].y)}e.linkType&a.LinkType.Bidirectional&&n.createArrow(n._pixiArrows,t.path[0],t.path[1],e.linkType,t.source.alignment),(e.linkType&a.LinkType.Directional||e.linkType&a.LinkType.Bidirectional)&&n.createArrow(n._pixiArrows,t.path[t.path.length-1],t.path[t.path.length-2],e.linkType,t.target.alignment)}))},e.prototype.renderLegend=function(t){return t},e.prototype.configureView=function(){var t=this._options.height?this._options.height:400,e=this._options.width?this._options.width:this._parent.node().getBoundingClientRect().width;this._pixi.resize(e,t),v.prototype.configureView.call(this,t,e)},e}(h.UIElementRenderer);function x(t,e){return void 0===e.x&&(e.d3selection||(e.d3selection=p.select(this)),c.merge(e,f.convertToSVGCoords(t,e.d3selection))),e}e.D3ConnectedGraphPixi=_,e.getCoordsAndCache=x},function(t,e,n){var r=n(28),o=n(11);t.exports=function(t){if(!o(t))return!1;var e=r(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(t,e,n){var r=n(56),o=n(57);t.exports=function(t,e,n,i){var a=!n;n||(n={});for(var s=-1,u=e.length;++s<u;){var c=e[s],l=i?i(n[c],t[c],c,n,t):void 0;void 0===l&&(l=t[c]),a?o(n,c,l):r(n,c,l)}return n}},function(t,e,n){var r=n(186),o=n(17),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(t){return o(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=u},function(t,e,n){var r=n(188),o=n(59),i=n(76),a=i&&i.isTypedArray,s=a?o(a):r;t.exports=s},function(t,e,n){var r=n(38);t.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},,,function(t,e,n){var r=n(52),o=n(161),i=n(162),a=n(163),s=n(164),u=n(165);function c(t){var e=this.__data__=new r(t);this.size=e.size}c.prototype.clear=o,c.prototype.delete=i,c.prototype.get=a,c.prototype.has=s,c.prototype.set=u,t.exports=c},function(t,e,n){var r=n(156),o=n(157),i=n(158),a=n(159),s=n(160);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(33);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},function(t,e,n){var r=n(27)(Object,"create");t.exports=r},function(t,e,n){var r=n(180);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},function(t,e,n){var r=n(57),o=n(33),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var a=t[e];i.call(t,e)&&o(a,n)&&(void 0!==n||e in t)||r(t,e,n)}},function(t,e,n){var r=n(96);t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},function(t,e){var n=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&n.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(t,e,n){var r=n(98)(Object.getPrototypeOf,Object);t.exports=r},function(t,e,n){var r=n(82),o=n(209)(r);t.exports=o},function(t,e,n){var r=n(6),o=n(86),i=n(223),a=n(121);t.exports=function(t,e){return r(t)?t:o(t,e)?[t]:i(a(t))}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}},function(t,e,n){var r=n(29),o=n(130),i=n(131);t.exports=function(t,e){return i(o(t,e,r),t+"")}},function(t,e,n){var r=n(33),o=n(19),i=n(58),a=n(11);t.exports=function(t,e,n){if(!a(n))return!1;var s=typeof e;return!!("number"==s?o(n)&&i(e,n.length):"string"==s&&e in n)&&r(n[e],t)}},function(t,e,n){"use strict";var r=n(4);t.exports={longestPath:function(t){var e={};r.forEach(t.sources(),(function n(o){var i=t.node(o);if(r.has(e,o))return i.rank;e[o]=!0;var a=r.min(r.map(t.outEdges(o),(function(e){return n(e.w)-t.edge(e).minlen})));return a!==Number.POSITIVE_INFINITY&&null!=a||(a=0),i.rank=a}))},slack:function(t,e){return t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen}}},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.Linear=1]="Linear",t[t.Elbow=2]="Elbow",t[t.Directional=4]="Directional",t[t.Bidirectional=8]="Bidirectional",t[t.Curve=16]="Curve"}(e.LinkType||(e.LinkType={})),function(t){t[t.NodeSimple=0]="NodeSimple",t[t.NodeRectangle=1]="NodeRectangle"}(e.NodeType||(e.NodeType={}))},function(t,e,n){"use strict";var r=n(10);t.exports=o;function o(t){this._isDirected=!r.has(t,"directed")||t.directed,this._isMultigraph=!!r.has(t,"multigraph")&&t.multigraph,this._isCompound=!!r.has(t,"compound")&&t.compound,this._label=void 0,this._defaultNodeLabelFn=r.constant(void 0),this._defaultEdgeLabelFn=r.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function i(t,e){t[e]?t[e]++:t[e]=1}function a(t,e){--t[e]||delete t[e]}function s(t,e,n,o){var i=""+e,a=""+n;if(!t&&i>a){var s=i;i=a,a=s}return i+""+a+""+(r.isUndefined(o)?"\0":o)}function u(t,e,n,r){var o=""+e,i=""+n;if(!t&&o>i){var a=o;o=i,i=a}var s={v:o,w:i};return r&&(s.name=r),s}function c(t,e){return s(t,e.v,e.w,e.name)}o.prototype._nodeCount=0,o.prototype._edgeCount=0,o.prototype.isDirected=function(){return this._isDirected},o.prototype.isMultigraph=function(){return this._isMultigraph},o.prototype.isCompound=function(){return this._isCompound},o.prototype.setGraph=function(t){return this._label=t,this},o.prototype.graph=function(){return this._label},o.prototype.setDefaultNodeLabel=function(t){return r.isFunction(t)||(t=r.constant(t)),this._defaultNodeLabelFn=t,this},o.prototype.nodeCount=function(){return this._nodeCount},o.prototype.nodes=function(){return r.keys(this._nodes)},o.prototype.sources=function(){var t=this;return r.filter(this.nodes(),(function(e){return r.isEmpty(t._in[e])}))},o.prototype.sinks=function(){var t=this;return r.filter(this.nodes(),(function(e){return r.isEmpty(t._out[e])}))},o.prototype.setNodes=function(t,e){var n=arguments,o=this;return r.each(t,(function(t){n.length>1?o.setNode(t,e):o.setNode(t)})),this},o.prototype.setNode=function(t,e){return r.has(this._nodes,t)?(arguments.length>1&&(this._nodes[t]=e),this):(this._nodes[t]=arguments.length>1?e:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]="\0",this._children[t]={},this._children["\0"][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount,this)},o.prototype.node=function(t){return this._nodes[t]},o.prototype.hasNode=function(t){return r.has(this._nodes,t)},o.prototype.removeNode=function(t){var e=this;if(r.has(this._nodes,t)){var n=function(t){e.removeEdge(e._edgeObjs[t])};delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],r.each(this.children(t),(function(t){e.setParent(t)})),delete this._children[t]),r.each(r.keys(this._in[t]),n),delete this._in[t],delete this._preds[t],r.each(r.keys(this._out[t]),n),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this},o.prototype.setParent=function(t,e){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(r.isUndefined(e))e="\0";else{for(var n=e+="";!r.isUndefined(n);n=this.parent(n))if(n===t)throw new Error("Setting "+e+" as parent of "+t+" would create a cycle");this.setNode(e)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=e,this._children[e][t]=!0,this},o.prototype._removeFromParentsChildList=function(t){delete this._children[this._parent[t]][t]},o.prototype.parent=function(t){if(this._isCompound){var e=this._parent[t];if("\0"!==e)return e}},o.prototype.children=function(t){if(r.isUndefined(t)&&(t="\0"),this._isCompound){var e=this._children[t];if(e)return r.keys(e)}else{if("\0"===t)return this.nodes();if(this.hasNode(t))return[]}},o.prototype.predecessors=function(t){var e=this._preds[t];if(e)return r.keys(e)},o.prototype.successors=function(t){var e=this._sucs[t];if(e)return r.keys(e)},o.prototype.neighbors=function(t){var e=this.predecessors(t);if(e)return r.union(e,this.successors(t))},o.prototype.isLeaf=function(t){return 0===(this.isDirected()?this.successors(t):this.neighbors(t)).length},o.prototype.filterNodes=function(t){var e=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});e.setGraph(this.graph());var n=this;r.each(this._nodes,(function(n,r){t(r)&&e.setNode(r,n)})),r.each(this._edgeObjs,(function(t){e.hasNode(t.v)&&e.hasNode(t.w)&&e.setEdge(t,n.edge(t))}));var o={};return this._isCompound&&r.each(e.nodes(),(function(t){e.setParent(t,function t(r){var i=n.parent(r);return void 0===i||e.hasNode(i)?(o[r]=i,i):i in o?o[i]:t(i)}(t))})),e},o.prototype.setDefaultEdgeLabel=function(t){return r.isFunction(t)||(t=r.constant(t)),this._defaultEdgeLabelFn=t,this},o.prototype.edgeCount=function(){return this._edgeCount},o.prototype.edges=function(){return r.values(this._edgeObjs)},o.prototype.setPath=function(t,e){var n=this,o=arguments;return r.reduce(t,(function(t,r){return o.length>1?n.setEdge(t,r,e):n.setEdge(t,r),r})),this},o.prototype.setEdge=function(){var t,e,n,o,a=!1,c=arguments[0];"object"==typeof c&&null!==c&&"v"in c?(t=c.v,e=c.w,n=c.name,2===arguments.length&&(o=arguments[1],a=!0)):(t=c,e=arguments[1],n=arguments[3],arguments.length>2&&(o=arguments[2],a=!0)),t=""+t,e=""+e,r.isUndefined(n)||(n=""+n);var l=s(this._isDirected,t,e,n);if(r.has(this._edgeLabels,l))return a&&(this._edgeLabels[l]=o),this;if(!r.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(e),this._edgeLabels[l]=a?o:this._defaultEdgeLabelFn(t,e,n);var h=u(this._isDirected,t,e,n);return t=h.v,e=h.w,Object.freeze(h),this._edgeObjs[l]=h,i(this._preds[e],t),i(this._sucs[t],e),this._in[e][l]=h,this._out[t][l]=h,this._edgeCount++,this},o.prototype.edge=function(t,e,n){var r=1===arguments.length?c(this._isDirected,arguments[0]):s(this._isDirected,t,e,n);return this._edgeLabels[r]},o.prototype.hasEdge=function(t,e,n){var o=1===arguments.length?c(this._isDirected,arguments[0]):s(this._isDirected,t,e,n);return r.has(this._edgeLabels,o)},o.prototype.removeEdge=function(t,e,n){var r=1===arguments.length?c(this._isDirected,arguments[0]):s(this._isDirected,t,e,n),o=this._edgeObjs[r];return o&&(t=o.v,e=o.w,delete this._edgeLabels[r],delete this._edgeObjs[r],a(this._preds[e],t),a(this._sucs[t],e),delete this._in[e][r],delete this._out[t][r],this._edgeCount--),this},o.prototype.inEdges=function(t,e){var n=this._in[t];if(n){var o=r.values(n);return e?r.filter(o,(function(t){return t.v===e})):o}},o.prototype.outEdges=function(t,e){var n=this._out[t];if(n){var o=r.values(n);return e?r.filter(o,(function(t){return t.w===e})):o}},o.prototype.nodeEdges=function(t,e){var n=this.inEdges(t,e);if(n)return n.concat(this.outEdges(t,e))}},function(t,e,n){var r=n(27)(n(15),"Map");t.exports=r},function(t,e,n){var r=n(172),o=n(179),i=n(181),a=n(182),s=n(183);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},function(t,e,n){(function(t){var r=n(94),o=e&&!e.nodeType&&e,i=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=i&&i.exports===o&&r.process,s=function(){try{var t=i&&i.require&&i.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=s}).call(this,n(74)(t))},function(t,e,n){var r=n(60),o=n(189),i=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return o(t);var e=[];for(var n in Object(t))i.call(t,n)&&"constructor"!=n&&e.push(n);return e}},function(t,e,n){var r=n(101),o=n(102),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(t){return null==t?[]:(t=Object(t),r(a(t),(function(e){return i.call(t,e)})))}:o;t.exports=s},function(t,e){t.exports=function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}},function(t,e,n){var r=n(107);t.exports=function(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}},function(t,e){t.exports=function(t){return function(){return t}}},function(t,e,n){var r=n(83),o=n(24);t.exports=function(t,e){return t&&r(t,e,o)}},function(t,e,n){var r=n(208)();t.exports=r},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}},function(t,e,n){var r=n(63),o=n(48);t.exports=function(t,e){for(var n=0,i=(e=r(e,t)).length;null!=t&&n<i;)t=t[o(e[n++])];return n&&n==i?t:void 0}},function(t,e,n){var r=n(6),o=n(38),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=function(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!o(t))||(a.test(t)||!i.test(t)||null!=e&&t in Object(e))}},function(t,e,n){var r=n(79),o=n(242);t.exports=function t(e,n,i,a,s){var u=-1,c=e.length;for(i||(i=o),s||(s=[]);++u<c;){var l=e[u];n>0&&i(l)?n>1?t(l,n-1,i,a,s):r(s,l):a||(s[s.length]=l)}return s}},function(t,e,n){var r=n(38);t.exports=function(t,e,n){for(var o=-1,i=t.length;++o<i;){var a=t[o],s=e(a);if(null!=s&&(void 0===u?s==s&&!r(s):n(s,u)))var u=s,c=a}return c}},,,function(t,e,n){"use strict";n.r(e);var r="http://www.w3.org/1999/xhtml",o={svg:"http://www.w3.org/2000/svg",xhtml:r,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},i=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),o.hasOwnProperty(e)?{space:o[e],local:t}:t};function a(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===r&&e.documentElement.namespaceURI===r?e.createElement(t):e.createElementNS(n,t)}}function s(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}var u=function(t){var e=i(t);return(e.local?s:a)(e)};function c(){}var l=function(t){return null==t?c:function(){return this.querySelector(t)}};function h(){return[]}var f=function(t){return new Array(t.length)};function d(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}d.prototype={constructor:d,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function p(t,e,n,r,o,i){for(var a,s=0,u=e.length,c=i.length;s<c;++s)(a=e[s])?(a.__data__=i[s],r[s]=a):n[s]=new d(t,i[s]);for(;s<u;++s)(a=e[s])&&(o[s]=a)}function g(t,e,n,r,o,i,a){var s,u,c,l={},h=e.length,f=i.length,p=new Array(h);for(s=0;s<h;++s)(u=e[s])&&(p[s]=c="$"+a.call(u,u.__data__,s,e),c in l?o[s]=u:l[c]=u);for(s=0;s<f;++s)(u=l[c="$"+a.call(t,i[s],s,i)])?(r[s]=u,u.__data__=i[s],l[c]=null):n[s]=new d(t,i[s]);for(s=0;s<h;++s)(u=e[s])&&l[p[s]]===u&&(o[s]=u)}function v(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function y(t){return function(){this.removeAttribute(t)}}function m(t){return function(){this.removeAttributeNS(t.space,t.local)}}function _(t,e){return function(){this.setAttribute(t,e)}}function x(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function b(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function w(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}var k=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function M(t){return function(){this.style.removeProperty(t)}}function C(t,e,n){return function(){this.style.setProperty(t,e,n)}}function T(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function E(t,e){return t.style.getPropertyValue(e)||k(t).getComputedStyle(t,null).getPropertyValue(e)}function S(t){return function(){delete this[t]}}function A(t,e){return function(){this[t]=e}}function N(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function L(t){return t.trim().split(/^|\s+/)}function O(t){return t.classList||new P(t)}function P(t){this._node=t,this._names=L(t.getAttribute("class")||"")}function j(t,e){for(var n=O(t),r=-1,o=e.length;++r<o;)n.add(e[r])}function D(t,e){for(var n=O(t),r=-1,o=e.length;++r<o;)n.remove(e[r])}function I(t){return function(){j(this,t)}}function R(t){return function(){D(this,t)}}function H(t,e){return function(){(e.apply(this,arguments)?j:D)(this,t)}}P.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function F(){this.textContent=""}function G(t){return function(){this.textContent=t}}function B(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function z(){this.innerHTML=""}function U(t){return function(){this.innerHTML=t}}function V(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function Y(){this.nextSibling&&this.parentNode.appendChild(this)}function W(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function X(){return null}function q(){var t=this.parentNode;t&&t.removeChild(this)}function $(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function Z(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}var Q={},J=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Q={mouseenter:"mouseover",mouseleave:"mouseout"}));function K(t,e,n){return t=tt(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function tt(t,e,n){return function(r){var o=J;J=r;try{t.call(this,this.__data__,e,n)}finally{J=o}}}function et(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function nt(t){return function(){var e=this.__on;if(e){for(var n,r=0,o=-1,i=e.length;r<i;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++o]=n:this.removeEventListener(n.type,n.listener,n.capture);++o?e.length=o:delete this.__on}}}function rt(t,e,n){var r=Q.hasOwnProperty(t.type)?K:tt;return function(o,i,a){var s,u=this.__on,c=r(e,i,a);if(u)for(var l=0,h=u.length;l<h;++l)if((s=u[l]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=c,s.capture=n),void(s.value=e);this.addEventListener(t.type,c,n),s={type:t.type,name:t.name,value:e,listener:c,capture:n},u?u.push(s):this.__on=[s]}}function ot(t,e,n){var r=k(t),o=r.CustomEvent;"function"==typeof o?o=new o(e,n):(o=r.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function it(t,e){return function(){return ot(this,t,e)}}function at(t,e){return function(){return ot(this,t,e.apply(this,arguments))}}var st=[null];function ut(t,e){this._groups=t,this._parents=e}function ct(){return new ut([[document.documentElement]],st)}ut.prototype=ct.prototype={constructor:ut,select:function(t){"function"!=typeof t&&(t=l(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i,a,s=e[o],u=s.length,c=r[o]=new Array(u),h=0;h<u;++h)(i=s[h])&&(a=t.call(i,i.__data__,h,s))&&("__data__"in i&&(a.__data__=i.__data__),c[h]=a);return new ut(r,this._parents)},selectAll:function(t){var e;"function"!=typeof t&&(t=null==(e=t)?h:function(){return this.querySelectorAll(e)});for(var n=this._groups,r=n.length,o=[],i=[],a=0;a<r;++a)for(var s,u=n[a],c=u.length,l=0;l<c;++l)(s=u[l])&&(o.push(t.call(s,s.__data__,l,u)),i.push(s));return new ut(o,i)},filter:function(t){var e;"function"!=typeof t&&(e=t,t=function(){return this.matches(e)});for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i)for(var a,s=n[i],u=s.length,c=o[i]=[],l=0;l<u;++l)(a=s[l])&&t.call(a,a.__data__,l,s)&&c.push(a);return new ut(o,this._parents)},data:function(t,e){if(!t)return v=new Array(this.size()),l=-1,this.each((function(t){v[++l]=t})),v;var n,r=e?g:p,o=this._parents,i=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var a=i.length,s=new Array(a),u=new Array(a),c=new Array(a),l=0;l<a;++l){var h=o[l],f=i[l],d=f.length,v=t.call(h,h&&h.__data__,l,o),y=v.length,m=u[l]=new Array(y),_=s[l]=new Array(y);r(h,f,m,_,c[l]=new Array(d),v,e);for(var x,b,w=0,k=0;w<y;++w)if(x=m[w]){for(w>=k&&(k=w+1);!(b=_[k])&&++k<y;);x._next=b||null}}return(s=new ut(s,o))._enter=u,s._exit=c,s},enter:function(){return new ut(this._enter||this._groups.map(f),this._parents)},exit:function(){return new ut(this._exit||this._groups.map(f),this._parents)},join:function(t,e,n){var r=this.enter(),o=this,i=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(o=e(o)),null==n?i.remove():n(i),r&&o?r.merge(o).order():o},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,o=n.length,i=Math.min(r,o),a=new Array(r),s=0;s<i;++s)for(var u,c=e[s],l=n[s],h=c.length,f=a[s]=new Array(h),d=0;d<h;++d)(u=c[d]||l[d])&&(f[d]=u);for(;s<r;++s)a[s]=e[s];return new ut(a,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,o=t[e],i=o.length-1,a=o[i];--i>=0;)(r=o[i])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=v);for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var a,s=n[i],u=s.length,c=o[i]=new Array(u),l=0;l<u;++l)(a=s[l])&&(c[l]=a);c.sort(e)}return new ut(o,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],o=0,i=r.length;o<i;++o){var a=r[o];if(a)return a}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var o,i=e[n],a=0,s=i.length;a<s;++a)(o=i[a])&&t.call(o,o.__data__,a,i);return this},attr:function(t,e){var n=i(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?m:y:"function"==typeof e?n.local?w:b:n.local?x:_)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?M:"function"==typeof e?T:C)(t,e,null==n?"":n)):E(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?S:"function"==typeof e?N:A)(t,e)):this.node()[t]},classed:function(t,e){var n=L(t+"");if(arguments.length<2){for(var r=O(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each(("function"==typeof e?H:e?I:R)(n,e))},text:function(t){return arguments.length?this.each(null==t?F:("function"==typeof t?B:G)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?z:("function"==typeof t?V:U)(t)):this.node().innerHTML},raise:function(){return this.each(Y)},lower:function(){return this.each(W)},append:function(t){var e="function"==typeof t?t:u(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:u(t),r=null==e?X:"function"==typeof e?e:l(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(q)},clone:function(t){return this.select(t?Z:$)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,o,i=et(t+""),a=i.length;if(!(arguments.length<2)){for(s=e?rt:nt,null==n&&(n=!1),r=0;r<a;++r)this.each(s(i[r],e,n));return this}var s=this.node().__on;if(s)for(var u,c=0,l=s.length;c<l;++c)for(r=0,u=s[c];r<a;++r)if((o=i[r]).type===u.type&&o.name===u.name)return u.value},dispatch:function(t,e){return this.each(("function"==typeof e?at:it)(t,e))}};var lt=function(t){return"string"==typeof t?new ut([[document.querySelector(t)]],[document.documentElement]):new ut([[t]],st)},ht=0;function ft(){this._="@"+(++ht).toString(36)}ft.prototype=function(){return new ft}.prototype={constructor:ft,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var dt=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]},pt=function(t){return(t=dt(Math.abs(t)))?t[1]:NaN},gt=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function vt(t){return new yt(t)}function yt(t){if(!(e=gt.exec(t)))throw new Error("invalid format: "+t);var e;this.fill=e[1]||" ",this.align=e[2]||">",this.sign=e[3]||"-",this.symbol=e[4]||"",this.zero=!!e[5],this.width=e[6]&&+e[6],this.comma=!!e[7],this.precision=e[8]&&+e[8].slice(1),this.trim=!!e[9],this.type=e[10]||""}vt.prototype=yt.prototype,yt.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var mt,_t,xt,bt,wt=function(t,e){var n=dt(t,e);if(!n)return t+"";var r=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")},kt={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return wt(100*t,e)},r:wt,s:function(t,e){var n=dt(t,e);if(!n)return t+"";var r=n[0],o=n[1],i=o-(mt=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,a=r.length;return i===a?r:i>a?r+new Array(i-a+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+dt(t,Math.max(0,e+i-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},Mt=function(t){return t},Ct=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],Tt=function(t){var e,n,r=t.grouping&&t.thousands?(e=t.grouping,n=t.thousands,function(t,r){for(var o=t.length,i=[],a=0,s=e[0],u=0;o>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),i.push(t.substring(o-=s,o+s)),!((u+=s+1)>r));)s=e[a=(a+1)%e.length];return i.reverse().join(n)}):Mt,o=t.currency,i=t.decimal,a=t.numerals?function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(t.numerals):Mt,s=t.percent||"%";function u(t){var e=(t=vt(t)).fill,n=t.align,u=t.sign,c=t.symbol,l=t.zero,h=t.width,f=t.comma,d=t.precision,p=t.trim,g=t.type;"n"===g?(f=!0,g="g"):kt[g]||(null==d&&(d=12),p=!0,g="g"),(l||"0"===e&&"="===n)&&(l=!0,e="0",n="=");var v="$"===c?o[0]:"#"===c&&/[boxX]/.test(g)?"0"+g.toLowerCase():"",y="$"===c?o[1]:/[%p]/.test(g)?s:"",m=kt[g],_=/[defgprs%]/.test(g);function x(t){var o,s,c,x=v,b=y;if("c"===g)b=m(t)+b,t="";else{var w=(t=+t)<0;if(t=m(Math.abs(t),d),p&&(t=function(t){t:for(var e,n=t.length,r=1,o=-1;r<n;++r)switch(t[r]){case".":o=e=r;break;case"0":0===o&&(o=r),e=r;break;default:if(o>0){if(!+t[r])break t;o=0}}return o>0?t.slice(0,o)+t.slice(e+1):t}(t)),w&&0==+t&&(w=!1),x=(w?"("===u?u:"-":"-"===u||"("===u?"":u)+x,b=("s"===g?Ct[8+mt/3]:"")+b+(w&&"("===u?")":""),_)for(o=-1,s=t.length;++o<s;)if(48>(c=t.charCodeAt(o))||c>57){b=(46===c?i+t.slice(o+1):t.slice(o))+b,t=t.slice(0,o);break}}f&&!l&&(t=r(t,1/0));var k=x.length+t.length+b.length,M=k<h?new Array(h-k+1).join(e):"";switch(f&&l&&(t=r(M+t,M.length?h-b.length:1/0),M=""),n){case"<":t=x+t+b+M;break;case"=":t=x+M+t+b;break;case"^":t=M.slice(0,k=M.length>>1)+x+t+b+M.slice(k);break;default:t=M+x+t+b}return a(t)}return d=null==d?6:/[gprs]/.test(g)?Math.max(1,Math.min(21,d)):Math.max(0,Math.min(20,d)),x.toString=function(){return t+""},x}return{format:u,formatPrefix:function(t,e){var n=u(((t=vt(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(pt(e)/3))),o=Math.pow(10,-r),i=Ct[8+r/3];return function(t){return n(o*t)+i}}}};_t=Tt({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),xt=_t.format,bt=_t.formatPrefix;var Et={value:function(){}};function St(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new At(r)}function At(t){this._=t}function Nt(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function Lt(t,e){for(var n,r=0,o=t.length;r<o;++r)if((n=t[r]).name===e)return n.value}function Ot(t,e,n){for(var r=0,o=t.length;r<o;++r)if(t[r].name===e){t[r]=Et,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}At.prototype=St.prototype={constructor:At,on:function(t,e){var n,r=this._,o=Nt(t+"",r),i=-1,a=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++i<a;)if(n=(t=o[i]).type)r[n]=Ot(r[n],t.name,e);else if(null==e)for(n in r)r[n]=Ot(r[n],t.name,null);return this}for(;++i<a;)if((n=(t=o[i]).type)&&(n=Lt(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new At(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,o=new Array(n),i=0;i<n;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=0,n=(r=this._[t]).length;i<n;++i)r[i].value.apply(e,o)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],o=0,i=r.length;o<i;++o)r[o].value.apply(e,n)}};var Pt=St,jt=n(0);function Dt(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}n(21);var It=Array.prototype,Rt=It.map,Ht=It.slice;var Ft=n(16),Gt=function(t){return+t},Bt=[0,1];function zt(t){return t}function Ut(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function Vt(t){var e,n=t[0],r=t[t.length-1];return n>r&&(e=n,n=r,r=e),function(t){return Math.max(n,Math.min(r,t))}}function Yt(t,e,n){var r=t[0],o=t[1],i=e[0],a=e[1];return o<r?(r=Ut(o,r),i=n(a,i)):(r=Ut(r,o),i=n(i,a)),function(t){return i(r(t))}}function Wt(t,e,n){var r=Math.min(t.length,e.length)-1,o=new Array(r),i=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)o[a]=Ut(t[a],t[a+1]),i[a]=n(e[a],e[a+1]);return function(e){var n=Object(jt.b)(t,e,1,r)-1;return i[n](o[n](e))}}function Xt(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function qt(){var t,e,n,r,o,i,a=Bt,s=Bt,u=Ft.a,c=zt;function l(){return r=Math.min(a.length,s.length)>2?Wt:Yt,o=i=null,h}function h(e){return isNaN(e=+e)?n:(o||(o=r(a.map(t),s,u)))(t(c(e)))}return h.invert=function(n){return c(e((i||(i=r(s,a.map(t),Ft.b)))(n)))},h.domain=function(t){return arguments.length?(a=Rt.call(t,Gt),c===zt||(c=Vt(a)),l()):a.slice()},h.range=function(t){return arguments.length?(s=Ht.call(t),l()):s.slice()},h.rangeRound=function(t){return s=Ht.call(t),u=Ft.c,l()},h.clamp=function(t){return arguments.length?(c=t?Vt(a):zt,h):c!==zt},h.interpolate=function(t){return arguments.length?(u=t,l()):u},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,r){return t=n,e=r,l()}}function $t(t,e){return qt()(t,e)}var Zt=function(t,e,n,r){var o,i=Object(jt.j)(t,e,n);switch((r=vt(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(o=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(pt(e)/3)))-pt(Math.abs(t)))}(i,a))||(r.precision=o),bt(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(o=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,pt(e)-pt(t))+1}(i,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=o-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(o=function(t){return Math.max(0,-pt(Math.abs(t)))}(i))||(r.precision=o-2*("%"===r.type))}return xt(r)};function Qt(t){var e=t.domain;return t.ticks=function(t){var n=e();return Object(jt.k)(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return Zt(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,o=e(),i=0,a=o.length-1,s=o[i],u=o[a];return u<s&&(r=s,s=u,u=r,r=i,i=a,a=r),(r=Object(jt.i)(s,u,n))>0?(s=Math.floor(s/r)*r,u=Math.ceil(u/r)*r,r=Object(jt.i)(s,u,n)):r<0&&(s=Math.ceil(s*r)/r,u=Math.floor(u*r)/r,r=Object(jt.i)(s,u,n)),r>0?(o[i]=Math.floor(s/r)*r,o[a]=Math.ceil(u/r)*r,e(o)):r<0&&(o[i]=Math.ceil(s*r)/r,o[a]=Math.floor(u*r)/r,e(o)),t},t}function Jt(){var t=$t(zt,zt);return t.copy=function(){return Xt(t,Jt())},Dt.apply(t,arguments),Qt(t)}var Kt=new Date,te=new Date;function ee(t,e,n,r){function o(e){return t(e=new Date(+e)),e}return o.floor=o,o.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},o.round=function(t){var e=o(t),n=o.ceil(t);return t-e<n-t?e:n},o.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},o.range=function(n,r,i){var a,s=[];if(n=o.ceil(n),i=null==i?1:Math.floor(i),!(n<r&&i>0))return s;do{s.push(a=new Date(+n)),e(n,i),t(n)}while(a<n&&n<r);return s},o.filter=function(n){return ee((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(o.count=function(e,r){return Kt.setTime(+e),te.setTime(+r),t(Kt),t(te),Math.floor(n(Kt,te))},o.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?o.filter(r?function(e){return r(e)%t==0}:function(e){return o.count(0,e)%t==0}):o:null}),o}var ne=ee((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));ne.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?ee((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):ne:null};ne.range;var re=ee((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+1e3*e)}),(function(t,e){return(e-t)/1e3}),(function(t){return t.getUTCSeconds()})),oe=(re.range,ee((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())}),(function(t,e){t.setTime(+t+6e4*e)}),(function(t,e){return(e-t)/6e4}),(function(t){return t.getMinutes()}))),ie=(oe.range,ee((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-6e4*t.getMinutes())}),(function(t,e){t.setTime(+t+36e5*e)}),(function(t,e){return(e-t)/36e5}),(function(t){return t.getHours()}))),ae=(ie.range,ee((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5}),(function(t){return t.getDate()-1}))),se=ae;ae.range;function ue(t){return ee((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5}))}var ce=ue(0),le=ue(1),he=ue(2),fe=ue(3),de=ue(4),pe=ue(5),ge=ue(6),ve=(ce.range,le.range,he.range,fe.range,de.range,pe.range,ge.range,ee((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()}))),ye=(ve.range,ee((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()})));ye.every=function(t){return isFinite(t=Math.floor(t))&&t>0?ee((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var me=ye,_e=(ye.range,ee((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+6e4*e)}),(function(t,e){return(e-t)/6e4}),(function(t){return t.getUTCMinutes()}))),xe=(_e.range,ee((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+36e5*e)}),(function(t,e){return(e-t)/36e5}),(function(t){return t.getUTCHours()}))),be=(xe.range,ee((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/864e5}),(function(t){return t.getUTCDate()-1}))),we=be;be.range;function ke(t){return ee((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/6048e5}))}var Me=ke(0),Ce=ke(1),Te=ke(2),Ee=ke(3),Se=ke(4),Ae=ke(5),Ne=ke(6),Le=(Me.range,Ce.range,Te.range,Ee.range,Se.range,Ae.range,Ne.range,ee((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()}))),Oe=(Le.range,ee((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()})));Oe.every=function(t){return isFinite(t=Math.floor(t))&&t>0?ee((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};var Pe=Oe;Oe.range;function je(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function De(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ie(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}var Re,He,Fe,Ge={"-":"",_:" ",0:"0"},Be=/^\s*\d+/,ze=/^%/,Ue=/[\\^$*+?|[\]().{}]/g;function Ve(t,e,n){var r=t<0?"-":"",o=(r?-t:t)+"",i=o.length;return r+(i<n?new Array(n-i+1).join(e)+o:o)}function Ye(t){return t.replace(Ue,"\\$&")}function We(t){return new RegExp("^(?:"+t.map(Ye).join("|")+")","i")}function Xe(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function qe(t,e,n){var r=Be.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function $e(t,e,n){var r=Be.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Ze(t,e,n){var r=Be.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Qe(t,e,n){var r=Be.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Je(t,e,n){var r=Be.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Ke(t,e,n){var r=Be.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function tn(t,e,n){var r=Be.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function en(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function nn(t,e,n){var r=Be.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function rn(t,e,n){var r=Be.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function on(t,e,n){var r=Be.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function an(t,e,n){var r=Be.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function sn(t,e,n){var r=Be.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function un(t,e,n){var r=Be.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function cn(t,e,n){var r=Be.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function ln(t,e,n){var r=Be.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function hn(t,e,n){var r=ze.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function fn(t,e,n){var r=Be.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function dn(t,e,n){var r=Be.exec(e.slice(n));return r?(t.Q=1e3*+r[0],n+r[0].length):-1}function pn(t,e){return Ve(t.getDate(),e,2)}function gn(t,e){return Ve(t.getHours(),e,2)}function vn(t,e){return Ve(t.getHours()%12||12,e,2)}function yn(t,e){return Ve(1+se.count(me(t),t),e,3)}function mn(t,e){return Ve(t.getMilliseconds(),e,3)}function _n(t,e){return mn(t,e)+"000"}function xn(t,e){return Ve(t.getMonth()+1,e,2)}function bn(t,e){return Ve(t.getMinutes(),e,2)}function wn(t,e){return Ve(t.getSeconds(),e,2)}function kn(t){var e=t.getDay();return 0===e?7:e}function Mn(t,e){return Ve(ce.count(me(t),t),e,2)}function Cn(t,e){var n=t.getDay();return t=n>=4||0===n?de(t):de.ceil(t),Ve(de.count(me(t),t)+(4===me(t).getDay()),e,2)}function Tn(t){return t.getDay()}function En(t,e){return Ve(le.count(me(t),t),e,2)}function Sn(t,e){return Ve(t.getFullYear()%100,e,2)}function An(t,e){return Ve(t.getFullYear()%1e4,e,4)}function Nn(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ve(e/60|0,"0",2)+Ve(e%60,"0",2)}function Ln(t,e){return Ve(t.getUTCDate(),e,2)}function On(t,e){return Ve(t.getUTCHours(),e,2)}function Pn(t,e){return Ve(t.getUTCHours()%12||12,e,2)}function jn(t,e){return Ve(1+we.count(Pe(t),t),e,3)}function Dn(t,e){return Ve(t.getUTCMilliseconds(),e,3)}function In(t,e){return Dn(t,e)+"000"}function Rn(t,e){return Ve(t.getUTCMonth()+1,e,2)}function Hn(t,e){return Ve(t.getUTCMinutes(),e,2)}function Fn(t,e){return Ve(t.getUTCSeconds(),e,2)}function Gn(t){var e=t.getUTCDay();return 0===e?7:e}function Bn(t,e){return Ve(Me.count(Pe(t),t),e,2)}function zn(t,e){var n=t.getUTCDay();return t=n>=4||0===n?Se(t):Se.ceil(t),Ve(Se.count(Pe(t),t)+(4===Pe(t).getUTCDay()),e,2)}function Un(t){return t.getUTCDay()}function Vn(t,e){return Ve(Ce.count(Pe(t),t),e,2)}function Yn(t,e){return Ve(t.getUTCFullYear()%100,e,2)}function Wn(t,e){return Ve(t.getUTCFullYear()%1e4,e,4)}function Xn(){return"+0000"}function qn(){return"%"}function $n(t){return+t}function Zn(t){return Math.floor(+t/1e3)}!function(t){Re=function(t){var e=t.dateTime,n=t.date,r=t.time,o=t.periods,i=t.days,a=t.shortDays,s=t.months,u=t.shortMonths,c=We(o),l=Xe(o),h=We(i),f=Xe(i),d=We(a),p=Xe(a),g=We(s),v=Xe(s),y=We(u),m=Xe(u),_={a:function(t){return a[t.getDay()]},A:function(t){return i[t.getDay()]},b:function(t){return u[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:pn,e:pn,f:_n,H:gn,I:vn,j:yn,L:mn,m:xn,M:bn,p:function(t){return o[+(t.getHours()>=12)]},Q:$n,s:Zn,S:wn,u:kn,U:Mn,V:Cn,w:Tn,W:En,x:null,X:null,y:Sn,Y:An,Z:Nn,"%":qn},x={a:function(t){return a[t.getUTCDay()]},A:function(t){return i[t.getUTCDay()]},b:function(t){return u[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:Ln,e:Ln,f:In,H:On,I:Pn,j:jn,L:Dn,m:Rn,M:Hn,p:function(t){return o[+(t.getUTCHours()>=12)]},Q:$n,s:Zn,S:Fn,u:Gn,U:Bn,V:zn,w:Un,W:Vn,x:null,X:null,y:Yn,Y:Wn,Z:Xn,"%":qn},b={a:function(t,e,n){var r=d.exec(e.slice(n));return r?(t.w=p[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=h.exec(e.slice(n));return r?(t.w=f[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=y.exec(e.slice(n));return r?(t.m=m[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=g.exec(e.slice(n));return r?(t.m=v[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,n,r){return M(t,e,n,r)},d:rn,e:rn,f:ln,H:an,I:an,j:on,L:cn,m:nn,M:sn,p:function(t,e,n){var r=c.exec(e.slice(n));return r?(t.p=l[r[0].toLowerCase()],n+r[0].length):-1},Q:fn,s:dn,S:un,u:$e,U:Ze,V:Qe,w:qe,W:Je,x:function(t,e,r){return M(t,n,e,r)},X:function(t,e,n){return M(t,r,e,n)},y:tn,Y:Ke,Z:en,"%":hn};function w(t,e){return function(n){var r,o,i,a=[],s=-1,u=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===t.charCodeAt(s)&&(a.push(t.slice(u,s)),null!=(o=Ge[r=t.charAt(++s)])?r=t.charAt(++s):o="e"===r?" ":"0",(i=e[r])&&(r=i(n,o)),a.push(r),u=s+1);return a.push(t.slice(u,s)),a.join("")}}function k(t,e){return function(n){var r,o,i=Ie(1900);if(M(i,t,n+="",0)!=n.length)return null;if("Q"in i)return new Date(i.Q);if("p"in i&&(i.H=i.H%12+12*i.p),"V"in i){if(i.V<1||i.V>53)return null;"w"in i||(i.w=1),"Z"in i?(o=(r=De(Ie(i.y))).getUTCDay(),r=o>4||0===o?Ce.ceil(r):Ce(r),r=we.offset(r,7*(i.V-1)),i.y=r.getUTCFullYear(),i.m=r.getUTCMonth(),i.d=r.getUTCDate()+(i.w+6)%7):(o=(r=e(Ie(i.y))).getDay(),r=o>4||0===o?le.ceil(r):le(r),r=se.offset(r,7*(i.V-1)),i.y=r.getFullYear(),i.m=r.getMonth(),i.d=r.getDate()+(i.w+6)%7)}else("W"in i||"U"in i)&&("w"in i||(i.w="u"in i?i.u%7:"W"in i?1:0),o="Z"in i?De(Ie(i.y)).getUTCDay():e(Ie(i.y)).getDay(),i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(o+5)%7:i.w+7*i.U-(o+6)%7);return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,De(i)):e(i)}}function M(t,e,n,r){for(var o,i,a=0,s=e.length,u=n.length;a<s;){if(r>=u)return-1;if(37===(o=e.charCodeAt(a++))){if(o=e.charAt(a++),!(i=b[o in Ge?e.charAt(a++):o])||(r=i(t,n,r))<0)return-1}else if(o!=n.charCodeAt(r++))return-1}return r}return(_.x=w(n,_),_.X=w(r,_),_.c=w(e,_),x.x=w(n,x),x.X=w(r,x),x.c=w(e,x),{format:function(t){var e=w(t+="",_);return e.toString=function(){return t},e},parse:function(t){var e=k(t+="",je);return e.toString=function(){return t},e},utcFormat:function(t){var e=w(t+="",x);return e.toString=function(){return t},e},utcParse:function(t){var e=k(t,De);return e.toString=function(){return t},e}})}(t),Re.format,Re.parse,He=Re.utcFormat,Fe=Re.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Date.prototype.toISOString||He("%Y-%m-%dT%H:%M:%S.%LZ");+new Date("2000-01-01T00:00:00.000Z")||Fe("%Y-%m-%dT%H:%M:%S.%LZ");n.d(e,"legendColor",(function(){return nr})),n.d(e,"legendSize",(function(){return rr})),n.d(e,"legendSymbol",(function(){return or})),n.d(e,"legendHelpers",(function(){return ir}));var Qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jn=function(t){return t},Kn=function(t){for(var e=[],n=0,r=t.length;n<r;n++)e[n]=t[r-n-1];return e},tr=function(t,e){t.each((function(){for(var t,n=lt(this),r=n.text().split(/\s+/).reverse(),o=[],i=(n.attr("y"),parseFloat(n.attr("dy"))||0),a=n.text(null).append("tspan").attr("x",0).attr("dy",i+"em");t=r.pop();)o.push(t),a.text(o.join(" ")),a.node().getComputedTextLength()>e&&o.length>1&&(o.pop(),a.text(o.join(" ")),o=[t],a=n.append("tspan").attr("x",0).attr("dy",1.2+i+"em").text(t))}))},er={d3_drawShapes:function(t,e,n,r,o,i){"rect"===t?e.attr("height",n).attr("width",r):"circle"===t?e.attr("r",o):"line"===t?e.attr("x1",0).attr("x2",r).attr("y1",0).attr("y2",0):"path"===t&&e.attr("d",i)},d3_addText:function(t,e,n,r,o){e.append("text").attr("class",r+"label");var i=t.selectAll("g."+r+"cell text."+r+"label").data(n).text(Jn);return o&&t.selectAll("g."+r+"cell text."+r+"label").call(tr,o),i},d3_calcType:function(t,e,n,r,o,i){var a=t.invertExtent?function(t,e,n){var r=t.range().map((function(r){var o=t.invertExtent(r);return e(o[0])+" "+n+" "+e(o[1])}));return{data:t.range(),labels:r,feature:Jn}}(t,o,i):t.ticks?function(t,e,n){var r=[];if(e.length>1)r=e;else for(var o=t.domain(),i=(o[o.length-1]-o[0])/(e-1),a=0;a<e;a++)r.push(o[0]+a*i);var s=r.map(n);return{data:r,labels:s,feature:function(e){return t(e)}}}(t,n,o):function(t){return{data:t.domain(),labels:t.domain(),feature:function(e){return t(e)}}}(t),s=t.range&&t.range()||t.domain();return a.labels=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1],n=arguments[2],r=arguments[3],o=arguments[4];if("object"===(void 0===e?"undefined":Qn(e))){if(0===e.length)return t;for(var i=e.length;i<t.length;i++)e.push(t[i]);return e}if("function"==typeof e){for(var a=[],s=t.length,u=0;u<s;u++)a.push(e({i:u,genLength:s,generatedLabels:t,domain:n,range:r,labelDelimiter:o}));return a}return t}(a.labels,r,t.domain(),s,i),e&&(a.labels=Kn(a.labels),a.data=Kn(a.data)),a},d3_filterCells:function(t,e){var n=t.data.map((function(e,n){return{data:e,label:t.labels[n]}})).filter(e),r=n.map((function(t){return t.data})),o=n.map((function(t){return t.label}));return t.data=t.data.filter((function(t){return-1!==r.indexOf(t)})),t.labels=t.labels.filter((function(t){return-1!==o.indexOf(t)})),t},d3_placement:function(t,e,n,r,o,i,a){e.attr("transform",n),r.attr("transform",o),"horizontal"===t&&"below"===a&&r.style("text-anchor",i)},d3_addEvents:function(t,e){t.on("mouseover.legend",(function(t){!function(t,e,n){t.call("cellover",n,e)}(e,t,this)})).on("mouseout.legend",(function(t){!function(t,e,n){t.call("cellout",n,e)}(e,t,this)})).on("click.legend",(function(t){!function(t,e,n){t.call("cellclick",n,e)}(e,t,this)})).on("contextmenu.legend",(function(t){!function(t,e,n){t.call("cellcontextmenu",n,e)}(e,t,this)}))},d3_title:function(t,e,n,r){if(""!==e){t.selectAll("text."+n+"legendTitle").data([e]).enter().append("text").attr("class",n+"legendTitle"),t.selectAll("text."+n+"legendTitle").text(e),r&&t.selectAll("text."+n+"legendTitle").call(tr,r);var o=t.select("."+n+"legendCells"),i=t.select("."+n+"legendTitle").nodes().map((function(t){return t.getBBox().height}))[0],a=-o.nodes().map((function(t){return t.getBBox().x}))[0];o.attr("transform","translate("+a+","+i+")")}},d3_defaultLocale:{format:xt,formatPrefix:bt},d3_defaultFormatSpecifier:".01f",d3_defaultDelimiter:"to"};function nr(){var t=Jt(),e="rect",n=15,r=15,o=10,i=2,a=[5],s=void 0,u=[],c="",l=!1,h="",f=er.d3_defaultLocale,d=er.d3_defaultFormatSpecifier,p=10,g="middle",v="below",y=er.d3_defaultDelimiter,m=void 0,_="vertical",x=!1,b=void 0,w=void 0,k=Pt("cellover","cellout","cellclick","cellcontextmenu");function M(M){var C=er.d3_calcType(t,x,a,u,f.format(d),y);M.selectAll("g").data([t]).enter().append("g").attr("class",c+"legendCells"),s&&er.d3_filterCells(C,s);var T=M.select("."+c+"legendCells").selectAll("."+c+"cell").data(C.data),E=T.enter().append("g").attr("class",c+"cell");E.append(e).attr("class",c+"swatch");var S=M.selectAll("g."+c+"cell "+e+"."+c+"swatch").data(C.data);er.d3_addEvents(E,k),T.exit().transition().style("opacity",0).remove(),S.exit().transition().style("opacity",0).remove(),S=S.merge(S),er.d3_drawShapes(e,S,r,n,o,b);var A=er.d3_addText(M,E,C.labels,c,m);T=E.merge(T);var N=A.nodes().map((function(t){return t.getBBox()})),L=S.nodes().map((function(t){return t.getBBox()}));l?S.attr("class",(function(t){return c+"swatch "+C.feature(t)})):"line"==e?S.style("stroke",C.feature):S.style("fill",C.feature);var O=void 0,P=void 0,j="start"==g?0:"middle"==g?.5:1;if("vertical"===_){var D=N.map((function(t,e){return Math.max(t.height,L[e].height)}));O=function(t,e){return"translate(0, "+(Object(jt.h)(D.slice(0,e))+e*i)+")"},P=function(t,e){return"translate( "+(L[e].width+L[e].x+p)+", "+(L[e].y+L[e].height/2+5)+")"}}else"horizontal"===_&&(O=function(t,e){return"translate("+e*(L[e].width+i)+",0)"},"below"===v?P=function(t,e){return"translate("+(L[e].width*j+L[e].x)+",\n          "+(L[e].height+L[e].y+p+8)+")"}:"right"===v&&(P=function(t,e){return"translate("+(L[e].width+L[e].x+4)+",\n            "+(L[e].height+L[e].y)+")"}));er.d3_placement(_,T,O,A,P,g,v),er.d3_title(M,h,c,w),T.transition().style("opacity",1)}return M.scale=function(e){return arguments.length?(t=e,M):t},M.cells=function(t){return arguments.length?((t.length>1||t>=2)&&(a=t),M):a},M.cellFilter=function(t){return arguments.length?(s=t,M):s},M.shape=function(t,n){return arguments.length?(("rect"==t||"circle"==t||"line"==t||"path"==t&&"string"==typeof n)&&(e=t,b=n),M):e},M.shapeWidth=function(t){return arguments.length?(n=+t,M):n},M.shapeHeight=function(t){return arguments.length?(r=+t,M):r},M.shapeRadius=function(t){return arguments.length?(o=+t,M):o},M.shapePadding=function(t){return arguments.length?(i=+t,M):i},M.labels=function(t){return arguments.length?(u=t,M):u},M.labelAlign=function(t){return arguments.length?("start"!=t&&"end"!=t&&"middle"!=t||(g=t),M):g},M.labelPosition=function(t){return arguments.length?("below"!=t&&"right"!=t||(v=t),M):v},M.locale=function(t){return arguments.length?(f=Tt(t),M):f},M.labelFormat=function(t){return arguments.length?(d=vt(t),M):M.locale().format(d)},M.labelOffset=function(t){return arguments.length?(p=+t,M):p},M.labelDelimiter=function(t){return arguments.length?(y=t,M):y},M.labelWrap=function(t){return arguments.length?(m=t,M):m},M.useClass=function(t){return arguments.length?(!0!==t&&!1!==t||(l=t),M):l},M.orient=function(t){return arguments.length?("horizontal"!=(t=t.toLowerCase())&&"vertical"!=t||(_=t),M):_},M.ascending=function(t){return arguments.length?(x=!!t,M):x},M.classPrefix=function(t){return arguments.length?(c=t,M):c},M.title=function(t){return arguments.length?(h=t,M):h},M.titleWidth=function(t){return arguments.length?(w=t,M):w},M.textWrap=function(t){return arguments.length?(textWrap=t,M):textWrap},M.on=function(){var t=k.on.apply(k,arguments);return t===k?M:t},M}function rr(){var t=Jt(),e="rect",n=15,r=2,o=[5],i=void 0,a=[],s="",u="",c=er.d3_defaultLocale,l=er.d3_defaultFormatSpecifier,h=10,f="middle",d=er.d3_defaultDelimiter,p=void 0,g="vertical",v=!1,y=void 0,m=void 0,_=Pt("cellover","cellout","cellclick","cellcontextmenu");function x(x){var b=er.d3_calcType(t,v,o,a,c.format(l),d),w=x.selectAll("g").data([t]);i&&er.d3_filterCells(b,i),w.enter().append("g").attr("class",s+"legendCells");var k=x.select("."+s+"legendCells").selectAll("."+s+"cell").data(b.data),M=k.enter().append("g").attr("class",s+"cell");M.append(e).attr("class",s+"swatch");var C=x.selectAll("g."+s+"cell "+e+"."+s+"swatch");er.d3_addEvents(M,_),k.exit().transition().style("opacity",0).remove(),C.exit().transition().style("opacity",0).remove(),C=C.merge(C),"line"===e?(er.d3_drawShapes(e,C,0,n),C.attr("stroke-width",b.feature)):er.d3_drawShapes(e,C,b.feature,b.feature,b.feature,y);var T=er.d3_addText(x,M,b.labels,s,p);k=M.merge(k);var E=T.nodes().map((function(t){return t.getBBox()})),S=C.nodes().map((function(n,r){var o=n.getBBox(),i=t(b.data[r]);return"line"===e&&"horizontal"===g?o.height=o.height+i:"line"===e&&"vertical"===g&&(o.width=o.width),o})),A=Object(jt.d)(S,(function(t){return t.height+t.y})),N=Object(jt.d)(S,(function(t){return t.width+t.x})),L=void 0,O=void 0,P="start"==f?0:"middle"==f?.5:1;if("vertical"===g){var j=E.map((function(t,e){return Math.max(t.height,S[e].height)})),D="circle"==e||"line"==e?S[0].height/2:0;L=function(t,e){var n=Object(jt.h)(j.slice(0,e));return"translate(0, "+(D+n+e*r)+")"},O=function(t,e){return"translate( "+(N+h)+",\n          "+(S[e].y+S[e].height/2+5)+")"}}else if("horizontal"===g){L=function(t,n){return"translate("+(Object(jt.h)(S.slice(0,n),(function(t){return t.width}))+n*r)+", "+("circle"==e||"line"==e?A/2:0)+")"};var I="line"==e?A/2:A;O=function(t,e){return"translate( "+(S[e].width*P+S[e].x)+",\n              "+(I+h)+")"}}er.d3_placement(g,k,L,T,O,f),er.d3_title(x,u,s,m),k.transition().style("opacity",1)}return x.scale=function(e){return arguments.length?(t=e,x):t},x.cells=function(t){return arguments.length?((t.length>1||t>=2)&&(o=t),x):o},x.cellFilter=function(t){return arguments.length?(i=t,x):i},x.shape=function(t,n){return arguments.length?("rect"!=t&&"circle"!=t&&"line"!=t||(e=t,y=n),x):e},x.shapeWidth=function(t){return arguments.length?(n=+t,x):n},x.shapePadding=function(t){return arguments.length?(r=+t,x):r},x.labels=function(t){return arguments.length?(a=t,x):a},x.labelAlign=function(t){return arguments.length?("start"!=t&&"end"!=t&&"middle"!=t||(f=t),x):f},x.locale=function(t){return arguments.length?(c=Tt(t),x):c},x.labelFormat=function(t){return arguments.length?(l=vt(t),x):x.locale().format(l)},x.labelOffset=function(t){return arguments.length?(h=+t,x):h},x.labelDelimiter=function(t){return arguments.length?(d=t,x):d},x.labelWrap=function(t){return arguments.length?(p=t,x):p},x.orient=function(t){return arguments.length?("horizontal"!=(t=t.toLowerCase())&&"vertical"!=t||(g=t),x):g},x.ascending=function(t){return arguments.length?(v=!!t,x):v},x.classPrefix=function(t){return arguments.length?(s=t,x):s},x.title=function(t){return arguments.length?(u=t,x):u},x.titleWidth=function(t){return arguments.length?(m=t,x):m},x.on=function(){var t=_.on.apply(_,arguments);return t===_?x:t},x}function or(){var t=Jt(),e=5,n=[5],r=void 0,o=[],i="",a="",s=er.d3_defaultLocale,u=er.d3_defaultFormatSpecifier,c="middle",l=10,h=er.d3_defaultDelimiter,f=void 0,d="vertical",p=!1,g=void 0,v=Pt("cellover","cellout","cellclick","cellcontextmenu");function y(y){var m=er.d3_calcType(t,p,n,o,s.format(u),h),_=y.selectAll("g").data([t]);r&&er.d3_filterCells(m,r),_.enter().append("g").attr("class",i+"legendCells");var x=y.select("."+i+"legendCells").selectAll("."+i+"cell").data(m.data),b=x.enter().append("g").attr("class",i+"cell");b.append("path").attr("class",i+"swatch");var w=y.selectAll("g."+i+"cell path."+i+"swatch");er.d3_addEvents(b,v),x.exit().transition().style("opacity",0).remove(),w.exit().transition().style("opacity",0).remove(),w=w.merge(w),er.d3_drawShapes("path",w,15,15,10,m.feature);var k=er.d3_addText(y,b,m.labels,i,f);x=b.merge(x);var M=k.nodes().map((function(t){return t.getBBox()})),C=w.nodes().map((function(t){return t.getBBox()})),T=Object(jt.d)(C,(function(t){return t.height})),E=Object(jt.d)(C,(function(t){return t.width})),S=void 0,A=void 0,N="start"==c?0:"middle"==c?.5:1;if("vertical"===d){var L=M.map((function(t,e){return Math.max(T,t.height)}));S=function(t,n){return"translate(0, "+(Object(jt.h)(L.slice(0,n))+n*e)+" )"},A=function(t,e){return"translate( "+(E+l)+",\n              "+(C[e].y+C[e].height/2+5)+")"}}else"horizontal"===d&&(S=function(t,n){return"translate( "+n*(E+e)+",0)"},A=function(t,e){return"translate( "+(C[e].width*N+C[e].x)+",\n              "+(T+l)+")"});er.d3_placement(d,x,S,k,A,c),er.d3_title(y,a,i,g),x.transition().style("opacity",1)}return y.scale=function(e){return arguments.length?(t=e,y):t},y.cells=function(t){return arguments.length?((t.length>1||t>=2)&&(n=t),y):n},y.cellFilter=function(t){return arguments.length?(r=t,y):r},y.shapePadding=function(t){return arguments.length?(e=+t,y):e},y.labels=function(t){return arguments.length?(o=t,y):o},y.labelAlign=function(t){return arguments.length?("start"!=t&&"end"!=t&&"middle"!=t||(c=t),y):c},y.locale=function(t){return arguments.length?(s=Tt(t),y):s},y.labelFormat=function(t){return arguments.length?(u=vt(t),y):y.locale().format(u)},y.labelOffset=function(t){return arguments.length?(l=+t,y):l},y.labelDelimiter=function(t){return arguments.length?(h=t,y):h},y.labelWrap=function(t){return arguments.length?(f=t,y):f},y.orient=function(t){return arguments.length?("horizontal"!=(t=t.toLowerCase())&&"vertical"!=t||(d=t),y):d},y.ascending=function(t){return arguments.length?(p=!!t,y):p},y.classPrefix=function(t){return arguments.length?(i=t,y):i},y.title=function(t){return arguments.length?(a=t,y):a},y.titleWidth=function(t){return arguments.length?(g=t,y):g},y.on=function(){var t=v.on.apply(v,arguments);return t===v?y:t},y}var ir={thresholdLabels:function(t){var e=t.i,n=t.genLength,r=t.generatedLabels,o=t.labelDelimiter;return 0===e?"Less than "+r[e].split(" "+o+" ")[1]:e===n-1?r[e].split(" "+o+" ")[0]+" or more":r[e]}},ar={legendColor:nr,legendSize:rr,legendSymbol:or,legendHelpers:ir};e.default=ar},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),a=n(5),s=n(7),u=n(3),c=n(43),l=function(t){function e(e,n,r){var o=t.call(this,e,n,r)||this;c.ConnectedGraphBase.prototype.initializeGraph.call(o,e);var i=o._element;return i.links.forEach((function(t){"number"==typeof t.source&&(t.source=i.nodes[t.source]),"number"==typeof t.target&&(t.target=i.nodes[t.target])})),o}return o(e,t),e.prototype.renderLinks=function(t){var e=this._element,n=t.append("g").classed("links",!0).selectAll("line").data(e.links).enter().append("line").attr("x1",(function(t){return t.source.x})).attr("y1",(function(t){return t.source.y})).attr("x2",(function(t){return t.target.x})).attr("y2",(function(t){return t.target.y})).attr("stroke-width",1).attr("class",(function(t){return t.source.key+"-"+t.target.key+" "+t.source.key+" "+t.target.key})).classed("link",!0).on("mouseenter",this.linkHoverStart).on("mouseleave",this.hoverEnd);return a.addClickHelper(n,e.onClick,e.onDoubleClick,e.contextMenuItems,this._dataTooltip,e),this._dataTooltip.setTarget(n),n},e.prototype.renderNodes=function(t,e,n,r){var o=this._element,i=this._renderer.getColorManager(),s=t.append("g").classed("nodes",!0).selectAll("circle").data(o.nodes).enter().append("circle").attr("r",5).attr("cx",(function(t){return t.x})).attr("cy",(function(t){return t.y})).attr("fill",(function(t){return t.type?i.getColor(t.type):i.getColor(t.key)})).attr("class",(function(t){return t.type?t.type+" "+t.key:t.key})).classed("node",!0).on("mouseenter",this.nodeHoverStart).on("mouseleave",this.hoverEnd).call(u.drag().on("start",e).on("drag",n).on("end",r));return a.addClickHelper(s,o.onClick,o.onDoubleClick,o.contextMenuItems,this._dataTooltip,o),this._dataTooltip.setTarget(s),s},e.prototype.render=function(t){var e=this.initializeGraphArea(t);this.renderLinks(e),this.renderNodes(e,void 0,(function(t){u.select(this).attr("cx",u.event.x).attr("cy",u.event.y),t.x=u.event.x,t.y=u.event.y,e.selectAll("."+t.key+".link").each((function(e){t.key===e.source.key?u.select(this).attr("x1",(function(t){return t.source.x})).attr("y1",(function(t){return t.source.y})):u.select(this).attr("x2",(function(t){return t.target.x})).attr("y2",(function(t){return t.target.y}))}))}),void 0),this.configureView()},e}(c.D3ConnectedGraphSVG);e.D3SimpleGraph=l,s.D3Renderer.register(i.UIType.SimpleGraph,l)},function(t,e,n){var r=n(51),o=n(73),i=n(56),a=n(184),s=n(190),u=n(99),c=n(100),l=n(193),h=n(194),f=n(104),d=n(195),p=n(37),g=n(199),v=n(200),y=n(109),m=n(6),_=n(35),x=n(204),b=n(11),w=n(206),k=n(24),M={};M["[object Arguments]"]=M["[object Array]"]=M["[object ArrayBuffer]"]=M["[object DataView]"]=M["[object Boolean]"]=M["[object Date]"]=M["[object Float32Array]"]=M["[object Float64Array]"]=M["[object Int8Array]"]=M["[object Int16Array]"]=M["[object Int32Array]"]=M["[object Map]"]=M["[object Number]"]=M["[object Object]"]=M["[object RegExp]"]=M["[object Set]"]=M["[object String]"]=M["[object Symbol]"]=M["[object Uint8Array]"]=M["[object Uint8ClampedArray]"]=M["[object Uint16Array]"]=M["[object Uint32Array]"]=!0,M["[object Error]"]=M["[object Function]"]=M["[object WeakMap]"]=!1,t.exports=function t(e,n,C,T,E,S){var A,N=1&n,L=2&n,O=4&n;if(C&&(A=E?C(e,T,E,S):C(e)),void 0!==A)return A;if(!b(e))return e;var P=m(e);if(P){if(A=g(e),!N)return c(e,A)}else{var j=p(e),D="[object Function]"==j||"[object GeneratorFunction]"==j;if(_(e))return u(e,N);if("[object Object]"==j||"[object Arguments]"==j||D&&!E){if(A=L||D?{}:y(e),!N)return L?h(e,s(A,e)):l(e,a(A,e))}else{if(!M[j])return E?e:{};A=v(e,j,N)}}S||(S=new r);var I=S.get(e);if(I)return I;if(S.set(e,A),w(e))return e.forEach((function(r){A.add(t(r,n,C,r,e,S))})),A;if(x(e))return e.forEach((function(r,o){A.set(o,t(r,n,C,o,e,S))})),A;var R=O?L?d:f:L?keysIn:k,H=P?void 0:R(e);return o(H||e,(function(r,o){H&&(r=e[o=r]),i(A,o,t(r,n,C,o,e,S))})),A}},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n(31))},function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e,n){var r=n(27),o=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=o},function(t,e,n){var r=n(185),o=n(46),i=n(6),a=n(35),s=n(58),u=n(47),c=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=i(t),l=!n&&o(t),h=!n&&!l&&a(t),f=!n&&!l&&!h&&u(t),d=n||l||h||f,p=d?r(t.length,String):[],g=p.length;for(var v in t)!e&&!c.call(t,v)||d&&("length"==v||h&&("offset"==v||"parent"==v)||f&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,g))||p.push(v);return p}},function(t,e){t.exports=function(t,e){return function(n){return t(e(n))}}},function(t,e,n){(function(t){var r=n(15),o=e&&!e.nodeType&&e,i=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=i&&i.exports===o?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=s?s(n):new t.constructor(n);return t.copy(r),r}}).call(this,n(74)(t))},function(t,e){t.exports=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var a=t[n];e(a,n,t)&&(i[o++]=a)}return i}},function(t,e){t.exports=function(){return[]}},function(t,e,n){var r=n(79),o=n(61),i=n(78),a=n(102),s=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)r(e,i(t)),t=o(t);return e}:a;t.exports=s},function(t,e,n){var r=n(105),o=n(78),i=n(24);t.exports=function(t){return r(t,i,o)}},function(t,e,n){var r=n(79),o=n(6);t.exports=function(t,e,n){var i=e(t);return o(t)?i:r(i,n(t))}},function(t,e,n){var r=n(27)(n(15),"Set");t.exports=r},function(t,e,n){var r=n(15).Uint8Array;t.exports=r},function(t,e,n){var r=n(80);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},function(t,e,n){var r=n(110),o=n(61),i=n(60);t.exports=function(t){return"function"!=typeof t.constructor||i(t)?{}:r(o(t))}},function(t,e,n){var r=n(11),o=Object.create,i=function(){function t(){}return function(e){if(!r(e))return{};if(o)return o(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=i},function(t,e,n){t.exports=n(112)},function(t,e,n){var r=n(73),o=n(62),i=n(113),a=n(6);t.exports=function(t,e){return(a(t)?r:o)(t,i(e))}},function(t,e,n){var r=n(29);t.exports=function(t){return"function"==typeof t?t:r}},function(t,e,n){var r=n(101),o=n(210),i=n(20),a=n(6);t.exports=function(t,e){return(a(t)?r:o)(t,i(e,3))}},function(t,e,n){var r=n(213),o=n(17);t.exports=function t(e,n,i,a,s){return e===n||(null==e||null==n||!o(e)&&!o(n)?e!=e&&n!=n:r(e,n,i,a,t,s))}},function(t,e,n){var r=n(117),o=n(216),i=n(118);t.exports=function(t,e,n,a,s,u){var c=1&n,l=t.length,h=e.length;if(l!=h&&!(c&&h>l))return!1;var f=u.get(t);if(f&&u.get(e))return f==e;var d=-1,p=!0,g=2&n?new r:void 0;for(u.set(t,e),u.set(e,t);++d<l;){var v=t[d],y=e[d];if(a)var m=c?a(y,v,d,e,t,u):a(v,y,d,t,e,u);if(void 0!==m){if(m)continue;p=!1;break}if(g){if(!o(e,(function(t,e){if(!i(g,e)&&(v===t||s(v,t,n,a,u)))return g.push(e)}))){p=!1;break}}else if(v!==y&&!s(v,y,n,a,u)){p=!1;break}}return u.delete(t),u.delete(e),p}},function(t,e,n){var r=n(72),o=n(214),i=n(215);function a(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,t.exports=a},function(t,e){t.exports=function(t,e){return t.has(e)}},function(t,e,n){var r=n(11);t.exports=function(t){return t==t&&!r(t)}},function(t,e){t.exports=function(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}},function(t,e,n){var r=n(226);t.exports=function(t){return null==t?"":r(t)}},function(t,e,n){var r=n(227),o=n(123);t.exports=function(t,e){return null!=t&&o(t,e,r)}},function(t,e,n){var r=n(63),o=n(46),i=n(6),a=n(58),s=n(75),u=n(48);t.exports=function(t,e,n){for(var c=-1,l=(e=r(e,t)).length,h=!1;++c<l;){var f=u(e[c]);if(!(h=null!=t&&n(t,f)))break;t=t[f]}return h||++c!=l?h:!!(l=null==t?0:t.length)&&s(l)&&a(f,l)&&(i(t)||o(t))}},function(t,e){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},function(t,e,n){var r=n(230),o=n(123);t.exports=function(t,e){return null!=t&&o(t,e,r)}},function(t,e){t.exports=function(t){return void 0===t}},function(t,e,n){var r=n(64),o=n(20),i=n(128),a=n(6);t.exports=function(t,e){return(a(t)?r:i)(t,o(e,3))}},function(t,e,n){var r=n(62),o=n(19);t.exports=function(t,e){var n=-1,i=o(t)?Array(t.length):[];return r(t,(function(t,r,o){i[++n]=e(t,r,o)})),i}},function(t,e,n){var r=n(232),o=n(62),i=n(20),a=n(233),s=n(6);t.exports=function(t,e,n){var u=s(t)?r:a,c=arguments.length<3;return u(t,i(e,4),n,c,o)}},function(t,e,n){var r=n(243),o=Math.max;t.exports=function(t,e,n){return e=o(void 0===e?t.length-1:e,0),function(){for(var i=arguments,a=-1,s=o(i.length-e,0),u=Array(s);++a<s;)u[a]=i[e+a];a=-1;for(var c=Array(e+1);++a<e;)c[a]=i[a];return c[e]=n(u),r(t,this,c)}}},function(t,e,n){var r=n(244),o=n(245)(r);t.exports=o},function(t,e){t.exports=function(t,e,n,r){for(var o=t.length,i=n+(r?1:-1);r?i--:++i<o;)if(e(t[i],i,t))return i;return-1}},function(t,e,n){var r=n(19),o=n(17);t.exports=function(t){return o(t)&&r(t)}},function(t,e,n){var r=n(254),o=n(24);t.exports=function(t){return null==t?[]:r(t,o(t))}},function(t,e,n){var r=n(10),o=n(136);t.exports=function(t,e,n,r){return function(t,e,n,r){var i,a,s={},u=new o,c=function(t){var e=t.v!==i?t.v:t.w,r=s[e],o=n(t),c=a.distance+o;if(o<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+t+" Weight: "+o);c<r.distance&&(r.distance=c,r.predecessor=i,u.decrease(e,c))};t.nodes().forEach((function(t){var n=t===e?0:Number.POSITIVE_INFINITY;s[t]={distance:n},u.add(t,n)}));for(;u.size()>0&&(i=u.removeMin(),(a=s[i]).distance!==Number.POSITIVE_INFINITY);)r(i).forEach(c);return s}(t,String(e),n||i,r||function(e){return t.outEdges(e)})};var i=r.constant(1)},function(t,e,n){var r=n(10);function o(){this._arr=[],this._keyIndices={}}t.exports=o,o.prototype.size=function(){return this._arr.length},o.prototype.keys=function(){return this._arr.map((function(t){return t.key}))},o.prototype.has=function(t){return r.has(this._keyIndices,t)},o.prototype.priority=function(t){var e=this._keyIndices[t];if(void 0!==e)return this._arr[e].priority},o.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},o.prototype.add=function(t,e){var n=this._keyIndices;if(t=String(t),!r.has(n,t)){var o=this._arr,i=o.length;return n[t]=i,o.push({key:t,priority:e}),this._decrease(i),!0}return!1},o.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var t=this._arr.pop();return delete this._keyIndices[t.key],this._heapify(0),t.key},o.prototype.decrease=function(t,e){var n=this._keyIndices[t];if(e>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+t+" Old: "+this._arr[n].priority+" New: "+e);this._arr[n].priority=e,this._decrease(n)},o.prototype._heapify=function(t){var e=this._arr,n=2*t,r=n+1,o=t;n<e.length&&(o=e[n].priority<e[o].priority?n:o,r<e.length&&(o=e[r].priority<e[o].priority?r:o),o!==t&&(this._swap(t,o),this._heapify(o)))},o.prototype._decrease=function(t){for(var e,n=this._arr,r=n[t].priority;0!==t&&!(n[e=t>>1].priority<r);)this._swap(t,e),t=e},o.prototype._swap=function(t,e){var n=this._arr,r=this._keyIndices,o=n[t],i=n[e];n[t]=i,n[e]=o,r[i.key]=t,r[o.key]=e}},function(t,e,n){var r=n(10);t.exports=function(t){var e=0,n=[],o={},i=[];return t.nodes().forEach((function(a){r.has(o,a)||function a(s){var u=o[s]={onStack:!0,lowlink:e,index:e++};if(n.push(s),t.successors(s).forEach((function(t){r.has(o,t)?o[t].onStack&&(u.lowlink=Math.min(u.lowlink,o[t].index)):(a(t),u.lowlink=Math.min(u.lowlink,o[t].lowlink))})),u.lowlink===u.index){var c,l=[];do{c=n.pop(),o[c].onStack=!1,l.push(c)}while(s!==c);i.push(l)}}(a)})),i}},function(t,e,n){var r=n(10);function o(t){var e={},n={},o=[];if(r.each(t.sinks(),(function a(s){if(r.has(n,s))throw new i;r.has(e,s)||(n[s]=!0,e[s]=!0,r.each(t.predecessors(s),a),delete n[s],o.push(s))})),r.size(e)!==t.nodeCount())throw new i;return o}function i(){}t.exports=o,o.CycleException=i,i.prototype=new Error},function(t,e,n){var r=n(10);t.exports=function(t,e,n){r.isArray(e)||(e=[e]);var o=(t.isDirected()?t.successors:t.neighbors).bind(t),i=[],a={};return r.each(e,(function(e){if(!t.hasNode(e))throw new Error("Graph does not have node: "+e);!function t(e,n,o,i,a,s){r.has(i,n)||(i[n]=!0,o||s.push(n),r.each(a(n),(function(n){t(e,n,o,i,a,s)})),o&&s.push(n))}(t,e,"post"===n,a,o,i)})),i}},function(t,e,n){var r=n(273);t.exports=function(t){return t?(t=r(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}},function(t,e,n){var r=n(87);t.exports=function(t){return(null==t?0:t.length)?r(t,1):[]}},function(t,e,n){var r=n(57),o=n(33);t.exports=function(t,e,n){(void 0===n||o(t[e],n))&&(void 0!==n||e in t)||r(t,e,n)}},function(t,e){t.exports=function(t,e){if("__proto__"!=e)return t[e]}},function(t,e){t.exports=function(t,e){return t<e}},function(t,e,n){"use strict";var r=n(4),o=n(14).Graph,i=n(67).slack;function a(t,e){return r.forEach(t.nodes(),(function n(o){r.forEach(e.nodeEdges(o),(function(r){var a=r.v,s=o===a?r.w:a;t.hasNode(s)||i(e,r)||(t.setNode(s,{}),t.setEdge(o,s,{}),n(s))}))})),t.nodeCount()}function s(t,e){return r.minBy(e.edges(),(function(n){if(t.hasNode(n.v)!==t.hasNode(n.w))return i(e,n)}))}function u(t,e,n){r.forEach(t.nodes(),(function(t){e.node(t).rank+=n}))}t.exports=function(t){var e,n,r=new o({directed:!1}),c=t.nodes()[0],l=t.nodeCount();r.setNode(c,{});for(;a(r,t)<l;)e=s(r,t),n=r.hasNode(e.v)?i(t,e):-i(t,e),u(r,t,n);return r}},,function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n(69)),r(n(1)),r(n(30)),r(n(18)),r(n(2)),r(n(39)),r(n(7)),r(n(5)),r(n(148)),r(n(149)),r(n(150)),r(n(151)),r(n(92))},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),a=n(92),s=n(7),u=n(3),c=n(43),l=function(t){function e(e,n,r){var o=t.call(this,e,n,r)||this;return c.ConnectedGraphBase.prototype.initializeGraph.call(o,e),o}return o(e,t),e.prototype.render=function(t){var e=this._element;this._options.height||(this._options.height=400);var n=this._options.width,r=this._options.height,o=u.forceSimulation().force("link",u.forceLink().id((function(t){return t.node}))).force("charge",u.forceManyBody()).force("center",u.forceCenter(n/2,r/2));o.nodes(e.nodes).on("tick",(function(){a.attr("x1",(function(t){return t.source.x})).attr("y1",(function(t){return t.source.y})).attr("x2",(function(t){return t.target.x})).attr("y2",(function(t){return t.target.y})),s.attr("cx",(function(t){return t.x})).attr("cy",(function(t){return t.y}))})),o.force("link").links(e.links);var i=this.initializeGraphArea(t),a=this.renderLinks(i),s=this.renderNodes(i,(function(t){u.event.active||o.alphaTarget(.3).restart(),t.fx=t.x,t.fy=t.y}),(function(t){t.fx=u.event.x,t.fy=u.event.y}),(function(t){u.event.active||o.alphaTarget(0),t.fx=null,t.fy=null}));this.configureView()},e}(a.D3SimpleGraph);e.D3ForceGraph=l,s.D3Renderer.register(i.UIType.ForceDirectedGraph,l)},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),a=n(5),s=n(7),u=n(3),c=n(348),l=n(43),h=function(t){function e(e,n,r){var o=t.call(this,e,n,r)||this;return l.ConnectedGraphBase.prototype.initializeGraph.call(o,e),o}return o(e,t),e.prototype.renderLinks=function(t){var e=this._element,n=this._sankey.link(),r=t.append("g").classed("links",!0).selectAll(".link").data(e.links).enter().append("path").attr("class",(function(t){return t.from+"-"+t.to})).attr("d",n).classed("link",!0).style("stroke-width",(function(t){return Math.max(1,t.dy)})).sort((function(t,e){return e.dy-t.dy})).on("mouseenter",this.linkHoverStart).on("mouseleave",this.hoverEnd);return a.addClickHelper(r,e.onClick,e.onDoubleClick,e.contextMenuItems,this._dataTooltip,e),this._dataTooltip.setTarget(r),r},e.prototype.renderNodes=function(t,e){var n=this._element,r=this._options.width,o=t.append("g").classed("nodes",!0).selectAll(".nodeGroup").data(n.nodes).enter().append("g").classed("nodeGroup",!0).attr("transform",(function(t){return"translate("+t.x+","+t.y+")"})).call(u.drag().subject((function(t){return t})).on("start",(function(){a.SVGRenderer.IS_RESIZING=!0,this.parentNode.appendChild(this)})).on("drag",e).on("end",(function(){a.SVGRenderer.IS_RESIZING=!1})));a.addClickHelper(o,n.onClick,n.onDoubleClick,n.contextMenuItems,this._dataTooltip,n);var i=this._renderer.getColorManager();return o.append("rect").attr("height",(function(t){return t.dy})).attr("width",this._sankey.nodeWidth()).attr("class",(function(t){return t.type?t.type+" "+t.key:t.key})).classed("node",!0).style("fill",(function(t){return t.type?i.getColor(t.type):i.getColor(t.key)})).style("stroke",(function(t){return u.rgb(t.color).darker(2)})).on("mouseenter",this.nodeHoverStart).on("mouseleave",this.hoverEnd),o.append("text").attr("x",-6).attr("y",(function(t){return t.dy/2})).attr("dy",".35em").attr("text-anchor","end").attr("transform",null).text((function(t){return t.key})).filter((function(t){return t.x<r/2})).attr("x",6+this._sankey.nodeWidth()).attr("text-anchor","start"),this._dataTooltip.setTarget(o),o},e.prototype.render=function(t){var e=this,n=e._element;this._options.height||(this._options.height=400);var r=this._options.width,o=this._options.height;e._sankey=c.sankey().size([r,o]);var i=e._sankey.link();this._sankey.nodes(n.nodes).links(n.links).layout(32);var a=e.initializeGraphArea(t),s=this.renderLinks(a);this.renderNodes(a,(function(t){u.select(this).attr("transform","translate("+(t.x=Math.max(0,Math.min(r-t.dx,u.event.x)))+","+(t.y=Math.max(0,Math.min(o-t.dy,u.event.y)))+")"),e._sankey.relayout(),s.attr("d",i)})),e.configureView()},e}(l.D3ConnectedGraphSVG);e.D3SankeyDiagram=h,s.D3Renderer.register(i.UIType.FlowDiagram,h)},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),a=n(2),s=n(5),u=n(43),c=n(7),l=function(t){function e(e,n,r){var o=t.call(this,e,n,r)||this;o._options.width=void 0,o._nodes={},o._graphRect=o._svgRect;var a=o;return o.getLinkStartXY=function(t){var e=this._nodes[t.source.node.def.key],n=u.getCoordsAndCache(a._svg,e),r={x:void 0,y:void 0},o=0;switch(t.source.alignment){case i.Alignment.Bottom:o=t.source.endPoint*((n.right-n.x)/(e.ports.bottom.length+1)),r.x=n.x+o,r.y=n.bottom;break;case i.Alignment.Top:o=t.source.endPoint*((n.right-n.x)/(e.ports.top.length+1)),r.x=n.x+o,r.y=n.y;break;case i.Alignment.Left:o=t.source.endPoint*((n.bottom-n.y)/(e.ports.left.length+1)),r.x=n.x,r.y=n.y+o;break;case i.Alignment.Right:o=t.source.endPoint*((n.bottom-n.y)/(e.ports.right.length+1)),r.x=n.right,r.y=n.y+o}return r},o.getLinkEndXY=function(t){var e=this._nodes[t.target.node.def.key],n=u.getCoordsAndCache(a._svg,e),r={x:void 0,y:void 0},o=0;switch(t.target.alignment){case i.Alignment.Bottom:o=t.target.endPoint*((n.right-n.x)/(e.ports.bottom.length+1)),r.x=n.x+o,r.y=n.bottom;break;case i.Alignment.Top:o=t.target.endPoint*((n.right-n.x)/(e.ports.top.length+1)),r.x=n.x+o,r.y=n.y;break;case i.Alignment.Left:o=t.target.endPoint*((n.bottom-n.y)/(e.ports.left.length+1)),r.x=n.x,r.y=n.y+o;break;case i.Alignment.Right:o=t.target.endPoint*((n.bottom-n.y)/(e.ports.right.length+1)),r.x=n.right,r.y=n.y+o}return r},o}return o(e,t),e.isNodeRendered=function(t){return t.d3selection},e.prototype.getRectPropertyMax=function(t,n){var r=0;if(t)for(var o=0;o<t.length;++o){var i=this._nodes[t[o].key];e.isNodeRendered(i)&&(r=Math.max(i.rect[n],r))}return r},e.prototype.getStylePropertyMax=function(t,n){var r=0;if(t)for(var o=0;o<t.length;++o){var i=this._nodes[t[o].key];if(e.isNodeRendered(i)){var a=parseInt(s.getStyle(i.d3selection)[n]);r=Math.max(a,r)}}return r},e.prototype.sumVertical=function(t,n){var r=0;if(t){for(var o=0,i=0,a=!1,u=0;u<t.length;++u){var c=this._nodes[t[u].key];if(e.isNodeRendered(c)){a&&(o=parseInt(s.getStyle(c.d3selection)["margin-top"])||n)>i&&(r+=o-i);var l=s.convertToSVGCoords(this._svg,c.d3selection);r+=Math.max(l.height,c.rect.height),r+=i=parseInt(s.getStyle(c.d3selection)["margin-bottom"])||n,a=!0}}a&&(r-=i)}return r},e.prototype.transformVerticalNodes=function(t,n,r,o){var i=!1;if(r)for(var a=0,u=0,c=!1,l=0;l<r.length;++l){var h=this._nodes[r[l].key];if(e.isNodeRendered(h)){i=!0;var f=s.convertToSVGCoords(this._svg,h.d3selection),d=t-Math.max(f.width,h.rect.width)/2;if(c){var p=parseInt(s.getStyle(h.d3selection)["margin-top"]);(a=p||o)>u&&(n+=a-u)}h.d3selection.transition().duration(this.getAnimateDuration()).attr("transform","translate("+d+", "+n+")"),h.rect.x=d,h.rect.y=n,n+=h.rect.height,n+=u=parseInt(s.getStyle(h.d3selection)["margin-bottom"])||o,c=!0}}return i},e.prototype.sumHorizontal=function(t,n){var r=0;if(t){for(var o=0,i=0,a=!1,u=0;u<t.length;++u){var c=this._nodes[t[u].key];if(e.isNodeRendered(c)){a&&(o=parseInt(s.getStyle(c.d3selection)["margin-left"])||n)>i&&(r+=o-i);var l=s.convertToSVGCoords(this._svg,c.d3selection);r+=Math.max(l.width,c.rect.width),r+=i=parseInt(s.getStyle(c.d3selection)["margin-right"])||n,a=!0}}a&&(r-=i)}return r},e.prototype.transformHorizontalNodes=function(t,n,r,o){var i=!1;if(r)for(var a=0,u=0,c=!1,l=0;l<r.length;++l){var h=this._nodes[r[l].key];if(e.isNodeRendered(h)){i=!0;var f=s.convertToSVGCoords(this._svg,h.d3selection),d=n-Math.max(f.height,h.rect.height)/2;if(c){var p=parseInt(s.getStyle(h.d3selection)["margin-left"]);(a=p||o)>u&&(t+=a-u)}h.d3selection.transition().duration(this.getAnimateDuration()).attr("transform","translate("+t+", "+d+")"),h.rect.x=t,h.rect.y=d,t+=h.rect.width,t+=u=parseInt(s.getStyle(h.d3selection)["margin-right"])||o,c=!0}}return i},e.prototype.calculateNodeWidth=function(t,e,n,r,o,i,a,u,c){var l=0;l=Math.max(l,e.width),l=Math.max(l,r.width),l=Math.max(l,n.width),l=Math.max(l,a.width);var h=0;return 0!==o.width?(h=o.width,0!==r.width?(h+=Math.max(u,Math.max(this.getStylePropertyMax(t.left,"margin-right"),parseInt(s.getStyle(this._nodes[t.center[0].key].d3selection)["margin-left"]))),h+=r.width,0!==i.width&&(h+=Math.max(u,Math.max(parseInt(s.getStyle(this._nodes[t.center[t.center.length-1].key].d3selection)["margin-right"],this.getStylePropertyMax(t.right,"margin-left")))),h+=i.width)):0!==i.width&&(h+=Math.max(u,Math.max(this.getStylePropertyMax(t.left,"margin-right"),this.getStylePropertyMax(t.right,"margin-left"))),h+=i.width)):0!==r.width?(0!==i.width&&(h+=Math.max(u,Math.max(parseInt(s.getStyle(this._nodes[t.center[t.center.length-1].key].d3selection)["margin-right"],this.getStylePropertyMax(t.right,"margin-left")))),h+=i.width),h+=r.width):h=i.width,l=Math.max(h,l),l+=Math.max(c,parseInt(s.getStyle(this._nodes[t.key].d3selection).paddingLeft)),l+=Math.max(c,parseInt(s.getStyle(this._nodes[t.key].d3selection).paddingRight))},e.prototype.calculateNodeHeight=function(t,e,n,r,o,i,a,u,c){var l=0,h=0,f=0,d=0;0!==o.height&&(l=o.height,0!==e.height&&(l+=Math.max(u,Math.max(this.getStylePropertyMax(t.top,"margin-bottom"),parseInt(s.getStyle(this._nodes[t.left[0].key].d3selection)["margin-top"]))),l+=e.height),0!==n.height&&(l+=Math.max(u,Math.max(parseInt(s.getStyle(this._nodes[t.left[t.left.length-1].key].d3selection)["margin-bottom"],this.getStylePropertyMax(t.bottom,"margin-top")))),l+=n.height)),0!==r.height&&(h=r.height,0!==e.height&&(h+=Math.max(u,Math.max(this.getStylePropertyMax(t.top,"margin-bottom"),this.getStylePropertyMax(t.center,"margin-top"))),h+=e.height),0!==n.height&&(h+=n.height,h+=Math.max(u,Math.max(this.getStylePropertyMax(t.center,"margin-bottom"),this.getStylePropertyMax(t.bottom,"margin-top"))))),0!==i.height&&(f=i.height,0!==e.height&&(f+=e.height,f+=Math.max(u,Math.max(this.getStylePropertyMax(t.top,"margin-bottom"),parseInt(s.getStyle(this._nodes[t.right[0].key].d3selection)["margin-top"])))),0!==n.height&&(f+=n.height,f+=Math.max(u,Math.max(parseInt(s.getStyle(this._nodes[t.right[t.right.length-1].key].d3selection)["margin-bottom"],this.getStylePropertyMax(t.bottom,"margin-top")))))),e.height&&n.height&&(d=e.height+n.height,d+=Math.max(u,Math.max(this.getStylePropertyMax(t.top,"margin-bottom"),this.getStylePropertyMax(t.bottom,"margin-top"))));var p=0;return p=Math.max(p,e.height),p=Math.max(p,n.height),p=Math.max(p,d),p=Math.max(p,l),p=Math.max(p,h),p=Math.max(p,f),a.height&&(p+=a.height),p+=Math.max(c,parseInt(s.getStyle(this._nodes[t.key].d3selection).paddingTop)),p+=Math.max(c,parseInt(s.getStyle(this._nodes[t.key].d3selection).paddingBottom))},e.prototype.transformNode=function(t,e,n,r,o){var a=this._nodes[t.key],u=new i.Rect(0,0,0,0),c=parseInt(s.getStyle(a.d3selection)["margin-top"]);r=c||r;var l=parseInt(s.getStyle(a.d3selection)["padding-top"]);o=l||o;var h=new i.Rect(0,0,this.sumHorizontal(t.top,r),this.getRectPropertyMax(t.top,"height")),f=new i.Rect(0,0,this.sumHorizontal(t.bottom,r),this.getRectPropertyMax(t.bottom,"height")),d=new i.Rect(0,0,this.getRectPropertyMax(t.left,"width"),this.sumVertical(t.left,r)),p=new i.Rect(0,0,this.getRectPropertyMax(t.right,"width"),this.sumVertical(t.right,r)),g=new i.Rect(0,0,this.sumHorizontal(t.center,r),this.getRectPropertyMax(t.center,"height")),v=new i.Rect(0,0,a.rect.width,a.rect.height);if(u.width=this.calculateNodeWidth(t,h,f,g,d,p,v,r,o),u.height=this.calculateNodeHeight(t,h,f,g,d,p,v,r,o),e){e.attr("height",u.height).attr("width",u.width);var y=s.convertToSVGCoords(this._svg,e);u.height=y.height,u.width=y.width,e.attr("height",0).attr("width",0).transition().duration(this.getAnimateDuration()).attr("x",0).attr("y",0).attr("height",u.height).attr("width",u.width)}if(a.rect=u,n){s.getStyle(n);var m=(u.width-v.width)/2,_=o;n.transition().duration(this.getAnimateDuration()).attr("transform","translate("+m+","+_+")")}var x=u.width/2,b=x-h.width/2,w=this._padding+v.height+h.height/2;this.transformHorizontalNodes(b,w,t.top,r);var k=d.width+(u.width-p.width-d.width)/2,M=h.height+v.height+(u.height-f.height-h.height-v.height)/2;if(b=this._padding+d.width/2,this.transformVerticalNodes(b,M-d.height/2,t.left,r),b=u.width-(p.width+this._padding)/2,this.transformVerticalNodes(b,M-p.height/2,t.right,r),b=x-f.width/2,w=u.height-f.height/2-this._padding,this.transformHorizontalNodes(b,w,t.bottom,r),t.center&&t.center.length>0){var C=k-g.width/2;d.width&&(C=Math.max(C,this._padding+d.width+Math.max(r,Math.max(this.getStylePropertyMax(t.left,"margin-right"),parseInt(s.getStyle(this._nodes[t.center[0].key].d3selection)["margin-left"]))))),p.width&&(C=Math.min(C,u.width-this._padding-p.width-g.width-Math.max(r,Math.max(this.getStylePropertyMax(t.right,"margin-left"),parseInt(s.getStyle(this._nodes[t.center[t.center.length-1].key].d3selection)["margin-left"])))));var T=M;h.height&&(T=Math.max(T,this._padding+h.height+Math.max(r,Math.max(this.getStylePropertyMax(t.top,"margin-bottom"),this.getStylePropertyMax(t.center,"margin-top")))+g.height/2)),f.height&&(T=Math.min(T,u.height-this._padding-f.height-g.height/2-Math.max(r,Math.max(this.getStylePropertyMax(t.center,"margin-bottom"),this.getStylePropertyMax(t.bottom,"margin-top"))))),this.transformHorizontalNodes(C,T,t.center,r)}},e.prototype.configureItemHover=function(t,e){e.def.disableHover?t.on("mouseenter",(function(){t.classed("hover",!0)})).on("mouseleave",(function(){t.classed("hover",!1)})):t.on("mouseenter",this.nodeHoverStart).on("mouseleave",this.hoverEnd),e.def.hideTooltip||this._dataTooltip.setTarget(t);var n=this._element;s.addClickHelper(t,n.onClick,n.onDoubleClick,n.contextMenuItems,this._dataTooltip,n),t.node().__data__=e.def},e.prototype.renderNodes=function(t,n,r,o){var u=this;n.depth=o;var c={def:n,ports:{}};if(u._nodes[n.key]=c,n.parent=t,!u._decimator||u._decimator.isVisible(n)){var l=a.getSelectionName(n.key)+" node ";if(n.type&&n.type.length>0)for(var h=0;h<n.type.length;++h)l+=" "+a.getSelectionName(n.type[h]);var f,d,p=r.append("g").classed(l,!0);c.d3selection=p,n.hideBorder||(f=p.append("rect").classed(l,!0).classed("border",!0).attr("fill",(function(){if(n.type&&n.type.length>0)for(var t=0;t<n.type.length;++t)if(u._colorMgr.hasColor(n.type[t]))return u._colorMgr.getColor(n.type[t]);return n.key&&u._colorMgr.hasColor(n.key)?u._colorMgr.getColor(n.key):"white"})).attr("stroke","black").attr("stroke-opacity",.2).attr("rx",6).attr("ry",6),u.configureItemHover(f,c));for(var g=0;g<e.CHILDREN.length;++g){var v=e.CHILDREN[g];if(n.hasOwnProperty(v))for(h=0;h<n[v].length;++h)u.renderNodes(n,n[v][h],p,o+1)}var y,m,_,x,b=new i.Rect(0,0,0,0);if(!n.hideImageLabel&&(n.label||n.image)){if(d=p.append("g").classed(l,!0),n.image){y=d.append("image").attr("xlink:href",n.image).classed(l,!0).attr("x",u._renderOrigin.x).attr("y",u._renderOrigin.y);var w=parseInt(s.getStyle(y).height),k=parseInt(s.getStyle(y).width);y.attr("height",w||(n.imageHeight?n.imageHeight:40)),y.attr("width",k||(n.imageWidth?n.imageWidth:40)),u.configureItemHover(y,c),m=s.convertToSVGCoords(u._svg,y),b.width=Math.max(b.width,m.width),b.height+=m.height}n.label&&(_=d.append("text").classed(l,!0).attr("x",u._renderOrigin.x).attr("y",u._renderOrigin.y).attr("text-anchor","middle").attr("alignment-baseline","middle").text(n.label),u.configureItemHover(_,c),x=s.convertToSVGCoords(u._svg,_),b.width=Math.max(b.width,x.width),b.height+=x.height)}0!==u._renderOrigin.x||0!==u._renderOrigin.y?(f&&f.attr("x",u._renderOrigin.x).attr("y",u._renderOrigin.y),m&&y.transition().duration(u.getAnimateDuration()).attr("x",b.width/2-m.width/2).attr("y",0),x&&_.transition().duration(u.getAnimateDuration()).attr("x",b.width/2).attr("y",b.height-x.height/2)):(m&&y.attr("x",b.width/2-m.width/2).attr("y",0),x&&_.attr("x",b.width/2).attr("y",b.height-x.height/2)),c.rect=b,u.transformNode(n,f,d,u._margin,u._padding)}else delete c.d3selection},e.prototype.createLinks=function(t){for(var e=[],n=0;n<t.length;++n){var r=this._nodes[t[n].from],o=this._nodes[t[n].to];if(this._decimator){for(;r&&!this._decimator.isVisible(r.def);)r=this._nodes[r.def.parent.key];for(;o&&!this._decimator.isVisible(o.def);)o=this._nodes[o.def.parent.key]}if(void 0!==r&&void 0!==o){for(var a=r.def.depth>o.def.depth?r:o,u=r.def.depth>o.def.depth?o:r;u.def.depth!=a.def.depth;)a=this._nodes[a.def.parent.key];if(u!==a){var c={def:t[n],source:{node:r,endPoint:void 0,alignment:void 0},target:{node:o,endPoint:void 0,alignment:void 0}};e.push(c);var l=s.convertToSVGCoords(this._svg,r.d3selection),h=s.convertToSVGCoords(this._svg,o.d3selection);l.bottom<h.y?(r.ports.bottom||(r.ports.bottom=[]),o.ports.top||(o.ports.top=[]),r.ports.bottom.push(c),o.ports.top.push(c),c.source.alignment=i.Alignment.Bottom,c.target.alignment=i.Alignment.Top):l.y>h.bottom?(r.ports.top||(r.ports.top=[]),o.ports.bottom||(o.ports.bottom=[]),r.ports.top.push(c),o.ports.bottom.push(c),c.source.alignment=i.Alignment.Top,c.target.alignment=i.Alignment.Bottom):l.right<h.x?(r.ports.right||(r.ports.right=[]),o.ports.left||(o.ports.left=[]),r.ports.right.push(c),o.ports.left.push(c),c.source.alignment=i.Alignment.Right,c.target.alignment=i.Alignment.Left):(r.ports.left||(r.ports.left=[]),o.ports.right||(o.ports.right=[]),r.ports.left.push(c),o.ports.right.push(c),c.source.alignment=i.Alignment.Left,c.target.alignment=i.Alignment.Right)}}}return e},e.prototype.mergeNodePorts=function(t,e){for(var n={},r=0,o=0;o<t.length;++o){var i=t[o],a=i.def;i.source.node===e?a.fromConnectionPoint?(void 0===n[a.fromConnectionPoint]&&(n[a.fromConnectionPoint]=++r),i.source.endPoint=n[a.fromConnectionPoint]):i.source.endPoint=++r:a.toConnectionPoint?(void 0===n[a.toConnectionPoint]&&(n[a.toConnectionPoint]=++r),i.target.endPoint=n[a.toConnectionPoint]):i.target.endPoint=++r}t.length=r},e.prototype.orderNodePorts=function(){var t=function(t){var n=e._nodes[t],r=function(t,e){var r=t.source.node===n?t.target.node:t.source.node,o=e.source.node===n?e.target.node:e.source.node;return r.d3selection.node().getBoundingClientRect().top-o.d3selection.node().getBoundingClientRect().top},o=function(t,e){var r=t.source.node===n?t.target.node:t.source.node,o=e.source.node===n?e.target.node:e.source.node;return r.d3selection.node().getBoundingClientRect().left-o.d3selection.node().getBoundingClientRect().left};n.ports.top&&(n.ports.top.sort(o),e.mergeNodePorts(n.ports.top,n)),n.ports.bottom&&(n.ports.bottom.sort(o),e.mergeNodePorts(n.ports.bottom,n)),n.ports.left&&(n.ports.left.sort(r),e.mergeNodePorts(n.ports.left,n)),n.ports.right&&(n.ports.right.sort(r),n.ports.right.sort(r),e.mergeNodePorts(n.ports.right,n))},e=this;for(var n in this._nodes)t(n)},e.prototype.renderLinks=function(t,e){var n=this.createLinks(t);this.orderNodePorts(),this.renderLinkHelper(e,n)},e.prototype.sizeViewToFit=function(t){var e,n=this._nodes[t.key].rect;return this._options.fitToWindow?(e=this._svg.transition("resizeView").duration(this.getAnimateDuration()).attr("viewBox","0 0 "+n.width+" "+n.height).attr("preserveAspectRatio","xMidYMid meet"),this._options.width?e.attr("width",this._options.width).attr("height",void 0):this._options.height?e.attr("width",void 0).attr("height",this._options.height):e.attr("width","100%").attr("height",void 0)):e=this._svg.transition("resizeView").duration(this.getAnimateDuration()).attr("width",n.width).attr("height",n.height),e},e.prototype.renderHelper=function(t,e){void 0===e&&(e=!1);var n=this;n._nodes={};var r=n._svg.insert("g","g").classed("graph",!0),o=n.getAnimateDuration();e&&(n._options.animateDuration=0,r.attr("opacity",0)),n._decimator=n._element.decimator,n.renderNodes(void 0,t,r,0),n.initializeLinkLayer(r);var i=n._element.links;return r.transition("nodeWait").duration(n.getAnimateDuration()).on("end",(function(){n.renderLinks(i,r)})),e?n._options.animateDuration=o:n.sizeViewToFit(t),r},e.prototype.render=function(t){var e=this;e._element;e._margin=30,e._padding=10,e.loadOptions(t);var n=e._element.nodes,r=e._svg.select(".graph"),o=e.getAnimateDuration();if(0!==o){var i=e._nodes[n.key];e._renderOrigin={x:0,y:0};var a,u=e.renderHelper(n,!0),c=r.select("rect").node();if(c&&(a=e._nodes[c.__data__.key]),i){var l=e._nodes[n.key],h=s.convertToSVGCoords(e._svg,i.d3selection),f=r.transition("translateOldNode").duration(o).attr("transform","translate(-"+h.x+",-"+h.y+")"),d=e.sizeViewToFit(n);i.d3selection.selectAll("*").size()!==l.d3selection.selectAll("*").size()?(u.remove(),d.transition().duration(o/2).attr("width",0).attr("height",0).on("end",(function(){r.remove(),e.renderHelper(n)}))):f.on("end",(function(){r.remove(),u.attr("opacity",1)}))}else a&&a.d3selection?setTimeout((function(){var t=s.convertToSVGCoords(e._svg,a.d3selection),i=t.x,c=t.y;e._renderOrigin={x:(t.x+t.right)/2,y:(t.y+t.bottom)/2};var l=a.d3selection.selectAll("*").size()!==r.select(".node").selectAll("*").size();u.remove();r.transition("translateOldNode").duration(o).attr("width",0).attr("height",0).attr("transform","translate("+i+","+c+")").on("end",(function(){l&&r.remove(),e.renderHelper(n).transition().duration(e.getAnimateDuration()).on("end",(function(){l||r.remove()}))}));e.sizeViewToFit(n)}),0):(u.remove(),e._renderOrigin={x:0,y:0},e._svg.transition("hideView").duration(o).attr("width",0).attr("height",0).on("end",(function(){r.remove(),e.renderHelper(n)})))}else e._renderOrigin={x:0,y:0},r.remove(),e.renderHelper(n)},e.CHILDREN=["top","bottom","left","right","center"],e}(u.D3ConnectedGraphSVG);e.D3HierarchyGraph=l,c.D3Renderer.register(i.UIType.HierarchyGraph,l)},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),a=n(1),s=n(69),u=n(7),c=n(5),l=n(3),h=n(23),f=n(152),d=n(43),p=n(32),g=function(){function t(){}return t.prototype.updatePosition=function(t){this.def.x+=t.dx,this.def.y+=t.dy,this._nodeContainer.attr("transform","translate("+this.def.x+", "+this.def.y+")")},t.prototype.renderPort=function(t,e){return this._nodeContainer.append("circle").attr("class",this._portDiagram.getClasses(this.def)+" "+t.key).classed("port",!0).attr("cx",t.x).attr("cy",t.y).attr("r",y).attr("fill","white").attr("stroke-width",1).attr("stroke",this._portDiagram.getColor(this.def))},t}(),v=function(){function t(){}return t.prototype.initializeNode=function(){this._nodeContainer=new h.Container},t.prototype.getNode=function(){return this._nodeContainer},t.prototype.updatePosition=function(t){this.def.x+=t.dx,this.def.y+=t.dy,this._nodeContainer.x=this.def.x,this._nodeContainer.y=this.def.y},t.prototype.renderPort=function(t,e){var n=e.manager.add(this.def.type[0],this.def.key,h.SCALE_MODES.LINEAR,1,(function(){var t=new h.Graphics;return t.beginFill(e.color),t.drawCircle(0,0,y),t.beginFill(16777215),t.drawCircle(0,0,y-1),t.endFill(),t}));return n.x=t.x-y,n.y=t.y-y,this._nodeContainer.addChild(n),n},t}(),y=3,m={x:-25,y:-25,height:50,width:50},_=function(){function t(t){this.def=t}return t.prototype.configureNode=function(){this.def.height=50,this.def.width=50},t.prototype.getPortAreaRect=function(){return m},t}(),x=function(){function t(t){this.def=t}return t.prototype.getXYOffset=function(){return{x:.5*-this.def.width,y:.5*-this.def.height}},t.prototype.getTitle=function(){return this.def.type.length>0?this.def.type[0]:"None"},t.prototype.getTitleTextRect=function(){throw"Error please implement this function"},t.prototype.configureNode=function(){var t=this.def,e=t.ports.top?t.ports.top.length:0,n=t.ports.bottom?t.ports.bottom.length:0,r=t.ports.left?t.ports.left.length:0,o=t.ports.right?t.ports.right.length:0,i=this.getTitleTextRect(),s=i.height+6,u=s+6+50,c=i.width+6,l=.5*-c,h=.5*-u;this._portRect=new a.Rect(l,s+h,Math.max(15*Math.max(e,n),c),Math.max(15*Math.max(r,o),u)),this.def.height=s+this._portRect.height,this.def.width=this._portRect.width},t.prototype.getPortAreaRect=function(){return this._portRect},t}(),b=function(t){function e(e,n){var r=t.call(this,e)||this;return r._portDiagram=n,r.updatePosition=g.prototype.updatePosition.bind(r),r.renderPort=g.prototype.renderPort.bind(r),r}return o(e,t),e.prototype.renderNode=function(t){return this._nodeContainer=t.group.append("g"),this._nodeContainer.append("circle").attr("class",this._portDiagram.getClasses(this.def)).classed("node",!0).attr("r",25).attr("cx",0).attr("cy",0).attr("fill",this._portDiagram.getColor(this.def)),void 0!==this.def.x&&this.updatePosition({dx:0,dy:0}),this._nodeContainer},e}(_),w=function(t){function e(e){var n=t.call(this,e)||this;return n.initializeNode=v.prototype.initializeNode.bind(n),n.getNode=v.prototype.getNode.bind(n),n.updatePosition=v.prototype.updatePosition.bind(n),n.renderPort=v.prototype.renderPort.bind(n),n}return o(e,t),e.prototype.renderNode=function(t){this.initializeNode();var e=t.manager.add(this.def.type[0],this.def.key,h.SCALE_MODES.LINEAR,4,(function(){var e=new h.Graphics;return e.beginFill(16777215),e.drawCircle(-25,-25,25),e.beginFill(t.color),e.drawCircle(-25,-25,24),e.endFill(),e}));return e.x=-25,e.y=-25,this._nodeContainer.addChild(e),void 0!==this.def.x&&this.updatePosition({dx:0,dy:0}),e},e}(_),k=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o._portDiagram=n,o._svg=r,o.updatePosition=g.prototype.updatePosition.bind(o),o.renderPort=g.prototype.renderPort.bind(o),o}return o(e,t),e.prototype.getTitleTextRect=function(){return c.getTextRect(this._svg,this.getTitle())},e.prototype.renderNode=function(t){this._nodeContainer=t.group.append("g");var e=this._nodeContainer.append("rect"),n=this._nodeContainer.append("rect"),r=this._nodeContainer.append("text"),o=this.getXYOffset(),i=o.x,a=o.y,s=this.getTitle();return r.text(s).attr("fill","white").attr("stroke","white").attr("alignment-baseline","hanging").attr("x",i+3).attr("y",a+3),e.attr("class",this._portDiagram.getClasses(this.def)).classed("node",!0).classed("border",!0).attr("fill","#FFFFFF").attr("stroke","#000000").attr("stroke-width",1).attr("x",i).attr("y",a).attr("width",this.def.width).attr("height",this.def.height).attr("rx",3).attr("ry",3),n.attr("class",this._portDiagram.getClasses(this.def)).classed("node",!0).classed("title-box",!0).attr("fill",this._portDiagram.getColor(this.def)).attr("x",i).attr("y",a).attr("width",this.def.width).attr("height",20).attr("rx",3).attr("ry",3),void 0!==this.def.x&&this.updatePosition({dx:0,dy:0}),this._nodeContainer},e}(x),M=function(t){function e(e,n){var r=t.call(this,e)||this;return r._pixiHelper=n,r.initializeNode=v.prototype.initializeNode.bind(r),r.getNode=v.prototype.getNode.bind(r),r.updatePosition=v.prototype.updatePosition.bind(r),r.renderPort=v.prototype.renderPort.bind(r),r}return o(e,t),e.prototype.getTitleTextRect=function(){var t=this.getTitle();return this._pixiHelper.renderText(t,l.select(this._pixiHelper.getRenderer().view.parentNode),16777215)},e.prototype.renderNode=function(t){var e=this;this.initializeNode();var n=this.def.type[0]+"H"+this.def.height+"W"+this.def.width;n+=this.def.ports.top?"T"+this.def.ports.top.length:"",n+=this.def.ports.left?"L"+this.def.ports.left.length:"",n+=this.def.ports.right?"R"+this.def.ports.right.length:"",n+=this.def.ports.bottom?"B"+this.def.ports.bottom.length:"";var r=t.manager.add(n,this.def.key,h.SCALE_MODES.LINEAR,1,(function(){var n=e.getTitle();e._titleText=e._pixiHelper.renderText(n,l.select(e._pixiHelper.getRenderer().view.parentNode),16777215),e._titleText.x=3,e._titleText.y=3;var r=new h.Graphics;return r.beginFill(16777215,1),r.lineStyle(1,0,.7),r.drawRoundedRect(0,0,e._portRect.width,e.def.height,3),r.beginFill(t.color,1),r.drawRoundedRect(0,0,e._portRect.width,e._titleText.height+6,3),r.addChild(e._titleText),r})),o=this.getXYOffset();return r.x=o.x,r.y=o.y,this._nodeContainer.addChild(r),void 0!==this.def.x&&this.updatePosition({dx:0,dy:0}),r},e}(x),C=function(t){function e(e,n,r){var o=t.call(this)||this;o._nodePortInfo={},o._options={},o.invalidate=o.render,o._element=e,o._rendererManager=n,o._parent=r,o._nodes={},o._requiresLayout=!1,o._renderedNodes=[];var i=o;return o.getLinkStartXY=function(t){var e=i._nodes[t.def.from],n=t.def,r=i._nodePortInfo[e.key][n.fromPort];return{x:e.x+r.x,y:e.y+r.y}},o.getLinkEndXY=function(t){var e=i._nodes[t.def.to],n=t.def,r=i._nodePortInfo[e.key][n.toPort];return{x:e.x+r.x,y:e.y+r.y}},o}return o(e,t),e.prototype.hover=function(t){this._renderer.hover(t)},e.prototype.cursorChange=function(t){},e.prototype.brush=function(t){this._renderer.brush(t)},e.prototype.addNodePorts=function(t,e,n){if(t){var r=e.def.key;this._nodePortInfo[r]||(this._nodePortInfo[r]={});var o=e.getPortAreaRect(),i=o.height/t.length,s=.5*i,u=o.width/t.length,c=.5*u,l=this._nodePortInfo[r];switch(n){case a.Alignment.Top:t.forEach((function(t,e){var r=o.x+c+u*e;l[t.key]={key:t.key,index:e,alignment:n,x:r,y:0}}));break;case a.Alignment.Bottom:t.forEach((function(t,r){var i=o.x+c+u*r;l[t.key]={key:t.key,index:r,alignment:n,x:i,y:e.def.height}}));break;case a.Alignment.Left:t.forEach((function(t,e){var r=s+i*e+o.y;l[t.key]={key:t.key,index:e,alignment:n,x:o.x,y:r}}));break;case a.Alignment.Right:t.forEach((function(t,r){var a=s+i*r+o.y;l[t.key]={key:t.key,index:r,alignment:n,x:o.x+e.def.width,y:a}}))}}},e.prototype.addPorts=function(t){this.addNodePorts(t.def.ports.left,t,a.Alignment.Left),this.addNodePorts(t.def.ports.right,t,a.Alignment.Right),this.addNodePorts(t.def.ports.top,t,a.Alignment.Top),this.addNodePorts(t.def.ports.bottom,t,a.Alignment.Bottom)},e.prototype.getColor=function(t){var e=this._rendererManager.getColorManager();return e.hasColor(t.key)?e.getColor(t.key):t.type?e.getColor(t.type[0]):e.getColor(t.key)},e.prototype.getClasses=function(t){var e=t.key;return t.type.forEach((function(t){e+=" "+t})),e},e.prototype.addNode=function(t){t.configureNode(),this._nodes[t.def.key]=t.def},e.prototype.createRenderedLinks=function(){var t=this._element.links,e=[],n=this;return t.forEach((function(t){var r=n._nodes[t.from],o=n._nodes[t.to];if(r&&o){var i=n._nodePortInfo[r.key][t.fromPort],a=n._nodePortInfo[o.key][t.toPort],s={def:t,source:{node:r,alignment:i.alignment},target:{node:o,alignment:a.alignment}};e.push(s)}})),e},e.prototype.layout=function(t,e){var n=this._element;if(n.nodes&&n.nodes.length>0&&void 0===n.nodes[0].x){var r=new f.graphlib.Graph;r.setGraph({rankdir:"LR"}),r.setDefaultEdgeLabel((function(){return{}})),t.forEach((function(t){t.def.label=t.def.key,r.setNode(t.def.key,t.def)})),e.forEach((function(t){r.setEdge(t.def.from,t.def.to)})),f.layout(r),t.forEach((function(t){t.updatePosition({dx:0,dy:0})}))}},e.prototype.render=function(t){i.merge(this._options,t),this._renderer||(this._options.forceSvgRenderer?this._renderer=new T(this._element,this._rendererManager,this._parent,this):this._renderer=new E(this._element,this._rendererManager,this._parent,this),this._renderer.setColorManager(this._colorMgr)),this._renderer.render(t)},e}(u.UIElementRenderer);e.D3PortDiagram=C;var T=function(t){function e(e,n,r,o){var i=t.call(this,e,n,r)||this;return d.DiagramBase.prototype.bind.call(i,i._renderer,i._element),i._portDiagram=o,i.getLinkStartXY=o.getLinkStartXY,i.getLinkEndXY=o.getLinkEndXY,i}return o(e,t),e.prototype.render=function(t){var e=this.initializeGraphArea(t);this.initializeLinkLayer(e);var n=this.renderNodes(e),r=this._portDiagram.createRenderedLinks();this._portDiagram.layout(n,r),this.renderLinkHelper(e,r),this.configureView()},e.prototype.renderNodes=function(t){var e=this,n=this,r=n._element;n._portDiagram._nodePortInfo={};var o=[],i=t.append("g").attr("class","nodes");return r.nodes.forEach((function(a){if(!r.decimator||r.decimator(a)){var u;u=r.nodeRenderType===s.NodeType.NodeRectangle||a.renderType===s.NodeType.NodeRectangle?new k(a,n._portDiagram,n._svg):new b(a,n._portDiagram),n._portDiagram.addNode(u),n._portDiagram.addPorts(u),o.push(u);var h=u.renderNode({group:i}).on("mouseenter",n.nodeHoverStart).on("mouseleave",n.hoverEnd).call(l.drag().on("drag",(function(e){n._dataTooltip.hideTooltip(),u.updatePosition(l.event);var r=[];t.selectAll(".link."+e.key).each((function(t){r.push(t)})),n.renderLinkHelper(t,r,!0)})));if(h.node().__data__=u.def,c.addClickHelper(h,r.onClick,r.onDoubleClick,r.contextMenuItems,n._dataTooltip,r,u),n._dataTooltip.setTarget(h),!n._element.disablePortRendering){var f=e._portDiagram._nodePortInfo[u.def.key];for(var d in f){var p=f[d],g=u.renderPort(p);g.node().__data__=p,c.addClickHelper(g,r.onClick,r.onDoubleClick,r.contextMenuItems,e._dataTooltip,r,p),e._dataTooltip.setTarget(g)}}}})),o},e}(d.D3ConnectedGraphSVG);e.D3PortDiagramSVG=T,u.D3Renderer.register(a.UIType.PortDiagram,C);var E=function(t){function e(e,n,r,o){var i=t.call(this,e,n,r)||this;return i._portDiagram=o,i.getLinkStartXY=o.getLinkStartXY,i.getLinkEndXY=o.getLinkEndXY,i}return o(e,t),e.prototype.renderNodes=function(t){var e=this,n=e._element;e._nodeGraphics=new p.GraphicsManager(e._pixi),e._element.disablePortRendering||(e._portGraphics=new p.GraphicsManager(e._pixi));var r=[];return n.nodes.forEach((function(o){var i;if(i=n.nodeRenderType===s.NodeType.NodeRectangle||o.renderType===s.NodeType.NodeRectangle?new M(o,e._pixiHelper):new w(o),e._portDiagram.addNode(i),e._portDiagram.addPorts(i),r.push(i),!n.decimator||n.decimator(o)){var a=parseInt(e._portDiagram.getColor(o).substring(1),16),u=i.renderNode({color:a,manager:e._nodeGraphics});if(u.__data__=o,e._pixiHelper.addSelection(o.key,u),e._pixiHelper.addInteractionHelper(u,n.onClick,n.onDoubleClick,n.contextMenuItems,e.nodeHoverStart,e.hoverEnd,e._dataTooltip,n,o),!e._element.disablePortRendering){var c=e._portDiagram._nodePortInfo[o.key];for(var l in c){var h=c[l],f=i.renderPort(h,{color:a,manager:e._portGraphics});e._pixiHelper.addSelection(o.key,f),e._pixiHelper.addSelection(o.key+h.key,f),e._pixiHelper.addInteractionHelper(f,n.onClick,n.onDoubleClick,n.contextMenuItems,e.nodeHoverStart,e.hoverEnd,e._dataTooltip,n,{def:h})}}var d,p=i.getNode();u.on("mousedown",g).on("touchstart",g).on("mouseup",y).on("mouseupoutside",y).on("touchend",y).on("touchendoutside",y).on("mousemove",v).on("touchmove",v),t.addChild(p)}function g(e){this.data=e.data,this.dragging=!0,t.itemDragging=!0,d=this.data.getLocalPosition(p.parent),e.stopPropagation()}function v(n){if(this.dragging){e._dataTooltip.hideTooltip();var r=this.data.getLocalPosition(p.parent);r.dx=r.x-d.x,r.dy=r.y-d.y,i.updatePosition(r),e.renderLinkHelper(t,e._renderedLinks),e._pixiHelper.render(),n.stopPropagation(),d=r}}function y(){this.dragging=!1,t.itemDragging=!1,this.data=null}})),r},e.prototype.render=function(t){i.merge(this._options,t);this._element;if(!(void 0===this._pixiHelper)&&(t.height||t.width))return this._pixi.resize(this._options.width,this._options.height),void this._pixiHelper.render();this._portDiagram._nodePortInfo={};var e=this.initializeGraphArea(t),n=this.renderNodes(e);this._renderedLinks=this._portDiagram.createRenderedLinks(),this._portDiagram.layout(n,this._renderedLinks),this.renderLinkHelper(e,this._renderedLinks),this.configureView(),this._pixiHelper.render(e)},e}(d.D3ConnectedGraphPixi);e.D3PortDiagramPixi=E,u.D3Renderer.register(a.UIType.PortDiagram,C)},function(t,e,n){t.exports={graphlib:n(14),layout:n(266),debug:n(325),util:{time:n(8).time,notime:n(8).notime},version:n(326)}},function(t,e,n){var r=n(154);t.exports={Graph:r.Graph,json:n(256),alg:n(257),version:r.version}},function(t,e,n){t.exports={Graph:n(70),version:n(255)}},function(t,e,n){var r=n(93);t.exports=function(t){return r(t,4)}},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,n){var r=n(53),o=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0)&&(n==e.length-1?e.pop():o.call(e,n,1),--this.size,!0)}},function(t,e,n){var r=n(53);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},function(t,e,n){var r=n(53);t.exports=function(t){return r(this.__data__,t)>-1}},function(t,e,n){var r=n(53);t.exports=function(t,e){var n=this.__data__,o=r(n,t);return o<0?(++this.size,n.push([t,e])):n[o][1]=e,this}},function(t,e,n){var r=n(52);t.exports=function(){this.__data__=new r,this.size=0}},function(t,e){t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,n){var r=n(52),o=n(71),i=n(72);t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!o||a.length<199)return a.push([t,e]),this.size=++n.size,this;n=this.__data__=new i(a)}return n.set(t,e),this.size=n.size,this}},function(t,e,n){var r=n(44),o=n(169),i=n(11),a=n(95),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,h=c.hasOwnProperty,f=RegExp("^"+l.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!i(t)||o(t))&&(r(t)?f:s).test(a(t))}},function(t,e,n){var r=n(34),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r?r.toStringTag:void 0;t.exports=function(t){var e=i.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(t){}var o=a.call(t);return r&&(e?t[s]=n:delete t[s]),o}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e,n){var r,o=n(170),i=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.exports=function(t){return!!i&&i in t}},function(t,e,n){var r=n(15)["__core-js_shared__"];t.exports=r},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e,n){var r=n(173),o=n(52),i=n(71);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},function(t,e,n){var r=n(174),o=n(175),i=n(176),a=n(177),s=n(178);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(54);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,n){var r=n(54),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(e,t)?e[t]:void 0}},function(t,e,n){var r=n(54),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:o.call(e,t)}},function(t,e,n){var r=n(54);t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},function(t,e,n){var r=n(55);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,n){var r=n(55);t.exports=function(t){return r(this,t).get(t)}},function(t,e,n){var r=n(55);t.exports=function(t){return r(this,t).has(t)}},function(t,e,n){var r=n(55);t.exports=function(t,e){var n=r(this,t),o=n.size;return n.set(t,e),this.size+=n.size==o?0:1,this}},function(t,e,n){var r=n(45),o=n(24);t.exports=function(t,e){return t&&r(e,o(e),t)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},function(t,e,n){var r=n(28),o=n(17);t.exports=function(t){return o(t)&&"[object Arguments]"==r(t)}},function(t,e){t.exports=function(){return!1}},function(t,e,n){var r=n(28),o=n(75),i=n(17),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return i(t)&&o(t.length)&&!!a[r(t)]}},function(t,e,n){var r=n(98)(Object.keys,Object);t.exports=r},function(t,e,n){var r=n(45),o=n(36);t.exports=function(t,e){return t&&r(e,o(e),t)}},function(t,e,n){var r=n(11),o=n(60),i=n(192),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=o(t),n=[];for(var s in t)("constructor"!=s||!e&&a.call(t,s))&&n.push(s);return n}},function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},function(t,e,n){var r=n(45),o=n(78);t.exports=function(t,e){return r(t,o(t),e)}},function(t,e,n){var r=n(45),o=n(103);t.exports=function(t,e){return r(t,o(t),e)}},function(t,e,n){var r=n(105),o=n(103),i=n(36);t.exports=function(t){return r(t,i,o)}},function(t,e,n){var r=n(27)(n(15),"DataView");t.exports=r},function(t,e,n){var r=n(27)(n(15),"Promise");t.exports=r},function(t,e,n){var r=n(27)(n(15),"WeakMap");t.exports=r},function(t,e){var n=Object.prototype.hasOwnProperty;t.exports=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&n.call(t,"index")&&(r.index=t.index,r.input=t.input),r}},function(t,e,n){var r=n(80),o=n(201),i=n(202),a=n(203),s=n(108);t.exports=function(t,e,n){var u=t.constructor;switch(e){case"[object ArrayBuffer]":return r(t);case"[object Boolean]":case"[object Date]":return new u(+t);case"[object DataView]":return o(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(t,n);case"[object Map]":return new u;case"[object Number]":case"[object String]":return new u(t);case"[object RegExp]":return i(t);case"[object Set]":return new u;case"[object Symbol]":return a(t)}}},function(t,e,n){var r=n(80);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}},function(t,e){var n=/\w*$/;t.exports=function(t){var e=new t.constructor(t.source,n.exec(t));return e.lastIndex=t.lastIndex,e}},function(t,e,n){var r=n(34),o=r?r.prototype:void 0,i=o?o.valueOf:void 0;t.exports=function(t){return i?Object(i.call(t)):{}}},function(t,e,n){var r=n(205),o=n(59),i=n(76),a=i&&i.isMap,s=a?o(a):r;t.exports=s},function(t,e,n){var r=n(37),o=n(17);t.exports=function(t){return o(t)&&"[object Map]"==r(t)}},function(t,e,n){var r=n(207),o=n(59),i=n(76),a=i&&i.isSet,s=a?o(a):r;t.exports=s},function(t,e,n){var r=n(37),o=n(17);t.exports=function(t){return o(t)&&"[object Set]"==r(t)}},function(t,e){t.exports=function(t){return function(e,n,r){for(var o=-1,i=Object(e),a=r(e),s=a.length;s--;){var u=a[t?s:++o];if(!1===n(i[u],u,i))break}return e}}},function(t,e,n){var r=n(19);t.exports=function(t,e){return function(n,o){if(null==n)return n;if(!r(n))return t(n,o);for(var i=n.length,a=e?i:-1,s=Object(n);(e?a--:++a<i)&&!1!==o(s[a],a,s););return n}}},function(t,e,n){var r=n(62);t.exports=function(t,e){var n=[];return r(t,(function(t,r,o){e(t,r,o)&&n.push(t)})),n}},function(t,e,n){var r=n(212),o=n(220),i=n(120);t.exports=function(t){var e=o(t);return 1==e.length&&e[0][2]?i(e[0][0],e[0][1]):function(n){return n===t||r(n,t,e)}}},function(t,e,n){var r=n(51),o=n(115);t.exports=function(t,e,n,i){var a=n.length,s=a,u=!i;if(null==t)return!s;for(t=Object(t);a--;){var c=n[a];if(u&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++a<s;){var l=(c=n[a])[0],h=t[l],f=c[1];if(u&&c[2]){if(void 0===h&&!(l in t))return!1}else{var d=new r;if(i)var p=i(h,f,l,t,e,d);if(!(void 0===p?o(f,h,3,i,d):p))return!1}}return!0}},function(t,e,n){var r=n(51),o=n(116),i=n(217),a=n(219),s=n(37),u=n(6),c=n(35),l=n(47),h="[object Object]",f=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,d,p,g){var v=u(t),y=u(e),m=v?"[object Array]":s(t),_=y?"[object Array]":s(e),x=(m="[object Arguments]"==m?h:m)==h,b=(_="[object Arguments]"==_?h:_)==h,w=m==_;if(w&&c(t)){if(!c(e))return!1;v=!0,x=!1}if(w&&!x)return g||(g=new r),v||l(t)?o(t,e,n,d,p,g):i(t,e,m,n,d,p,g);if(!(1&n)){var k=x&&f.call(t,"__wrapped__"),M=b&&f.call(e,"__wrapped__");if(k||M){var C=k?t.value():t,T=M?e.value():e;return g||(g=new r),p(C,T,n,d,g)}}return!!w&&(g||(g=new r),a(t,e,n,d,p,g))}},function(t,e){t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},function(t,e,n){var r=n(34),o=n(107),i=n(33),a=n(116),s=n(218),u=n(84),c=r?r.prototype:void 0,l=c?c.valueOf:void 0;t.exports=function(t,e,n,r,c,h,f){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!h(new o(t),new o(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var d=s;case"[object Set]":var p=1&r;if(d||(d=u),t.size!=e.size&&!p)return!1;var g=f.get(t);if(g)return g==e;r|=2,f.set(t,e);var v=a(d(t),d(e),r,c,h,f);return f.delete(t),v;case"[object Symbol]":if(l)return l.call(t)==l.call(e)}return!1}},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}},function(t,e,n){var r=n(104),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,i,a,s){var u=1&n,c=r(t),l=c.length;if(l!=r(e).length&&!u)return!1;for(var h=l;h--;){var f=c[h];if(!(u?f in e:o.call(e,f)))return!1}var d=s.get(t);if(d&&s.get(e))return d==e;var p=!0;s.set(t,e),s.set(e,t);for(var g=u;++h<l;){var v=t[f=c[h]],y=e[f];if(i)var m=u?i(y,v,f,e,t,s):i(v,y,f,t,e,s);if(!(void 0===m?v===y||a(v,y,n,i,s):m)){p=!1;break}g||(g="constructor"==f)}if(p&&!g){var _=t.constructor,x=e.constructor;_!=x&&"constructor"in t&&"constructor"in e&&!("function"==typeof _&&_ instanceof _&&"function"==typeof x&&x instanceof x)&&(p=!1)}return s.delete(t),s.delete(e),p}},function(t,e,n){var r=n(119),o=n(24);t.exports=function(t){for(var e=o(t),n=e.length;n--;){var i=e[n],a=t[i];e[n]=[i,a,r(a)]}return e}},function(t,e,n){var r=n(115),o=n(222),i=n(122),a=n(86),s=n(119),u=n(120),c=n(48);t.exports=function(t,e){return a(t)&&s(e)?u(c(t),e):function(n){var a=o(n,t);return void 0===a&&a===e?i(n,t):r(e,a,3)}}},function(t,e,n){var r=n(85);t.exports=function(t,e,n){var o=null==t?void 0:r(t,e);return void 0===o?n:o}},function(t,e,n){var r=n(224),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=r((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(o,(function(t,n,r,o){e.push(r?o.replace(i,"$1"):n||t)})),e}));t.exports=a},function(t,e,n){var r=n(225);t.exports=function(t){var e=r(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}},function(t,e,n){var r=n(72);function o(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=t.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(o.Cache||r),n}o.Cache=r,t.exports=o},function(t,e,n){var r=n(34),o=n(64),i=n(6),a=n(38),s=r?r.prototype:void 0,u=s?s.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(i(e))return o(e,t)+"";if(a(e))return u?u.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}},function(t,e){t.exports=function(t,e){return null!=t&&e in Object(t)}},function(t,e,n){var r=n(124),o=n(229),i=n(86),a=n(48);t.exports=function(t){return i(t)?r(a(t)):o(t)}},function(t,e,n){var r=n(85);t.exports=function(t){return function(e){return r(e,t)}}},function(t,e){var n=Object.prototype.hasOwnProperty;t.exports=function(t,e){return null!=t&&n.call(t,e)}},function(t,e,n){var r=n(77),o=n(37),i=n(46),a=n(6),s=n(19),u=n(35),c=n(60),l=n(47),h=Object.prototype.hasOwnProperty;t.exports=function(t){if(null==t)return!0;if(s(t)&&(a(t)||"string"==typeof t||"function"==typeof t.splice||u(t)||l(t)||i(t)))return!t.length;var e=o(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(c(t))return!r(t).length;for(var n in t)if(h.call(t,n))return!1;return!0}},function(t,e){t.exports=function(t,e,n,r){var o=-1,i=null==t?0:t.length;for(r&&i&&(n=t[++o]);++o<i;)n=e(n,t[o],o,t);return n}},function(t,e){t.exports=function(t,e,n,r,o){return o(t,(function(t,o,i){n=r?(r=!1,t):e(n,t,o,i)})),n}},function(t,e,n){var r=n(77),o=n(37),i=n(19),a=n(235),s=n(236);t.exports=function(t){if(null==t)return 0;if(i(t))return a(t)?s(t):t.length;var e=o(t);return"[object Map]"==e||"[object Set]"==e?t.size:r(t).length}},function(t,e,n){var r=n(28),o=n(6),i=n(17);t.exports=function(t){return"string"==typeof t||!o(t)&&i(t)&&"[object String]"==r(t)}},function(t,e,n){var r=n(237),o=n(238),i=n(239);t.exports=function(t){return o(t)?i(t):r(t)}},function(t,e,n){var r=n(124)("length");t.exports=r},function(t,e){var n=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");t.exports=function(t){return n.test(t)}},function(t,e){var n="[\\ud800-\\udfff]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",o="\\ud83c[\\udffb-\\udfff]",i="[^\\ud800-\\udfff]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",u="(?:"+r+"|"+o+")"+"?",c="[\\ufe0e\\ufe0f]?"+u+("(?:\\u200d(?:"+[i,a,s].join("|")+")[\\ufe0e\\ufe0f]?"+u+")*"),l="(?:"+[i+r+"?",r,a,s,n].join("|")+")",h=RegExp(o+"(?="+o+")|"+l+c,"g");t.exports=function(t){for(var e=h.lastIndex=0;h.test(t);)++e;return e}},function(t,e,n){var r=n(73),o=n(110),i=n(82),a=n(20),s=n(61),u=n(6),c=n(35),l=n(44),h=n(11),f=n(47);t.exports=function(t,e,n){var d=u(t),p=d||c(t)||f(t);if(e=a(e,4),null==n){var g=t&&t.constructor;n=p?d?new g:[]:h(t)&&l(g)?o(s(t)):{}}return(p?r:i)(t,(function(t,r,o){return e(n,t,r,o)})),n}},function(t,e,n){var r=n(87),o=n(65),i=n(246),a=n(133),s=o((function(t){return i(r(t,1,a,!0))}));t.exports=s},function(t,e,n){var r=n(34),o=n(46),i=n(6),a=r?r.isConcatSpreadable:void 0;t.exports=function(t){return i(t)||o(t)||!!(a&&t&&t[a])}},function(t,e){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},function(t,e,n){var r=n(81),o=n(96),i=n(29),a=o?function(t,e){return o(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:i;t.exports=a},function(t,e){var n=Date.now;t.exports=function(t){var e=0,r=0;return function(){var o=n(),i=16-(o-r);if(r=o,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},function(t,e,n){var r=n(117),o=n(247),i=n(251),a=n(118),s=n(252),u=n(84);t.exports=function(t,e,n){var c=-1,l=o,h=t.length,f=!0,d=[],p=d;if(n)f=!1,l=i;else if(h>=200){var g=e?null:s(t);if(g)return u(g);f=!1,l=a,p=new r}else p=e?[]:d;t:for(;++c<h;){var v=t[c],y=e?e(v):v;if(v=n||0!==v?v:0,f&&y==y){for(var m=p.length;m--;)if(p[m]===y)continue t;e&&p.push(y),d.push(v)}else l(p,y,n)||(p!==d&&p.push(y),d.push(v))}return d}},function(t,e,n){var r=n(248);t.exports=function(t,e){return!!(null==t?0:t.length)&&r(t,e,0)>-1}},function(t,e,n){var r=n(132),o=n(249),i=n(250);t.exports=function(t,e,n){return e==e?i(t,e,n):r(t,o,n)}},function(t,e){t.exports=function(t){return t!=t}},function(t,e){t.exports=function(t,e,n){for(var r=n-1,o=t.length;++r<o;)if(t[r]===e)return r;return-1}},function(t,e){t.exports=function(t,e,n){for(var r=-1,o=null==t?0:t.length;++r<o;)if(n(e,t[r]))return!0;return!1}},function(t,e,n){var r=n(106),o=n(253),i=n(84),a=r&&1/i(new r([,-0]))[1]==1/0?function(t){return new r(t)}:o;t.exports=a},function(t,e){t.exports=function(){}},function(t,e,n){var r=n(64);t.exports=function(t,e){return r(e,(function(e){return t[e]}))}},function(t,e){t.exports="2.1.7"},function(t,e,n){var r=n(10),o=n(70);function i(t){return r.map(t.nodes(),(function(e){var n=t.node(e),o=t.parent(e),i={v:e};return r.isUndefined(n)||(i.value=n),r.isUndefined(o)||(i.parent=o),i}))}function a(t){return r.map(t.edges(),(function(e){var n=t.edge(e),o={v:e.v,w:e.w};return r.isUndefined(e.name)||(o.name=e.name),r.isUndefined(n)||(o.value=n),o}))}t.exports={write:function(t){var e={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:i(t),edges:a(t)};r.isUndefined(t.graph())||(e.value=r.clone(t.graph()));return e},read:function(t){var e=new o(t.options).setGraph(t.value);return r.each(t.nodes,(function(t){e.setNode(t.v,t.value),t.parent&&e.setParent(t.v,t.parent)})),r.each(t.edges,(function(t){e.setEdge({v:t.v,w:t.w,name:t.name},t.value)})),e}}},function(t,e,n){t.exports={components:n(258),dijkstra:n(135),dijkstraAll:n(259),findCycles:n(260),floydWarshall:n(261),isAcyclic:n(262),postorder:n(263),preorder:n(264),prim:n(265),tarjan:n(137),topsort:n(138)}},function(t,e,n){var r=n(10);t.exports=function(t){var e,n={},o=[];function i(o){r.has(n,o)||(n[o]=!0,e.push(o),r.each(t.successors(o),i),r.each(t.predecessors(o),i))}return r.each(t.nodes(),(function(t){e=[],i(t),e.length&&o.push(e)})),o}},function(t,e,n){var r=n(135),o=n(10);t.exports=function(t,e,n){return o.transform(t.nodes(),(function(o,i){o[i]=r(t,i,e,n)}),{})}},function(t,e,n){var r=n(10),o=n(137);t.exports=function(t){return r.filter(o(t),(function(e){return e.length>1||1===e.length&&t.hasEdge(e[0],e[0])}))}},function(t,e,n){var r=n(10);t.exports=function(t,e,n){return function(t,e,n){var r={},o=t.nodes();return o.forEach((function(t){r[t]={},r[t][t]={distance:0},o.forEach((function(e){t!==e&&(r[t][e]={distance:Number.POSITIVE_INFINITY})})),n(t).forEach((function(n){var o=n.v===t?n.w:n.v,i=e(n);r[t][o]={distance:i,predecessor:t}}))})),o.forEach((function(t){var e=r[t];o.forEach((function(n){var i=r[n];o.forEach((function(n){var r=i[t],o=e[n],a=i[n],s=r.distance+o.distance;s<a.distance&&(a.distance=s,a.predecessor=o.predecessor)}))}))})),r}(t,e||o,n||function(e){return t.outEdges(e)})};var o=r.constant(1)},function(t,e,n){var r=n(138);t.exports=function(t){try{r(t)}catch(t){if(t instanceof r.CycleException)return!1;throw t}return!0}},function(t,e,n){var r=n(139);t.exports=function(t,e){return r(t,e,"post")}},function(t,e,n){var r=n(139);t.exports=function(t,e){return r(t,e,"pre")}},function(t,e,n){var r=n(10),o=n(70),i=n(136);t.exports=function(t,e){var n,a=new o,s={},u=new i;function c(t){var r=t.v===n?t.w:t.v,o=u.priority(r);if(void 0!==o){var i=e(t);i<o&&(s[r]=n,u.decrease(r,i))}}if(0===t.nodeCount())return a;r.each(t.nodes(),(function(t){u.add(t,Number.POSITIVE_INFINITY),a.setNode(t)})),u.decrease(t.nodes()[0],0);var l=!1;for(;u.size()>0;){if(n=u.removeMin(),r.has(s,n))a.setEdge(n,s[n]);else{if(l)throw new Error("Input graph is not connected: "+t);l=!0}t.nodeEdges(n).forEach(c)}return a}},function(t,e,n){"use strict";var r=n(4),o=n(304),i=n(307),a=n(308),s=n(8).normalizeRanks,u=n(310),c=n(8).removeEmptyRanks,l=n(311),h=n(312),f=n(313),d=n(314),p=n(323),g=n(8),v=n(14).Graph;t.exports=function(t,e){var n=e&&e.debugTiming?g.time:g.notime;n("layout",(function(){var e=n("  buildLayoutGraph",(function(){return function(t){var e=new v({multigraph:!0,compound:!0}),n=T(t.graph());return e.setGraph(r.merge({},m,C(n,y),r.pick(n,_))),r.forEach(t.nodes(),(function(n){var o=T(t.node(n));e.setNode(n,r.defaults(C(o,x),b)),e.setParent(n,t.parent(n))})),r.forEach(t.edges(),(function(n){var o=T(t.edge(n));e.setEdge(n,r.merge({},k,C(o,w),r.pick(o,M)))})),e}(t)}));n("  runLayout",(function(){!function(t,e){e("    makeSpaceForEdgeLabels",(function(){!function(t){var e=t.graph();e.ranksep/=2,r.forEach(t.edges(),(function(n){var r=t.edge(n);r.minlen*=2,"c"!==r.labelpos.toLowerCase()&&("TB"===e.rankdir||"BT"===e.rankdir?r.width+=r.labeloffset:r.height+=r.labeloffset)}))}(t)})),e("    removeSelfEdges",(function(){!function(t){r.forEach(t.edges(),(function(e){if(e.v===e.w){var n=t.node(e.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:e,label:t.edge(e)}),t.removeEdge(e)}}))}(t)})),e("    acyclic",(function(){o.run(t)})),e("    nestingGraph.run",(function(){l.run(t)})),e("    rank",(function(){a(g.asNonCompoundGraph(t))})),e("    injectEdgeLabelProxies",(function(){!function(t){r.forEach(t.edges(),(function(e){var n=t.edge(e);if(n.width&&n.height){var r=t.node(e.v),o={rank:(t.node(e.w).rank-r.rank)/2+r.rank,e:e};g.addDummyNode(t,"edge-proxy",o,"_ep")}}))}(t)})),e("    removeEmptyRanks",(function(){c(t)})),e("    nestingGraph.cleanup",(function(){l.cleanup(t)})),e("    normalizeRanks",(function(){s(t)})),e("    assignRankMinMax",(function(){!function(t){var e=0;r.forEach(t.nodes(),(function(n){var o=t.node(n);o.borderTop&&(o.minRank=t.node(o.borderTop).rank,o.maxRank=t.node(o.borderBottom).rank,e=r.max(e,o.maxRank))})),t.graph().maxRank=e}(t)})),e("    removeEdgeLabelProxies",(function(){!function(t){r.forEach(t.nodes(),(function(e){var n=t.node(e);"edge-proxy"===n.dummy&&(t.edge(n.e).labelRank=n.rank,t.removeNode(e))}))}(t)})),e("    normalize.run",(function(){i.run(t)})),e("    parentDummyChains",(function(){u(t)})),e("    addBorderSegments",(function(){h(t)})),e("    order",(function(){d(t)})),e("    insertSelfEdges",(function(){!function(t){var e=g.buildLayerMatrix(t);r.forEach(e,(function(e){var n=0;r.forEach(e,(function(e,o){var i=t.node(e);i.order=o+n,r.forEach(i.selfEdges,(function(e){g.addDummyNode(t,"selfedge",{width:e.label.width,height:e.label.height,rank:i.rank,order:o+ ++n,e:e.e,label:e.label},"_se")})),delete i.selfEdges}))}))}(t)})),e("    adjustCoordinateSystem",(function(){f.adjust(t)})),e("    position",(function(){p(t)})),e("    positionSelfEdges",(function(){!function(t){r.forEach(t.nodes(),(function(e){var n=t.node(e);if("selfedge"===n.dummy){var r=t.node(n.e.v),o=r.x+r.width/2,i=r.y,a=n.x-o,s=r.height/2;t.setEdge(n.e,n.label),t.removeNode(e),n.label.points=[{x:o+2*a/3,y:i-s},{x:o+5*a/6,y:i-s},{x:o+a,y:i},{x:o+5*a/6,y:i+s},{x:o+2*a/3,y:i+s}],n.label.x=n.x,n.label.y=n.y}}))}(t)})),e("    removeBorderNodes",(function(){!function(t){r.forEach(t.nodes(),(function(e){if(t.children(e).length){var n=t.node(e),o=t.node(n.borderTop),i=t.node(n.borderBottom),a=t.node(r.last(n.borderLeft)),s=t.node(r.last(n.borderRight));n.width=Math.abs(s.x-a.x),n.height=Math.abs(i.y-o.y),n.x=a.x+n.width/2,n.y=o.y+n.height/2}})),r.forEach(t.nodes(),(function(e){"border"===t.node(e).dummy&&t.removeNode(e)}))}(t)})),e("    normalize.undo",(function(){i.undo(t)})),e("    fixupEdgeLabelCoords",(function(){!function(t){r.forEach(t.edges(),(function(e){var n=t.edge(e);if(r.has(n,"x"))switch("l"!==n.labelpos&&"r"!==n.labelpos||(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}}))}(t)})),e("    undoCoordinateSystem",(function(){f.undo(t)})),e("    translateGraph",(function(){!function(t){var e=Number.POSITIVE_INFINITY,n=0,o=Number.POSITIVE_INFINITY,i=0,a=t.graph(),s=a.marginx||0,u=a.marginy||0;function c(t){var r=t.x,a=t.y,s=t.width,u=t.height;e=Math.min(e,r-s/2),n=Math.max(n,r+s/2),o=Math.min(o,a-u/2),i=Math.max(i,a+u/2)}r.forEach(t.nodes(),(function(e){c(t.node(e))})),r.forEach(t.edges(),(function(e){var n=t.edge(e);r.has(n,"x")&&c(n)})),e-=s,o-=u,r.forEach(t.nodes(),(function(n){var r=t.node(n);r.x-=e,r.y-=o})),r.forEach(t.edges(),(function(n){var i=t.edge(n);r.forEach(i.points,(function(t){t.x-=e,t.y-=o})),r.has(i,"x")&&(i.x-=e),r.has(i,"y")&&(i.y-=o)})),a.width=n-e+s,a.height=i-o+u}(t)})),e("    assignNodeIntersects",(function(){!function(t){r.forEach(t.edges(),(function(e){var n,r,o=t.edge(e),i=t.node(e.v),a=t.node(e.w);o.points?(n=o.points[0],r=o.points[o.points.length-1]):(o.points=[],n=a,r=i),o.points.unshift(g.intersectRect(i,n)),o.points.push(g.intersectRect(a,r))}))}(t)})),e("    reversePoints",(function(){!function(t){r.forEach(t.edges(),(function(e){var n=t.edge(e);n.reversed&&n.points.reverse()}))}(t)})),e("    acyclic.undo",(function(){o.undo(t)}))}(e,n)})),n("  updateInputGraph",(function(){!function(t,e){r.forEach(t.nodes(),(function(n){var r=t.node(n),o=e.node(n);r&&(r.x=o.x,r.y=o.y,e.children(n).length&&(r.width=o.width,r.height=o.height))})),r.forEach(t.edges(),(function(n){var o=t.edge(n),i=e.edge(n);o.points=i.points,r.has(i,"x")&&(o.x=i.x,o.y=i.y)})),t.graph().width=e.graph().width,t.graph().height=e.graph().height}(t,e)}))}))};var y=["nodesep","edgesep","ranksep","marginx","marginy"],m={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},_=["acyclicer","ranker","rankdir","align"],x=["width","height"],b={width:0,height:0},w=["minlen","weight","width","height","labeloffset"],k={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},M=["labelpos"];function C(t,e){return r.mapValues(r.pick(t,e),Number)}function T(t){var e={};return r.forEach(t,(function(t,n){e[n.toLowerCase()]=t})),e}},function(t,e,n){var r=n(93);t.exports=function(t){return r(t,5)}},function(t,e,n){var r=n(65),o=n(33),i=n(66),a=n(36),s=Object.prototype,u=s.hasOwnProperty,c=r((function(t,e){t=Object(t);var n=-1,r=e.length,c=r>2?e[2]:void 0;for(c&&i(e[0],e[1],c)&&(r=1);++n<r;)for(var l=e[n],h=a(l),f=-1,d=h.length;++f<d;){var p=h[f],g=t[p];(void 0===g||o(g,s[p])&&!u.call(t,p))&&(t[p]=l[p])}return t}));t.exports=c},function(t,e,n){var r=n(270)(n(271));t.exports=r},function(t,e,n){var r=n(20),o=n(19),i=n(24);t.exports=function(t){return function(e,n,a){var s=Object(e);if(!o(e)){var u=r(n,3);e=i(e),n=function(t){return u(s[t],t,s)}}var c=t(e,n,a);return c>-1?s[u?e[c]:c]:void 0}}},function(t,e,n){var r=n(132),o=n(20),i=n(272),a=Math.max;t.exports=function(t,e,n){var s=null==t?0:t.length;if(!s)return-1;var u=null==n?0:i(n);return u<0&&(u=a(s+u,0)),r(t,o(e,3),u)}},function(t,e,n){var r=n(140);t.exports=function(t){var e=r(t),n=e%1;return e==e?n?e-n:e:0}},function(t,e,n){var r=n(11),o=n(38),i=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(o(t))return NaN;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(i,"");var n=s.test(t);return n||u.test(t)?c(t.slice(2),n?2:8):a.test(t)?NaN:+t}},function(t,e,n){var r=n(83),o=n(113),i=n(36);t.exports=function(t,e){return null==t?t:r(t,o(e),i)}},function(t,e){t.exports=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}},function(t,e,n){var r=n(57),o=n(82),i=n(20);t.exports=function(t,e){var n={};return e=i(e,3),o(t,(function(t,o,i){r(n,o,e(t,o,i))})),n}},function(t,e,n){var r=n(88),o=n(278),i=n(29);t.exports=function(t){return t&&t.length?r(t,i,o):void 0}},function(t,e){t.exports=function(t,e){return t>e}},function(t,e,n){var r=n(280),o=n(284)((function(t,e,n){r(t,e,n)}));t.exports=o},function(t,e,n){var r=n(51),o=n(142),i=n(83),a=n(281),s=n(11),u=n(36),c=n(143);t.exports=function t(e,n,l,h,f){e!==n&&i(n,(function(i,u){if(s(i))f||(f=new r),a(e,n,u,l,t,h,f);else{var d=h?h(c(e,u),i,u+"",e,n,f):void 0;void 0===d&&(d=i),o(e,u,d)}}),u)}},function(t,e,n){var r=n(142),o=n(99),i=n(108),a=n(100),s=n(109),u=n(46),c=n(6),l=n(133),h=n(35),f=n(44),d=n(11),p=n(282),g=n(47),v=n(143),y=n(283);t.exports=function(t,e,n,m,_,x,b){var w=v(t,n),k=v(e,n),M=b.get(k);if(M)r(t,n,M);else{var C=x?x(w,k,n+"",t,e,b):void 0,T=void 0===C;if(T){var E=c(k),S=!E&&h(k),A=!E&&!S&&g(k);C=k,E||S||A?c(w)?C=w:l(w)?C=a(w):S?(T=!1,C=o(k,!0)):A?(T=!1,C=i(k,!0)):C=[]:p(k)||u(k)?(C=w,u(w)?C=y(w):d(w)&&!f(w)||(C=s(k))):T=!1}T&&(b.set(k,C),_(C,k,m,x,b),b.delete(k)),r(t,n,C)}}},function(t,e,n){var r=n(28),o=n(61),i=n(17),a=Function.prototype,s=Object.prototype,u=a.toString,c=s.hasOwnProperty,l=u.call(Object);t.exports=function(t){if(!i(t)||"[object Object]"!=r(t))return!1;var e=o(t);if(null===e)return!0;var n=c.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==l}},function(t,e,n){var r=n(45),o=n(36);t.exports=function(t){return r(t,o(t))}},function(t,e,n){var r=n(65),o=n(66);t.exports=function(t){return r((function(e,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(a=t.length>3&&"function"==typeof a?(i--,a):void 0,s&&o(n[0],n[1],s)&&(a=i<3?void 0:a,i=1),e=Object(e);++r<i;){var u=n[r];u&&t(e,u,r,a)}return e}))}},function(t,e,n){var r=n(88),o=n(144),i=n(29);t.exports=function(t){return t&&t.length?r(t,i,o):void 0}},function(t,e,n){var r=n(88),o=n(20),i=n(144);t.exports=function(t,e){return t&&t.length?r(t,o(e,2),i):void 0}},function(t,e,n){var r=n(15);t.exports=function(){return r.Date.now()}},function(t,e,n){var r=n(289),o=n(292)((function(t,e){return null==t?{}:r(t,e)}));t.exports=o},function(t,e,n){var r=n(290),o=n(122);t.exports=function(t,e){return r(t,e,(function(e,n){return o(t,n)}))}},function(t,e,n){var r=n(85),o=n(291),i=n(63);t.exports=function(t,e,n){for(var a=-1,s=e.length,u={};++a<s;){var c=e[a],l=r(t,c);n(l,c)&&o(u,i(c,t),l)}return u}},function(t,e,n){var r=n(56),o=n(63),i=n(58),a=n(11),s=n(48);t.exports=function(t,e,n,u){if(!a(t))return t;for(var c=-1,l=(e=o(e,t)).length,h=l-1,f=t;null!=f&&++c<l;){var d=s(e[c]),p=n;if(c!=h){var g=f[d];void 0===(p=u?u(g,d,f):void 0)&&(p=a(g)?g:i(e[c+1])?[]:{})}r(f,d,p),f=f[d]}return t}},function(t,e,n){var r=n(141),o=n(130),i=n(131);t.exports=function(t){return i(o(t,void 0,r),t+"")}},function(t,e,n){var r=n(294)();t.exports=r},function(t,e,n){var r=n(295),o=n(66),i=n(140);t.exports=function(t){return function(e,n,a){return a&&"number"!=typeof a&&o(e,n,a)&&(n=a=void 0),e=i(e),void 0===n?(n=e,e=0):n=i(n),a=void 0===a?e<n?1:-1:i(a),r(e,n,a,t)}}},function(t,e){var n=Math.ceil,r=Math.max;t.exports=function(t,e,o,i){for(var a=-1,s=r(n((e-t)/(o||1)),0),u=Array(s);s--;)u[i?s:++a]=t,t+=o;return u}},function(t,e,n){var r=n(87),o=n(297),i=n(65),a=n(66),s=i((function(t,e){if(null==t)return[];var n=e.length;return n>1&&a(t,e[0],e[1])?e=[]:n>2&&a(e[0],e[1],e[2])&&(e=[e[0]]),o(t,r(e,1),[])}));t.exports=s},function(t,e,n){var r=n(64),o=n(20),i=n(128),a=n(298),s=n(59),u=n(299),c=n(29);t.exports=function(t,e,n){var l=-1;e=r(e.length?e:[c],s(o));var h=i(t,(function(t,n,o){return{criteria:r(e,(function(e){return e(t)})),index:++l,value:t}}));return a(h,(function(t,e){return u(t,e,n)}))}},function(t,e){t.exports=function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}},function(t,e,n){var r=n(300);t.exports=function(t,e,n){for(var o=-1,i=t.criteria,a=e.criteria,s=i.length,u=n.length;++o<s;){var c=r(i[o],a[o]);if(c)return o>=u?c:c*("desc"==n[o]?-1:1)}return t.index-e.index}},function(t,e,n){var r=n(38);t.exports=function(t,e){if(t!==e){var n=void 0!==t,o=null===t,i=t==t,a=r(t),s=void 0!==e,u=null===e,c=e==e,l=r(e);if(!u&&!l&&!a&&t>e||a&&s&&c&&!u&&!l||o&&s&&c||!n&&c||!i)return 1;if(!o&&!a&&!l&&t<e||l&&n&&i&&!o&&!a||u&&n&&i||!s&&i||!c)return-1}return 0}},function(t,e,n){var r=n(121),o=0;t.exports=function(t){var e=++o;return r(t)+e}},function(t,e,n){var r=n(56),o=n(303);t.exports=function(t,e){return o(t||[],e||[],r)}},function(t,e){t.exports=function(t,e,n){for(var r=-1,o=t.length,i=e.length,a={};++r<o;){var s=r<i?e[r]:void 0;n(a,t[r],s)}return a}},function(t,e,n){"use strict";var r=n(4),o=n(305);t.exports={run:function(t){var e="greedy"===t.graph().acyclicer?o(t,function(t){return function(e){return t.edge(e).weight}}(t)):function(t){var e=[],n={},o={};return r.forEach(t.nodes(),(function i(a){if(r.has(o,a))return;o[a]=!0,n[a]=!0,r.forEach(t.outEdges(a),(function(t){r.has(n,t.w)?e.push(t):i(t.w)})),delete n[a]})),e}(t);r.forEach(e,(function(e){var n=t.edge(e);t.removeEdge(e),n.forwardName=e.name,n.reversed=!0,t.setEdge(e.w,e.v,n,r.uniqueId("rev"))}))},undo:function(t){r.forEach(t.edges(),(function(e){var n=t.edge(e);if(n.reversed){t.removeEdge(e);var r=n.forwardName;delete n.reversed,delete n.forwardName,t.setEdge(e.w,e.v,n,r)}}))}}},function(t,e,n){var r=n(4),o=n(14).Graph,i=n(306);t.exports=function(t,e){if(t.nodeCount()<=1)return[];var n=function(t,e){var n=new o,a=0,s=0;r.forEach(t.nodes(),(function(t){n.setNode(t,{v:t,in:0,out:0})})),r.forEach(t.edges(),(function(t){var r=n.edge(t.v,t.w)||0,o=e(t),i=r+o;n.setEdge(t.v,t.w,i),s=Math.max(s,n.node(t.v).out+=o),a=Math.max(a,n.node(t.w).in+=o)}));var c=r.range(s+a+3).map((function(){return new i})),l=a+1;return r.forEach(n.nodes(),(function(t){u(c,l,n.node(t))})),{graph:n,buckets:c,zeroIdx:l}}(t,e||a),c=function(t,e,n){var r,o=[],i=e[e.length-1],a=e[0];for(;t.nodeCount();){for(;r=a.dequeue();)s(t,e,n,r);for(;r=i.dequeue();)s(t,e,n,r);if(t.nodeCount())for(var u=e.length-2;u>0;--u)if(r=e[u].dequeue()){o=o.concat(s(t,e,n,r,!0));break}}return o}(n.graph,n.buckets,n.zeroIdx);return r.flatten(r.map(c,(function(e){return t.outEdges(e.v,e.w)})),!0)};var a=r.constant(1);function s(t,e,n,o,i){var a=i?[]:void 0;return r.forEach(t.inEdges(o.v),(function(r){var o=t.edge(r),s=t.node(r.v);i&&a.push({v:r.v,w:r.w}),s.out-=o,u(e,n,s)})),r.forEach(t.outEdges(o.v),(function(r){var o=t.edge(r),i=r.w,a=t.node(i);a.in-=o,u(e,n,a)})),t.removeNode(o.v),a}function u(t,e,n){n.out?n.in?t[n.out-n.in+e].enqueue(n):t[t.length-1].enqueue(n):t[0].enqueue(n)}},function(t,e){function n(){var t={};t._next=t._prev=t,this._sentinel=t}function r(t){t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev}function o(t,e){if("_next"!==t&&"_prev"!==t)return e}t.exports=n,n.prototype.dequeue=function(){var t=this._sentinel,e=t._prev;if(e!==t)return r(e),e},n.prototype.enqueue=function(t){var e=this._sentinel;t._prev&&t._next&&r(t),t._next=e._next,e._next._prev=t,e._next=t,t._prev=e},n.prototype.toString=function(){for(var t=[],e=this._sentinel,n=e._prev;n!==e;)t.push(JSON.stringify(n,o)),n=n._prev;return"["+t.join(", ")+"]"}},function(t,e,n){"use strict";var r=n(4),o=n(8);t.exports={run:function(t){t.graph().dummyChains=[],r.forEach(t.edges(),(function(e){!function(t,e){var n,r,i,a=e.v,s=t.node(a).rank,u=e.w,c=t.node(u).rank,l=e.name,h=t.edge(e),f=h.labelRank;if(c===s+1)return;for(t.removeEdge(e),i=0,++s;s<c;++i,++s)h.points=[],r={width:0,height:0,edgeLabel:h,edgeObj:e,rank:s},n=o.addDummyNode(t,"edge",r,"_d"),s===f&&(r.width=h.width,r.height=h.height,r.dummy="edge-label",r.labelpos=h.labelpos),t.setEdge(a,n,{weight:h.weight},l),0===i&&t.graph().dummyChains.push(n),a=n;t.setEdge(a,u,{weight:h.weight},l)}(t,e)}))},undo:function(t){r.forEach(t.graph().dummyChains,(function(e){var n,r=t.node(e),o=r.edgeLabel;for(t.setEdge(r.edgeObj,o);r.dummy;)n=t.successors(e)[0],t.removeNode(e),o.points.push({x:r.x,y:r.y}),"edge-label"===r.dummy&&(o.x=r.x,o.y=r.y,o.width=r.width,o.height=r.height),e=n,r=t.node(e)}))}}},function(t,e,n){"use strict";var r=n(67).longestPath,o=n(145),i=n(309);t.exports=function(t){switch(t.graph().ranker){case"network-simplex":s(t);break;case"tight-tree":!function(t){r(t),o(t)}(t);break;case"longest-path":a(t);break;default:s(t)}};var a=r;function s(t){i(t)}},function(t,e,n){"use strict";var r=n(4),o=n(145),i=n(67).slack,a=n(67).longestPath,s=n(14).alg.preorder,u=n(14).alg.postorder,c=n(8).simplify;function l(t){t=c(t),a(t);var e,n=o(t);for(d(n),h(n,t);e=g(n);)y(n,t,e,v(n,t,e))}function h(t,e){var n=u(t,t.nodes());n=n.slice(0,n.length-1),r.forEach(n,(function(n){!function(t,e,n){var r=t.node(n).parent;t.edge(n,r).cutvalue=f(t,e,n)}(t,e,n)}))}function f(t,e,n){var o=t.node(n).parent,i=!0,a=e.edge(n,o),s=0;return a||(i=!1,a=e.edge(o,n)),s=a.weight,r.forEach(e.nodeEdges(n),(function(r){var a,u,c=r.v===n,l=c?r.w:r.v;if(l!==o){var h=c===i,f=e.edge(r).weight;if(s+=h?f:-f,a=n,u=l,t.hasEdge(a,u)){var d=t.edge(n,l).cutvalue;s+=h?-d:d}}})),s}function d(t,e){arguments.length<2&&(e=t.nodes()[0]),p(t,{},1,e)}function p(t,e,n,o,i){var a=n,s=t.node(o);return e[o]=!0,r.forEach(t.neighbors(o),(function(i){r.has(e,i)||(n=p(t,e,n,i,o))})),s.low=a,s.lim=n++,i?s.parent=i:delete s.parent,n}function g(t){return r.find(t.edges(),(function(e){return t.edge(e).cutvalue<0}))}function v(t,e,n){var o=n.v,a=n.w;e.hasEdge(o,a)||(o=n.w,a=n.v);var s=t.node(o),u=t.node(a),c=s,l=!1;s.lim>u.lim&&(c=u,l=!0);var h=r.filter(e.edges(),(function(e){return l===m(t,t.node(e.v),c)&&l!==m(t,t.node(e.w),c)}));return r.minBy(h,(function(t){return i(e,t)}))}function y(t,e,n,o){var i=n.v,a=n.w;t.removeEdge(i,a),t.setEdge(o.v,o.w,{}),d(t),h(t,e),function(t,e){var n=r.find(t.nodes(),(function(t){return!e.node(t).parent})),o=s(t,n);o=o.slice(1),r.forEach(o,(function(n){var r=t.node(n).parent,o=e.edge(n,r),i=!1;o||(o=e.edge(r,n),i=!0),e.node(n).rank=e.node(r).rank+(i?o.minlen:-o.minlen)}))}(t,e)}function m(t,e,n){return n.low<=e.lim&&e.lim<=n.lim}t.exports=l,l.initLowLimValues=d,l.initCutValues=h,l.calcCutValue=f,l.leaveEdge=g,l.enterEdge=v,l.exchangeEdges=y},function(t,e,n){var r=n(4);t.exports=function(t){var e=function(t){var e={},n=0;return r.forEach(t.children(),(function o(i){var a=n;r.forEach(t.children(i),o),e[i]={low:a,lim:n++}})),e}(t);r.forEach(t.graph().dummyChains,(function(n){for(var r=t.node(n),o=r.edgeObj,i=function(t,e,n,r){var o,i,a=[],s=[],u=Math.min(e[n].low,e[r].low),c=Math.max(e[n].lim,e[r].lim);o=n;do{o=t.parent(o),a.push(o)}while(o&&(e[o].low>u||c>e[o].lim));i=o,o=r;for(;(o=t.parent(o))!==i;)s.push(o);return{path:a.concat(s.reverse()),lca:i}}(t,e,o.v,o.w),a=i.path,s=i.lca,u=0,c=a[u],l=!0;n!==o.w;){if(r=t.node(n),l){for(;(c=a[u])!==s&&t.node(c).maxRank<r.rank;)u++;c===s&&(l=!1)}if(!l){for(;u<a.length-1&&t.node(c=a[u+1]).minRank<=r.rank;)u++;c=a[u]}t.setParent(n,c),n=t.successors(n)[0]}}))}},function(t,e,n){var r=n(4),o=n(8);t.exports={run:function(t){var e=o.addDummyNode(t,"root",{},"_root"),n=function(t){var e={};return r.forEach(t.children(),(function(n){!function n(o,i){var a=t.children(o);a&&a.length&&r.forEach(a,(function(t){n(t,i+1)}));e[o]=i}(n,1)})),e}(t),i=r.max(r.values(n))-1,a=2*i+1;t.graph().nestingRoot=e,r.forEach(t.edges(),(function(e){t.edge(e).minlen*=a}));var s=function(t){return r.reduce(t.edges(),(function(e,n){return e+t.edge(n).weight}),0)}(t)+1;r.forEach(t.children(),(function(u){!function t(e,n,i,a,s,u,c){var l=e.children(c);if(!l.length)return void(c!==n&&e.setEdge(n,c,{weight:0,minlen:i}));var h=o.addBorderNode(e,"_bt"),f=o.addBorderNode(e,"_bb"),d=e.node(c);e.setParent(h,c),d.borderTop=h,e.setParent(f,c),d.borderBottom=f,r.forEach(l,(function(r){t(e,n,i,a,s,u,r);var o=e.node(r),l=o.borderTop?o.borderTop:r,d=o.borderBottom?o.borderBottom:r,p=o.borderTop?a:2*a,g=l!==d?1:s-u[c]+1;e.setEdge(h,l,{weight:p,minlen:g,nestingEdge:!0}),e.setEdge(d,f,{weight:p,minlen:g,nestingEdge:!0})})),e.parent(c)||e.setEdge(n,h,{weight:0,minlen:s+u[c]})}(t,e,a,s,i,n,u)})),t.graph().nodeRankFactor=a},cleanup:function(t){var e=t.graph();t.removeNode(e.nestingRoot),delete e.nestingRoot,r.forEach(t.edges(),(function(e){t.edge(e).nestingEdge&&t.removeEdge(e)}))}}},function(t,e,n){var r=n(4),o=n(8);function i(t,e,n,r,i,a){var s={width:0,height:0,rank:a,borderType:e},u=i[e][a-1],c=o.addDummyNode(t,"border",s,n);i[e][a]=c,t.setParent(c,r),u&&t.setEdge(u,c,{weight:1})}t.exports=function(t){r.forEach(t.children(),(function e(n){var o=t.children(n),a=t.node(n);if(o.length&&r.forEach(o,e),r.has(a,"minRank")){a.borderLeft=[],a.borderRight=[];for(var s=a.minRank,u=a.maxRank+1;s<u;++s)i(t,"borderLeft","_bl",n,a,s),i(t,"borderRight","_br",n,a,s)}}))}},function(t,e,n){"use strict";var r=n(4);function o(t){r.forEach(t.nodes(),(function(e){i(t.node(e))})),r.forEach(t.edges(),(function(e){i(t.edge(e))}))}function i(t){var e=t.width;t.width=t.height,t.height=e}function a(t){t.y=-t.y}function s(t){var e=t.x;t.x=t.y,t.y=e}t.exports={adjust:function(t){var e=t.graph().rankdir.toLowerCase();"lr"!==e&&"rl"!==e||o(t)},undo:function(t){var e=t.graph().rankdir.toLowerCase();"bt"!==e&&"rl"!==e||function(t){r.forEach(t.nodes(),(function(e){a(t.node(e))})),r.forEach(t.edges(),(function(e){var n=t.edge(e);r.forEach(n.points,a),r.has(n,"y")&&a(n)}))}(t);"lr"!==e&&"rl"!==e||(!function(t){r.forEach(t.nodes(),(function(e){s(t.node(e))})),r.forEach(t.edges(),(function(e){var n=t.edge(e);r.forEach(n.points,s),r.has(n,"x")&&s(n)}))}(t),o(t))}}},function(t,e,n){"use strict";var r=n(4),o=n(315),i=n(316),a=n(317),s=n(321),u=n(322),c=n(14).Graph,l=n(8);function h(t,e,n){return r.map(e,(function(e){return s(t,e,n)}))}function f(t,e){var n=new c;r.forEach(t,(function(t){var o=t.graph().root,i=a(t,o,n,e);r.forEach(i.vs,(function(e,n){t.node(e).order=n})),u(t,n,i.vs)}))}function d(t,e){r.forEach(e,(function(e){r.forEach(e,(function(e,n){t.node(e).order=n}))}))}t.exports=function(t){var e=l.maxRank(t),n=h(t,r.range(1,e+1),"inEdges"),a=h(t,r.range(e-1,-1,-1),"outEdges"),s=o(t);d(t,s);for(var u,c=Number.POSITIVE_INFINITY,p=0,g=0;g<4;++p,++g){f(p%2?n:a,p%4>=2),s=l.buildLayerMatrix(t);var v=i(t,s);v<c&&(g=0,u=r.cloneDeep(s),c=v)}d(t,u)}},function(t,e,n){"use strict";var r=n(4);t.exports=function(t){var e={},n=r.filter(t.nodes(),(function(e){return!t.children(e).length})),o=r.max(r.map(n,(function(e){return t.node(e).rank}))),i=r.map(r.range(o+1),(function(){return[]}));var a=r.sortBy(n,(function(e){return t.node(e).rank}));return r.forEach(a,(function n(o){if(r.has(e,o))return;e[o]=!0;var a=t.node(o);i[a.rank].push(o),r.forEach(t.successors(o),n)})),i}},function(t,e,n){"use strict";var r=n(4);function o(t,e,n){for(var o=r.zipObject(n,r.map(n,(function(t,e){return e}))),i=r.flatten(r.map(e,(function(e){return r.sortBy(r.map(t.outEdges(e),(function(e){return{pos:o[e.w],weight:t.edge(e).weight}})),"pos")})),!0),a=1;a<n.length;)a<<=1;var s=2*a-1;a-=1;var u=r.map(new Array(s),(function(){return 0})),c=0;return r.forEach(i.forEach((function(t){var e=t.pos+a;u[e]+=t.weight;for(var n=0;e>0;)e%2&&(n+=u[e+1]),u[e=e-1>>1]+=t.weight;c+=t.weight*n}))),c}t.exports=function(t,e){for(var n=0,r=1;r<e.length;++r)n+=o(t,e[r-1],e[r]);return n}},function(t,e,n){var r=n(4),o=n(318),i=n(319),a=n(320);t.exports=function t(e,n,s,u){var c=e.children(n),l=e.node(n),h=l?l.borderLeft:void 0,f=l?l.borderRight:void 0,d={};h&&(c=r.filter(c,(function(t){return t!==h&&t!==f})));var p=o(e,c);r.forEach(p,(function(n){if(e.children(n.v).length){var o=t(e,n.v,s,u);d[n.v]=o,r.has(o,"barycenter")&&(i=n,a=o,r.isUndefined(i.barycenter)?(i.barycenter=a.barycenter,i.weight=a.weight):(i.barycenter=(i.barycenter*i.weight+a.barycenter*a.weight)/(i.weight+a.weight),i.weight+=a.weight))}var i,a}));var g=i(p,s);!function(t,e){r.forEach(t,(function(t){t.vs=r.flatten(t.vs.map((function(t){return e[t]?e[t].vs:t})),!0)}))}(g,d);var v=a(g,u);if(h&&(v.vs=r.flatten([h,v.vs,f],!0),e.predecessors(h).length)){var y=e.node(e.predecessors(h)[0]),m=e.node(e.predecessors(f)[0]);r.has(v,"barycenter")||(v.barycenter=0,v.weight=0),v.barycenter=(v.barycenter*v.weight+y.order+m.order)/(v.weight+2),v.weight+=2}return v}},function(t,e,n){var r=n(4);t.exports=function(t,e){return r.map(e,(function(e){var n=t.inEdges(e);if(n.length){var o=r.reduce(n,(function(e,n){var r=t.edge(n),o=t.node(n.v);return{sum:e.sum+r.weight*o.order,weight:e.weight+r.weight}}),{sum:0,weight:0});return{v:e,barycenter:o.sum/o.weight,weight:o.weight}}return{v:e}}))}},function(t,e,n){"use strict";var r=n(4);t.exports=function(t,e){var n={};return r.forEach(t,(function(t,e){var o=n[t.v]={indegree:0,in:[],out:[],vs:[t.v],i:e};r.isUndefined(t.barycenter)||(o.barycenter=t.barycenter,o.weight=t.weight)})),r.forEach(e.edges(),(function(t){var e=n[t.v],o=n[t.w];r.isUndefined(e)||r.isUndefined(o)||(o.indegree++,e.out.push(n[t.w]))})),function(t){var e=[];function n(t){return function(e){e.merged||(r.isUndefined(e.barycenter)||r.isUndefined(t.barycenter)||e.barycenter>=t.barycenter)&&function(t,e){var n=0,r=0;t.weight&&(n+=t.barycenter*t.weight,r+=t.weight);e.weight&&(n+=e.barycenter*e.weight,r+=e.weight);t.vs=e.vs.concat(t.vs),t.barycenter=n/r,t.weight=r,t.i=Math.min(e.i,t.i),e.merged=!0}(t,e)}}function o(e){return function(n){n.in.push(e),0==--n.indegree&&t.push(n)}}for(;t.length;){var i=t.pop();e.push(i),r.forEach(i.in.reverse(),n(i)),r.forEach(i.out,o(i))}return r.map(r.filter(e,(function(t){return!t.merged})),(function(t){return r.pick(t,["vs","i","barycenter","weight"])}))}(r.filter(n,(function(t){return!t.indegree})))}},function(t,e,n){var r=n(4),o=n(8);function i(t,e,n){for(var o;e.length&&(o=r.last(e)).i<=n;)e.pop(),t.push(o.vs),n++;return n}t.exports=function(t,e){var n=o.partition(t,(function(t){return r.has(t,"barycenter")})),a=n.lhs,s=r.sortBy(n.rhs,(function(t){return-t.i})),u=[],c=0,l=0,h=0;a.sort((f=!!e,function(t,e){return t.barycenter<e.barycenter?-1:t.barycenter>e.barycenter?1:f?e.i-t.i:t.i-e.i})),h=i(u,s,h),r.forEach(a,(function(t){h+=t.vs.length,u.push(t.vs),c+=t.barycenter*t.weight,l+=t.weight,h=i(u,s,h)}));var f;var d={vs:r.flatten(u,!0)};l&&(d.barycenter=c/l,d.weight=l);return d}},function(t,e,n){var r=n(4),o=n(14).Graph;t.exports=function(t,e,n){var i=function(t){var e;for(;t.hasNode(e=r.uniqueId("_root")););return e}(t),a=new o({compound:!0}).setGraph({root:i}).setDefaultNodeLabel((function(e){return t.node(e)}));return r.forEach(t.nodes(),(function(o){var s=t.node(o),u=t.parent(o);(s.rank===e||s.minRank<=e&&e<=s.maxRank)&&(a.setNode(o),a.setParent(o,u||i),r.forEach(t[n](o),(function(e){var n=e.v===o?e.w:e.v,i=a.edge(n,o),s=r.isUndefined(i)?0:i.weight;a.setEdge(n,o,{weight:t.edge(e).weight+s})})),r.has(s,"minRank")&&a.setNode(o,{borderLeft:s.borderLeft[e],borderRight:s.borderRight[e]}))})),a}},function(t,e,n){var r=n(4);t.exports=function(t,e,n){var o,i={};r.forEach(n,(function(n){for(var r,a,s=t.parent(n);s;){if((r=t.parent(s))?(a=i[r],i[r]=s):(a=o,o=s),a&&a!==s)return void e.setEdge(a,s);s=r}}))}},function(t,e,n){"use strict";var r=n(4),o=n(8),i=n(324).positionX;t.exports=function(t){(function(t){var e=o.buildLayerMatrix(t),n=t.graph().ranksep,i=0;r.forEach(e,(function(e){var o=r.max(r.map(e,(function(e){return t.node(e).height})));r.forEach(e,(function(e){t.node(e).y=i+o/2})),i+=o+n}))})(t=o.asNonCompoundGraph(t)),r.forEach(i(t),(function(e,n){t.node(n).x=e}))}},function(t,e,n){"use strict";var r=n(4),o=n(14).Graph,i=n(8);function a(t,e){var n={};return r.reduce(e,(function(e,o){var i=0,a=0,s=e.length,c=r.last(o);return r.forEach(o,(function(e,l){var h=function(t,e){if(t.node(e).dummy)return r.find(t.predecessors(e),(function(e){return t.node(e).dummy}))}(t,e),f=h?t.node(h).order:s;(h||e===c)&&(r.forEach(o.slice(a,l+1),(function(e){r.forEach(t.predecessors(e),(function(r){var o=t.node(r),a=o.order;!(a<i||f<a)||o.dummy&&t.node(e).dummy||u(n,r,e)}))})),a=l+1,i=f)})),o})),n}function s(t,e){var n={};function o(e,o,i,a,s){var c;r.forEach(r.range(o,i),(function(o){c=e[o],t.node(c).dummy&&r.forEach(t.predecessors(c),(function(e){var r=t.node(e);r.dummy&&(r.order<a||r.order>s)&&u(n,e,c)}))}))}return r.reduce(e,(function(e,n){var i,a=-1,s=0;return r.forEach(n,(function(r,u){if("border"===t.node(r).dummy){var c=t.predecessors(r);c.length&&(i=t.node(c[0]).order,o(n,s,u,a,i),s=u,a=i)}o(n,s,n.length,i,e.length)})),n})),n}function u(t,e,n){if(e>n){var r=e;e=n,n=r}var o=t[e];o||(t[e]=o={}),o[n]=!0}function c(t,e,n){if(e>n){var o=e;e=n,n=o}return r.has(t[e],n)}function l(t,e,n,o){var i={},a={},s={};return r.forEach(e,(function(t){r.forEach(t,(function(t,e){i[t]=t,a[t]=t,s[t]=e}))})),r.forEach(e,(function(t){var e=-1;r.forEach(t,(function(t){var u=o(t);if(u.length)for(var l=((u=r.sortBy(u,(function(t){return s[t]}))).length-1)/2,h=Math.floor(l),f=Math.ceil(l);h<=f;++h){var d=u[h];a[t]===t&&e<s[d]&&!c(n,t,d)&&(a[d]=t,a[t]=i[t]=i[d],e=s[d])}}))})),{root:i,align:a}}function h(t,e,n,i,a){var s={},u=function(t,e,n,i){var a=new o,s=t.graph(),u=function(t,e,n){return function(o,i,a){var s,u=o.node(i),c=o.node(a),l=0;if(l+=u.width/2,r.has(u,"labelpos"))switch(u.labelpos.toLowerCase()){case"l":s=-u.width/2;break;case"r":s=u.width/2}if(s&&(l+=n?s:-s),s=0,l+=(u.dummy?e:t)/2,l+=(c.dummy?e:t)/2,l+=c.width/2,r.has(c,"labelpos"))switch(c.labelpos.toLowerCase()){case"l":s=c.width/2;break;case"r":s=-c.width/2}return s&&(l+=n?s:-s),s=0,l}}(s.nodesep,s.edgesep,i);return r.forEach(e,(function(e){var o;r.forEach(e,(function(e){var r=n[e];if(a.setNode(r),o){var i=n[o],s=a.edge(i,r);a.setEdge(i,r,Math.max(u(t,e,o),s||0))}o=e}))})),a}(t,e,n,a),c=a?"borderLeft":"borderRight";function l(t,e){for(var n=u.nodes(),r=n.pop(),o={};r;)o[r]?t(r):(o[r]=!0,n.push(r),n=n.concat(e(r))),r=n.pop()}return l((function(t){s[t]=u.inEdges(t).reduce((function(t,e){return Math.max(t,s[e.v]+u.edge(e))}),0)}),u.predecessors.bind(u)),l((function(e){var n=u.outEdges(e).reduce((function(t,e){return Math.min(t,s[e.w]-u.edge(e))}),Number.POSITIVE_INFINITY),r=t.node(e);n!==Number.POSITIVE_INFINITY&&r.borderType!==c&&(s[e]=Math.max(s[e],n))}),u.successors.bind(u)),r.forEach(i,(function(t){s[t]=s[n[t]]})),s}function f(t,e){return r.minBy(r.values(e),(function(e){var n=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY;return r.forIn(e,(function(e,r){var i=function(t,e){return t.node(e).width}(t,r)/2;n=Math.max(e+i,n),o=Math.min(e-i,o)})),n-o}))}function d(t,e){var n=r.values(e),o=r.min(n),i=r.max(n);r.forEach(["u","d"],(function(n){r.forEach(["l","r"],(function(a){var s,u=n+a,c=t[u];if(c!==e){var l=r.values(c);(s="l"===a?o-r.min(l):i-r.max(l))&&(t[u]=r.mapValues(c,(function(t){return t+s})))}}))}))}function p(t,e){return r.mapValues(t.ul,(function(n,o){if(e)return t[e.toLowerCase()][o];var i=r.sortBy(r.map(t,o));return(i[1]+i[2])/2}))}t.exports={positionX:function(t){var e,n=i.buildLayerMatrix(t),o=r.merge(a(t,n),s(t,n)),u={};r.forEach(["u","d"],(function(i){e="u"===i?n:r.values(n).reverse(),r.forEach(["l","r"],(function(n){"r"===n&&(e=r.map(e,(function(t){return r.values(t).reverse()})));var a=("u"===i?t.predecessors:t.successors).bind(t),s=l(t,e,o,a),c=h(t,e,s.root,s.align,"r"===n);"r"===n&&(c=r.mapValues(c,(function(t){return-t}))),u[i+n]=c}))}));var c=f(t,u);return d(u,c),p(u,t.graph().align)},findType1Conflicts:a,findType2Conflicts:s,addConflict:u,hasConflict:c,verticalAlignment:l,horizontalCompaction:h,alignCoordinates:d,findSmallestWidthAlignment:f,balance:p}},function(t,e,n){var r=n(4),o=n(8),i=n(14).Graph;t.exports={debugOrdering:function(t){var e=o.buildLayerMatrix(t),n=new i({compound:!0,multigraph:!0}).setGraph({});return r.forEach(t.nodes(),(function(e){n.setNode(e,{label:e}),n.setParent(e,"layer"+t.node(e).rank)})),r.forEach(t.edges(),(function(t){n.setEdge(t.v,t.w,{},t.name)})),r.forEach(e,(function(t,e){var o="layer"+e;n.setNode(o,{rank:"same"}),r.reduce(t,(function(t,e){return n.setEdge(t,e,{style:"invis"}),e}))})),n}}},function(t,e){t.exports="0.8.4"},,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";n.r(e);var r=n(0),o=n(21),i=n(16),a=function(){var t={},e=24,n=8,a=[1,1],s=[],u=[];function c(){function t(t,e){return t.source.y-e.source.y}function e(t,e){return t.target.y-e.target.y}s.forEach((function(n){n.sourceLinks.sort(e),n.targetLinks.sort(t)})),s.forEach((function(t){var e=0,n=0;t.sourceLinks.forEach((function(t){t.sy=e,e+=t.dy})),t.targetLinks.forEach((function(t){t.ty=n,n+=t.dy}))}))}function l(t){return t.y+t.dy/2}function h(t){return t.value}return t.nodeWidth=function(n){return arguments.length?(e=+n,t):e},t.nodePadding=function(e){return arguments.length?(n=+e,t):n},t.nodes=function(e){return arguments.length?(s=e,t):s},t.links=function(e){return arguments.length?(u=e,t):u},t.size=function(e){return arguments.length?(a=e,t):a},t.layout=function(i){return s.forEach((function(t){t.sourceLinks=[],t.targetLinks=[]})),u.forEach((function(t){var e=t.source,n=t.target;"number"==typeof e&&(e=t.source=s[t.source]),"number"==typeof n&&(n=t.target=s[t.target]),e.sourceLinks.push(t),n.targetLinks.push(t)})),s.forEach((function(t){t.value=Math.max(Object(r.h)(t.sourceLinks,h),Object(r.h)(t.targetLinks,h))})),function(){var t,n=s,r=0;for(;n.length;)t=[],n.forEach((function(n){n.x=r,n.dx=e,n.sourceLinks.forEach((function(e){t.indexOf(e.target)<0&&t.push(e.target)}))})),n=t,++r;(function(t){s.forEach((function(e){e.sourceLinks.length||(e.x=t-1)}))})(r),o=(a[0]-e)/(r-1),s.forEach((function(t){t.x*=o}));var o}(),function(t){var e=Object(o.b)().key((function(t){return t.x})).sortKeys(r.a).entries(s).map((function(t){return t.values}));i=Object(r.e)(e,(function(t){return(a[1]-(t.length-1)*n)/Object(r.h)(t,h)})),e.forEach((function(t){t.forEach((function(t,e){t.y=e,t.dy=t.value*i}))})),u.forEach((function(t){t.dy=t.value*i})),p();var i;for(var c=1;t>0;--t)d(c*=.99),p(),f(c),p();function f(t){function n(t){return l(t.source)*t.value}e.forEach((function(e){e.forEach((function(e){if(e.targetLinks.length){var o=Object(r.h)(e.targetLinks,n)/Object(r.h)(e.targetLinks,h);e.y+=(o-l(e))*t}}))}))}function d(t){function n(t){return l(t.target)*t.value}e.slice().reverse().forEach((function(e){e.forEach((function(e){if(e.sourceLinks.length){var o=Object(r.h)(e.sourceLinks,n)/Object(r.h)(e.sourceLinks,h);e.y+=(o-l(e))*t}}))}))}function p(){e.forEach((function(t){var e,r,o,i=0,s=t.length;for(t.sort(g),o=0;o<s;++o)(r=i-(e=t[o]).y)>0&&(e.y+=r),i=e.y+e.dy+n;if((r=i-n-a[1])>0)for(i=e.y-=r,o=s-2;o>=0;--o)(r=(e=t[o]).y+e.dy+n-i)>0&&(e.y-=r),i=e.y}))}function g(t,e){return t.y-e.y}}(i),c(),t},t.relayout=function(){return c(),t},t.link=function(){var t=.5;function e(e){var n=e.source.x+e.source.dx,r=e.target.x,o=Object(i.b)(n,r),a=o(t),s=o(1-t),u=e.source.y+e.sy+e.dy/2,c=e.target.y+e.ty+e.dy/2;return"M"+n+","+u+"C"+a+","+u+" "+s+","+c+" "+r+","+c}return e.curvature=function(n){return arguments.length?(t=+n,e):t},e},t};n.d(e,"sankey",(function(){return a}))}])}));