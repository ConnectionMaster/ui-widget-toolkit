!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("d3")):"function"==typeof define&&define.amd?define("UWT",["d3"],e):"object"==typeof exports?exports.UWT=e(require("d3")):t.UWT=e(t.d3)}(window,function(t){return function(t){var e={};function i(a){if(e[a])return e[a].exports;var r=e[a]={i:a,l:!1,exports:{}};return t[a].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(a,r,function(e){return t[e]}.bind(null,r));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=341)}({1:function(t,e,i){"use strict";function a(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function r(t){return function(e,i){return a(t(e),i)}}function n(t){return t||(t=a),1===t.length&&(t=r(t)),{left:function(e,i,a,r){for(null==a&&(a=0),null==r&&(r=e.length);a<r;){var n=a+r>>>1;t(e[n],i)<0?a=n+1:r=n}return a},right:function(e,i,a,r){for(null==a&&(a=0),null==r&&(r=e.length);a<r;){var n=a+r>>>1;t(e[n],i)>0?r=n:a=n+1}return a}}}Object.defineProperty(e,"__esModule",{value:!0}),e.getSelectionName=function(t){return"number"==typeof t?"n"+t:t?(t.length>0&&!isNaN(Number(t[0]))&&(t="z"+t),t=t.replace(/[\*\%\#\[\]\/\>\<\s\+\(\)\;\@\:\?\"=.,]/g,"-")):""},e.detectIE=function(){var t=window.navigator.userAgent,e=t.indexOf("MSIE ");if(e>0)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);if(t.indexOf("Trident/")>0){var i=t.indexOf("rv:");return parseInt(t.substring(i+3,t.indexOf(".",i)),10)}var a=t.indexOf("Edge/");return a>0&&parseInt(t.substring(a+5,t.indexOf(".",a)),10)},e.useIEPolyfill=function(t){try{new CustomEvent("test")}catch(i){var e=function(e,i){i=i||{bubbles:!1,cancelable:!1};var a=document.createEvent("MouseEvent");return a.initMouseEvent(e,i.bubbles,i.cancelable,t,0,0,0,0,0,!1,!1,!1,!1,0,null),a};e.prototype=Event.prototype,t.MouseEvent=e}},e.removeFromList=function(t,e){if(t){var i=e.indexOf(t);-1!==i&&e.splice(i,1)}},e.bisect=n,e.bucketData=function(t,e,i){for(var a=n().right,r=[],o=0;o<e.length-1;++o)r[o]=[];var u=e[0],s=e[e.length-1],c=e.slice(1);for(o=0;o<t.length;++o){var l=i(t[o]);l<u||l>s||r[a(c,l)].push(t[o])}var d={};for(o=0;o<e.length-1;++o)d[e[o]+"-"+e[o+1]]=r[o];return d},e.copy=function(t){var e={};for(var i in t)e[i]=t[i];return e},e.merge=function(t,e){for(var i in e)t[i]=e[i]},e.convertTraceToTrees=function(t){for(var e=[],i=[],a=[],r=0;r<t.length;r++){for(var n=t[r],o=i[i.length-1];i.length&&n.x>o.x+o.dx;)--i.length,--a.length,o=i[i.length-1];var u=a[a.length-1],s={key:n.key,value:n.dx,children:[],parent:u};n.name&&(s.name=n.name),u?u.children.push(s):e.push(s),i.push(n),a.push(s)}return e};var o=function(){function t(t){this._data=t||[]}return t.prototype.push=function(t){this._data.push(t)},t.prototype.get=function(t){return this._data[t]},t.prototype.length=function(){return this._data.length},t.prototype.getData=function(){return this._data},t}();e.SimpleBuffer=o;var u=function(){function t(t){this._data=new Array(t),this._startIdx=0,this._count=0,this._isRotating=!1}return t.prototype.push=function(t){this._isRotating?(this._data[this._startIdx]=t,++this._startIdx,this._startIdx===this._count&&(this._startIdx=0),this._isRotating=!0):this._count===this._data.length-1?(this._data[this._count]=t,++this._count,this._isRotating=!0):(this._data[this._count]=t,++this._count)},t.prototype.get=function(t){return this._isRotating&&(t+=this._startIdx)>=this._count&&(t-=this._count),this._data[t]},t.prototype.length=function(){return this._count},t.prototype.getData=function(){if(this._isRotating){for(var t=[],e=this._startIdx;e<this._data.length;++e)t.push(this._data[e]);for(e=0;e<this._startIdx;++e)t.push(this._data[e]);return t}return this._data},t}();e.RingBuffer=u,e.bisectBuffer=function(t){return t||(t=a),1===t.length&&(t=r(t)),{left:function(e,i,a,r){for(null==a&&(a=0),null==r&&(r=e.length());a<r;){var n=a+r>>>1;t(e.get(n),i)<0?a=n+1:r=n}return a},right:function(e,i,a,r){for(null==a&&(a=0),null==r&&(r=e.length());a<r;){var n=a+r>>>1;t(e.get(n),i)>0?r=n:a=n+1}return a}}},e.transposeKeys=function(t){var e={};function i(t,a,r,n){for(var o=[],u=0;u<a.length;++u)o[u]=a[u];if(o.push(r.key),Array.isArray(r.data))for(u=0;u<r.data.length;++u)i(t,o,r.data[u],n+1);else for(var s=t,c=o.length-1;c>=0;--c){var l=o[c],d=void 0;e.hasOwnProperty(l)?d=e[l]:(d=s.length,e[l]=d),s[d]||(s[d]={key:l,data:[]}),0===c?s[d].data=r.data:s=s[d].data}}for(var a=[],r=0;r<t.length;++r)i(a,[],t[r],0);return a},e.runFunctionOnLeaf=function t(e,i){if(e&&e.children&&e.children.length>0)for(var a=0;a<e.children.length;++a)t(e.children[a],i);else i(e)}},24:function(t,e,i){"use strict";var a,r=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var n=i(63),o=i(1);e.findFirstInsertionIdx=o.bisectBuffer(function(t){return t.x}).left,e.findLastInsertionIdx=o.bisectBuffer(function(t){return t.x}).right;var u=function(){function t(){this._name="Simple Unimplemented Decimator"}return t.prototype.initialize=function(t,e,i){this._xValueToCoord=t,this._xCoordToValue=e,this._yValueToCoord=i},t.prototype.getKey=function(){return this._key},t.prototype.getName=function(){return this._name},t.prototype.getValues=function(){return this._decimatedValues},t.prototype.decimateValues=function(t,i,a){if(this._decimatedValues=[],0===a.length())return this._decimatedValues;var r,n=e.findFirstInsertionIdx(a,t),o=e.findLastInsertionIdx(a,i);n>0&&--n,o<a.length()&&++o,r=t?Math.floor(this._xValueToCoord(t)):Math.floor(this._xValueToCoord(a.get(n).x));for(var u=n,s=n;s<o;++s){var c=a.get(s),l=Math.floor(this._xValueToCoord(c.x)),d=s;(d===o-1||l!==r&&(void 0===i||c.x<i&&c.x>t))&&(this._decimatedValues=this._decimatedValues.concat(this._customFunc(a,u,d,this._yValueToCoord,this._xValueToCoord,this._xCoordToValue(r),this._xCoordToValue(l))),r=l,u=d)}return this._decimatedValues},t}();e.CustomPointXYDecimator=u;var s=function(t){function e(){var i=t.call(this)||this;return i._key=e.KEY,i._name="Min",i._customFunc=function(t,e,i,a){if(t.length()>0&&e!==i){for(var r=Number.MAX_VALUE,n=void 0,o=e;o<i;++o){var u=t.get(o),s=u.y;s<r&&(n=u,r=s)}return[n]}return[]},i}return r(e,t),e.KEY="MinPointDecimator",e}(u);function c(t,e,i,a){if(t.length()>0&&e!==i){for(var r=0,o=e;o<i;++o){r+=t.get(o).y}return[new n.XYValue(t.get(i-1).x,r/(i-e))]}return[]}e.MinPointDecimator=s;var l=function(t){function e(){var i=t.call(this)||this;return i._key=e.KEY,i._name="Avg",i._customFunc=c,i}return r(e,t),e.KEY="AvgPointDecimator",e}(u);e.AvgPointDecimator=l;var d=function(t){function e(){var i=t.call(this)||this;return i._key=e.KEY,i._name="Max",i._customFunc=function(t,e,i,a){if(t.length()>0&&e!==i){for(var r=-Number.MAX_VALUE,n=void 0,o=e;o<i;++o){var u=t.get(o),s=u.y;s>r&&(n=u,r=s)}return[n]}return[]},i}return r(e,t),e.KEY="MaxPointDecimator",e}(u);e.MaxPointDecimator=d;var h=function(t){function e(){var i=t.call(this)||this;return i._key=e.KEY,i._name="XYPointDecimator",i._customFunc=function(t,e,i,a){for(var r={},n=[],o=e;o<i;++o){var u=t.get(o),s=Math.floor(a(u.y));r.hasOwnProperty(s.toString())||(n.push(u),r[s]=!0)}return n},i}return r(e,t),e.KEY="XYPointDecimator",e}(u);e.XYPointDecimator=h;var f=function(){function t(){this._name="Simple Unimplemented Decimator"}return t.prototype.initialize=function(t,e,i){this._xValueToCoord=t,this._xCoordToValue=e,this._yValueToCoord=i},t.prototype.getKey=function(){return this._key},t.prototype.getName=function(){return this._name},t.prototype.getValues=function(){return this._decimatedValues},t.prototype.decimateValues=function(t,i,a){if(this._decimatedValues=[],0===a.length())return this._decimatedValues;var r,n,o=e.findFirstInsertionIdx(a,t),u=e.findLastInsertionIdx(a,i);o>0&&--o,u<a.length()&&++u,o<a.length()&&(r=Math.floor(this._xValueToCoord(a.get(o).x)),--r),n=t?this._xValueToCoord(t):o;for(var s=o,c=o;c<u;++c){var l=a.get(c),d=Math.floor(this._xValueToCoord(l.x)),h=c+1;d!==r&&(this._decimatedValues=this._decimatedValues.concat(this._customFunc(a,s,h,this._yValueToCoord,this._xValueToCoord,this._xCoordToValue(n),this._xCoordToValue(d))),n=d,r=d,s=h)}return s!==a.length()&&(this._decimatedValues=this._decimatedValues.concat(this._customFunc(a,s,s+1,this._yValueToCoord,this._xValueToCoord,this._xCoordToValue(n),Number.MAX_VALUE))),this._decimatedValues},t}();e.CustomContinuousXYDecimator=f;var m=function(t){function e(){var i=t.call(this)||this;return i._key=e.KEY,i._name="Avg",i._customFunc=c,i}return r(e,t),e.KEY="AvgContinuousDecimator",e}(f);function p(t,i,a,r,n,o){var u=[],s=[],c=Math.ceil(t(Number.MAX_VALUE));if(!(c<0)){for(var l=[],d=0;d<=c+1;++d)l.push(i(d));for(var h=0;h<o.length;++h){var f=o[h],m=void 0,p=void 0,_=e.findFirstInsertionIdx(o[h],r),x=e.findLastInsertionIdx(o[h],n);_>0&&--_,x===f.length()&&--x,s[h]=Array.apply(null,Array(c)).map(Number.prototype.valueOf,0);for(var y=_;y<x;++y){m=f.get(y),p=f.get(y+1);var v=Math.floor(t(m.x)),V=Math.floor(t(p.x)),g=p.x-m.x,T=0===g?0:p.y/g;if(v===V)if(void 0===r||m.x>r&&p.x<n)s[h][v]+=T;else{var C=1/(l[v+1]-l[v]);p.x<n?s[h][v]+=(p.x-l[v])*T*C:s[h][v]+=(l[v+1]-m.x)*T*C}else{C=1/(l[v+1]-l[v]);var M=r?Math.max(r,m.x):m.x,b=l[v+1];s[h][v]+=(b-M)*T*C;for(var k=v+1;k<V;++k)s[h][k]+=T;C=1/(l[V]-l[V-1]);var E=n?Math.min(n,p.x):p.x,A=l[V];s[h][V]+=(E-A)*T*C}}u[h]=[];var D=s[h];for(d=0;d<D.length;++d)u[h][d]={x:l[d],y:s[h][d]}}return u}}e.AvgContinuousDecimator=m,e.sumMultiXYSeriesValues=p;var _=function(){function t(){}return t.prototype.initialize=function(t,e,i){this._xValueToCoord=t,this._xCoordToValue=e,this._yValueToCoord=i},t.prototype.getKey=function(){return t.KEY},t.prototype.getName=function(){return""},t.prototype.getValues=function(){return this._decimatedValues},t.prototype.decimateValues=function(t,e,i){return this._decimatedValues=p(this._xValueToCoord,this._xCoordToValue,this._yValueToCoord,t,e,i),this._decimatedValues},t.KEY="SummedValueMultiXYSeriesDecimator",t}();e.SummedValueMultiXYSeriesDecimator=_;var x=function(t){function e(){return t.call(this)||this}return r(e,t),e.prototype.getKey=function(){return e.KEY},e.prototype.getName=function(){return""},e.prototype.decimateValues=function(t,e,i){this._decimatedValues=p(this._xValueToCoord,this._xCoordToValue,this._yValueToCoord,t,e,i);for(var a=0;a<this._decimatedValues[0].length;++a){for(var r=0,n=0;n<this._decimatedValues.length;++n)this._decimatedValues[n][a].y&&(r+=this._decimatedValues[n][a].y);if(r>0){var o=100/r;for(n=0;n<i.length;++n)this._decimatedValues[n][a].y&&(this._decimatedValues[n][a].y=this._decimatedValues[n][a].y*o)}}return this._decimatedValues},e.KEY="ResidencyDecimator",e}(_);e.ResidencyDecimator=x;var y=function(){function t(){}return t.prototype.initialize=function(t,e,i){this._xValueToCoord=t,this._xCoordToValue=e,this._yValueToCoord=i},t.prototype.getKey=function(){return t.KEY},t.prototype.getName=function(){return""},t.prototype.getValues=function(){return this._decimatedValues},t.prototype.decimateValues=function(t,e,i){return this._decimatedValues=p(this._xValueToCoord,this._xCoordToValue,this._yValueToCoord,t,e,[i])[0],this._decimatedValues},t.KEY="SummedValueXYSeriesDecimator",t}();e.SummedValueXYSeriesDecimator=y;var v=function(t){function e(e){var i=t.call(this,e,void 0,void 0,void 0,void 0)||this;return i._bucketPts=0,i}return r(e,t),e}(n.CandlestickValue);e.NEWSDecimationValue=v;var V=function(){function t(){}return t.prototype.initialize=function(t,e,i){this._xValueToCoord=t,this._xCoordToValue=e,this._yValueToCoord=i},t.prototype.getKey=function(){return this._key},t.prototype.getName=function(){return""},t.prototype.getValues=function(){return this._buckets},t.prototype._dumpBucket=function(t,e,i){var a="valuesInBucket = "+i.toFixed(0)+", ";return a+="([avg]Time delta, avgValue) = ("+(e.x-t).toFixed(2)+", "+e.y.toFixed(2)+"), ",a+="(entry, min, max, exit) = ("+e.entry.toFixed(2)+", "+e.min.toFixed(2)+", "+e.max.toFixed(2)+", "+e.exit.toFixed(2)+")"},t.prototype.decimateValues=function(t,e,i){throw"Error need to implement decimate code"},t}();e.NEWSBaseDecimator=V;var g=function(t){function i(){var e=t.call(this)||this;return e._key=i.KEY,e}return r(i,t),i.prototype.createNewBucket=function(t,e){t.entry=e.y,t.exit=e.y,t.min=e.y,t.max=e.y,t.x=0,t.y=0,t._bucketPts=0,this.addToBucket(t,e)},i.prototype.addToBucket=function(t,e){t.x+=e.x,t.y+=e.y,t.min=Math.min(t.min,e.y),t.max=Math.max(t.max,e.y),t.exit=e.y,t._bucketPts++},i.prototype.finalizeBucket=function(t,e){void 0!==e&&e!==t._bucketPts&&console.log("AverageTime: mismatching pt calculation"),0===t._bucketPts&&console.log("AverageTime: 0 points"),t.x=t.x/t._bucketPts,t.y=t.y/t._bucketPts},i.prototype.decimateValues=function(t,i,a){if(this._buckets=[],0===a.length())return this._buckets;var r,n=e.findFirstInsertionIdx(a,t),o=e.findLastInsertionIdx(a,i);n>0&&--n,o<a.length()&&++o;var u=0;n<a.length()&&(u=Math.floor(this._xValueToCoord(a.get(n).x)),--u);for(var s=n;s<o;++s){var c=a.get(s),l=Math.floor(this._xValueToCoord(c.x));l!==u?(r&&(this.finalizeBucket(r),this._buckets.push(r)),r=new v,this.createNewBucket(r,c),u=l):this.addToBucket(r,c)}return r&&(this.finalizeBucket(r),this._buckets.push(r)),this._buckets},i.KEY="NEWSPointDecimator",i}(V);e.NEWSPointDecimator=g;var T=function(t){function i(e){var a=t.call(this)||this;return a._weightedSums={},a._prevX=0,a._prevX=0,a._key=i.KEY,e&&(a._states=e),a}return r(i,t),i.prototype.createNewBucket=function(t,e){var i;this._weightedSums={},t._bucketPts=0,this._isYObject||(i=e.y,t.x=0,t.y=i,t.entry=i,t.exit=i,t.min=i,t.max=i),this.addToBucket(t,e)},i.prototype.addToStateValueToBucket=function(t,e){0!==e&&(this._weightedSums[t]||(this._weightedSums[t]=0),this._weightedSums[t]+=e)},i.prototype.addToBucket=function(t,e){if(this._isYObject)if(this._states)for(var i in e.y)this.addToStateValueToBucket(this._states[i],(e.x-this._prevX)*e.y[i]);else for(var a in e.y)this.addToStateValueToBucket(a,(e.x-this._prevX)*e.y[a]);else{a=void 0;a=this._states?this._states[e.y]:e.y,t.exit=a,this.addToStateValueToBucket(a,e.x-this._prevX)}t.x+=e.x,t._bucketPts++,this._prevX=e.x},i.prototype.finalizeBucket=function(t,e){var i;void 0!==e&&e!==t._bucketPts&&console.log("AverageTime: mismatching pt calculation"),0===t._bucketPts&&console.log("AverageTime: 0 points"),t.x=t.x/t._bucketPts;var a=-Number.MAX_VALUE,r=-Number.MAX_VALUE,n=Number.MAX_VALUE;for(var o in this._weightedSums){if(void 0!==this._weightedSums[o]){var u=this._weightedSums[o];u>a&&(i=o,a=u)}var s=this._yValueToCoord(o);s>r&&(t.min=o,r=s),s<n&&(t.max=o,n=s)}void 0!==i?t.y=i:this._isYObject||(t.min=t.y,t.max=t.y)},i.prototype.decimateValues=function(t,i,a){if(this._buckets=[],0===a.length())return this._buckets;var r,n=e.findFirstInsertionIdx(a,t),o=e.findLastInsertionIdx(a,i);n>0&&--n,o<a.length()&&++o;var u=0;n<a.length()&&(this._isYObject="object"==typeof a.get(n).y,u=Math.floor(this._xValueToCoord(a.get(n).x)),--u);for(var s=n;s<o;++s){var c=a.get(s),l=Math.floor(this._xValueToCoord(c.x));if(l!==u){if(r&&(this.finalizeBucket(r),this._buckets.push(r)),u+1<l){var d=new v;this.createNewBucket(d,c),this.finalizeBucket(d),d.x=this._xCoordToValue(l-1),this._buckets.push(d),this._prevX=d.x}r=new v,this.createNewBucket(r,c),u=l}else this.addToBucket(r,c)}return r&&(this.finalizeBucket(r),this._buckets.push(r)),this._buckets},i.KEY="NEWSStateDecimator",i}(V);e.NEWSStateDecimator=T;var C=function(){function t(){}return t.prototype.initialize=function(t,e,i){this._data=[],this._xValueToCoord=t,this._xCoordToValue=e,this._yValueToCoord=i},t.prototype.getKey=function(){return t.KEY},t.prototype.getName=function(){return""},t.prototype.getValues=function(){return this._data},t.prototype.setRectLimit=function(t){return this._rectLimit=t,this},t.prototype.decimateValues=function(t,e,i){return this._data=i.getData(),this._rectLimit&&(this._data.sort(function(t,e){return t.traceValue.dx>e.traceValue.dx?-1:t.traceValue.dx<e.traceValue.dx?1:0}),this._data=this._data.splice(0,this._rectLimit)),this._data},t.KEY="FlameChartRectLimitDecimator",t}();e.FlameChartRectLimitDecimator=C;var M=function(){function t(){this._minRectDelta=1}return t.prototype.initialize=function(t,e,i){this._data=[],this._xValueToCoord=t,this._xCoordToValue=e,this._yValueToCoord=i},t.prototype.getKey=function(){return t.KEY},t.prototype.getName=function(){return""},t.prototype.getValues=function(){return this._data},t.prototype.setPixelWidth=function(t){return this._minRectDelta=t-1,this},t.prototype.mergeRects=function(t){for(var e=t.length,i=[],a=[],r=[],n=0;n<e;n++){var o=t[n];a.length<o.depth&&(a.length=o.depth,r.length=o.depth);var u=a[o.depth];if(u&&u.traceValue.key===o.traceValue.key&&u.traceValue.x+u.traceValue.dx===o.traceValue.x)u.traceValue.dx+=o.traceValue.dx;else{for(var s=t[n].traceValue.x,c={},l=[];n<e;++n){if(o=t[n],l.push(o.traceValue),a.length<=o.depth){a.length=o.depth+1,r.length=o.depth+1;break}if(Math.round(this._xValueToCoord(o.traceValue.x+o.traceValue.dx))>r[o.depth]+this._minRectDelta)break;c.hasOwnProperty[o.traceValue.name]||(c[o.traceValue.name]=0),c[o.traceValue.name]+=o.traceValue.dx,u=o}var d=void 0;if(0===Object.keys(c).length)d={traceValue:{x:o.traceValue.x,dx:o.traceValue.dx,key:o.traceValue.key,name:o.traceValue.name,desc:o.traceValue.desc},decimatedValues:l,depth:o.depth};else{var h=void 0,f=0;for(var m in c){var p=c[m];p>f&&(h=m,f=p)}d={traceValue:{x:s,dx:u.traceValue.x+u.traceValue.dx-s,key:"merged",name:h,desc:u.traceValue.desc},decimatedValues:l,depth:o.depth},--n}i.push(d);var _=Math.round(this._xValueToCoord(d.traceValue.x+d.traceValue.dx));a[o.depth]=d,r[o.depth]=_}}return i},t.prototype.decimateValues=function(t,e,i){var a=i.getData();if(void 0!==t&&void 0!==e){for(var r=[],n=0;n<a.length;++n){var o=a[n];o.traceValue.x+o.traceValue.dx>t&&o.traceValue.x<e&&r.push(o)}this._data=this.mergeRects(r)}else this._data=this.mergeRects(a);return this._data},t.KEY="FlameChartMergeRectDecimator",t}();e.FlameChartMergeRectDecimator=M;var b=function(){function t(){}return t.prototype.initialize=function(t,e,i,a){this._decimatedValues=[],this._xValueToCoord=t,this._xCoordToValue=e,this._yValueToCoord=i,this._states=a},t.prototype.getKey=function(){return t.KEY},t.prototype.getName=function(){return""},t.prototype.getValues=function(){return this._decimatedValues},t.prototype.decimateValues=function(t,i,a){this._decimatedValues=new Array(this._states.length).fill(0).map(function(){return new Array});var r=Math.ceil(this._xValueToCoord(Number.MAX_VALUE));if(!(r<0)){var n,o,u={},s={};this._states.forEach(function(t,e){s[t]=e,u[t]=Array.apply(null,Array(r)).map(Number.prototype.valueOf,0)});var c=e.findFirstInsertionIdx(a,t),l=e.findLastInsertionIdx(a,i);c>0&&--c;for(var d=[],h=0;h<=r;++h)d.push(this._xCoordToValue(h));for(var f=1/(d[1]-d[0]),m=c;m<l;++m){o=(n=a.get(m)).x+n.dx;var p=Math.floor(this._xValueToCoord(n.x)),_=Math.floor(this._xValueToCoord(o));if(p===_)u[n.name][p]+=n.dx*f;else{var x=t?Math.max(t,n.x):n.x,y=d[p+1];u[n.name][p]+=(y-x)*f;for(var v=p+1;v<_;++v)u[n.name][v]+=1;var V=i?Math.min(i,o):o,g=d[_];u[n.name][_]+=(V-g)*f}}var T=[];for(h=0;h<r;++h)T[h]={x:d[h],y:0};for(var C=0;C<this._states.length;++C){var M=u[this._states[C]];if(M)for(h=0;h<M.length;++h){var b=u[this._states[C]][h]?u[this._states[C]][h]:0;this._decimatedValues[C][h]={x:d[h],y:100*b}}else this._decimatedValues[C]=T}return this._decimatedValues}},t.KEY="TraceResidencyDecimator",t}();e.TraceResidencyDecimator=b;var k=function(){function t(){}return t.prototype.initialize=function(t,e,i,a){this._decimatedValues=[],this._xValueToCoord=t,this._xCoordToValue=e,this._yValueToCoord=i,this._states=a},t.prototype.getKey=function(){return b.KEY},t.prototype.getName=function(){return""},t.prototype.getValues=function(){return this._decimatedValues},t.prototype.decimateValues=function(t,i,a){var r=this,n=Math.ceil(this._xValueToCoord(Number.MAX_VALUE));if(!(n<0)){var o,u,s=e.findFirstInsertionIdx(a,t),c=e.findLastInsertionIdx(a,i);s>0&&--s,this._decimatedValues=[];for(var l=0;l<=n;++l)this._decimatedValues[l]=new v(this._xCoordToValue(l));var d={};this._states.forEach(function(t,e){d[t]=e});for(var h=s;h<c;++h){u=(o=a.get(h)).x+o.dx;var f=Math.floor(this._xValueToCoord(o.x)),m=Math.floor(this._xValueToCoord(u));if(this._decimatedValues[f].entry||(this._decimatedValues[f].entry=d[o.name],this._decimatedValues[f].exit=d[o.name],this._decimatedValues[f].min=d[o.name],this._decimatedValues[f].max=d[o.name]),f===m)this._decimatedValues[f].exit=d[o.name],this._decimatedValues[f].min=Math.min(this._decimatedValues[f].min,d[o.name]),this._decimatedValues[f].max=Math.max(this._decimatedValues[f].max,d[o.name]);else if(this._decimatedValues[f].exit=d[o.name],this._decimatedValues[f].min=Math.min(this._decimatedValues[f].min,d[o.name]),this._decimatedValues[f].max=Math.max(this._decimatedValues[f].max,d[o.name]),m!==n)for(var p=f+1;p<=m;++p)this._decimatedValues[p].entry=d[o.name],this._decimatedValues[p].exit=d[o.name],this._decimatedValues[p].min=d[o.name],this._decimatedValues[p].max=d[o.name]}return this._decimatedValues.forEach(function(t){var e=t.exit;t.entry=r._states[t.entry],t.exit=r._states[e],t.y=r._states[e],t.min=r._states[t.min],t.max=r._states[t.max]}),this._decimatedValues}},t.KEY="TraceStateDecimator",t}();e.TraceStateDecimator=k;var E=function(){function t(){}return t.prototype.initialize=function(t,e,i){this._data=[],this._xValueToCoord=t,this._xCoordToValue=e,this._yValueToCoord=i},t.prototype.getKey=function(){return t.KEY},t.prototype.getName=function(){return""},t.prototype.getValues=function(){return this._data},t.prototype.mergeMarkers=function(t){var e=this,i=[],a=-Number.MAX_VALUE;return t.forEach(function(t){var r=e._xValueToCoord(t.x);r!==a&&(i.push(t),a=r)}),i},t.prototype.decimateValues=function(t,e,i){var a=i.getData();if(void 0!==t&&void 0!==e){var r=[];a.forEach(function(i){i.x<e&&i.x>t?r.push(i):i.dx&&i.x+i.dx<e&&i.x+i.dx>t&&r.push(i)}),this._data=this.mergeMarkers(r)}else this._data=this.mergeMarkers(a);return this._data},t.KEY="SimpleMarkerDecimator",t}();e.SimpleMarkerDecimator=E;var A=function(){function t(){}return t.prototype.initialize=function(t,e,i){this._xValueToCoord=t,this._xCoordToValue=e,this._yValueToCoord=i},t.prototype.getKey=function(){return _.KEY},t.prototype.getName=function(){return""},t.prototype.getValues=function(){return this._decimatedValues},t.prototype.decimateValues=function(t,i,a){this._decimatedValues=[];var r=[],n=Math.ceil(this._xValueToCoord(Number.MAX_VALUE));if(!(n<0)){for(var o=[],u=0;u<=n+1;++u)o.push(this._xCoordToValue(u));for(var s=0;s<a.length;++s){var c=a[s],l=void 0,d=void 0,h=e.findFirstInsertionIdx(a[s],t),f=e.findLastInsertionIdx(a[s],i);h>0&&--h,f===c.length()&&--f,r[s]=Array.apply(null,Array(n)).map(Number.prototype.valueOf,0);for(var m=h;m<f;++m){l=c.get(m),d=c.get(m+1);var p=Math.floor(this._xValueToCoord(l.x)),_=Math.floor(this._xValueToCoord(d.x)),x=d.x-l.x,y=0===x?0:d.y/x;if(p===_)if(void 0===t||l.x>t&&d.x<i)r[s][p]+=y;else{var v=1/(o[p+1]-o[p]);d.x<i?r[s][p]+=(d.x-o[p])*y*v:r[s][p]+=(o[p+1]-l.x)*y*v}else{v=1/(o[p+1]-o[p]);var V=t?Math.max(t,l.x):l.x,g=o[p+1];r[s][p]+=(g-V)*y*v;for(var T=p+1;T<_;++T)r[s][T]+=y;v=1/(o[_]-o[_-1]);var C=i?Math.min(i,d.x):d.x,M=o[_];r[s][_]+=(C-M)*y*v}}this._decimatedValues[s]=[];var b=r[s];for(u=0;u<b.length;++u)this._decimatedValues[s][u]={x:o[u],y:r[s][u]?r[s][u]:0}}return this._decimatedValues}},t.KEY="XYHeatMapDecimator",t}();e.XYHeatMapDecimator=A;var D=[new x,new s,new l,new d,new m,new M,new C,new g,new T,new E,new h,new y,new _,new b];e.InternalDecimatorMap={},D.forEach(function(t){e.InternalDecimatorMap[t.getKey()]=t})},3:function(e,i){e.exports=t},341:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(9),r=i(1),n=i(24),o=i(3),u=self;u.addEventListener("message",function(t){var e,i,s=t.data;s.xAxis.axisDesc.scaleType===a.AxisType.Ordinal?e=o.scaleBand().range([0,s.xRange]).padding(.1).align(.5).domain(s.xDomain):(s.xAxis.axisDesc.scaleType===a.AxisType.Linear?e=o.scaleLinear().domain(s.xDomain).clamp(!0):s.xAxis.axisDesc.scaleType===a.AxisType.Logarithmic&&(e=o.scaleLog().domain(s.xDomain).clamp(!0)),e.range([0,s.xRange])),s.yAxis&&(s.yAxis.axisDesc.scaleType===a.AxisType.Ordinal?i=o.scaleBand().range([0,s.yRange]).padding(.1).align(.5).domain(s.yDomain):(s.yAxis.axisDesc.scaleType===a.AxisType.Linear?i=o.scaleLinear().domain(s.yDomain).clamp(!0):s.yAxis.axisDesc.scaleType===a.AxisType.Logarithmic&&(i=o.scaleLog().domain(s.yDomain).clamp(!0)),i.range([s.yRange,0])));var c,l=n.InternalDecimatorMap[s.decimatorName];if(l.initialize(e,e.invert,i,s.names),s.names){c=[];for(var d=0;d<s.values.length;++d)c[d]=new r.SimpleBuffer(s.values[d])}else c=new r.SimpleBuffer(s.values);var h=l.decimateValues(s.xStart,s.xEnd,c);u.postMessage(h,void 0)})},63:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=function(){return function(t,e){this.x=t,this.y=e}}();e.XYValue=a;var r=function(){return function(t,e,i,a){this.x=t,this.min=e,this.max=i,this.y=a}}();e.MinMaxValue=r;var n=function(){return function(t,e,i,a,r){this.x=t,this.min=e,this.max=i,this.entry=a,this.exit=r}}();e.CandlestickValue=n;var o=function(){function t(t,e){void 0===e&&(e={}),this.key=t,this.data=e}return t.prototype.addValue=function(t,e){var i=this.data;return i.hasOwnProperty(t)?i[t]+=e:i[t]=e,this},t}();e.SummaryValue=o},9:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.Linear=0]="Linear",t[t.Logarithmic=1]="Logarithmic",t[t.Ordinal=2]="Ordinal"}(e.AxisType||(e.AxisType={})),function(t){t[t.Line=1]="Line",t[t.Area=2]="Area",t[t.Scatter=4]="Scatter",t[t.Bar=8]="Bar",t[t.Stacked=16]="Stacked",t[t.MinMaxValue=32]="MinMaxValue",t[t.FlameChart=64]="FlameChart",t[t.Marker=128]="Marker",t[t.DirectionalArrow=256]="DirectionalArrow",t[t.BoxPlot=512]="BoxPlot",t[t.HeatMap=1024]="HeatMap"}(e.RenderType||(e.RenderType={})),function(t){t[t.Linear=0]="Linear",t[t.StepBefore=1]="StepBefore",t[t.StepAfter=2]="StepAfter"}(e.InterpolateType||(e.InterpolateType={}))}})});