!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("ag-grid-community")):"function"==typeof define&&define.amd?define("UWT",["ag-grid-community"],t):"object"==typeof exports?exports.UWT=t(require("ag-grid-community")):e.UWT=t(e.agGrid)}(window,function(e){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=340)}({1:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Left=1]="Left",e[e.Right=2]="Right",e[e.Top=4]="Top",e[e.Bottom=8]="Bottom",e[e.None=0]="None"}(t.Alignment||(t.Alignment={})),function(e){e[e.CursorStart=0]="CursorStart",e[e.CursorMove=1]="CursorMove",e[e.CursorEnd=2]="CursorEnd",e[e.BrushStart=3]="BrushStart",e[e.BrushMove=4]="BrushMove",e[e.BrushEnd=5]="BrushEnd",e[e.HoverStart=6]="HoverStart",e[e.HoverEnd=7]="HoverEnd",e[e.HoverClear=8]="HoverClear",e[e.Zoom=9]="Zoom",e[e.Click=10]="Click",e[e.DoubleClick=11]="DoubleClick",e[e.RangeUpdate=12]="RangeUpdate"}(t.EventType||(t.EventType={})),function(e){e[e.Unrendered=0]="Unrendered",e[e.Cartesian=1]="Cartesian",e[e.Pie=2]="Pie",e[e.Grid=3]="Grid",e[e.FlowDiagram=4]="FlowDiagram",e[e.ForceDirectedGraph=5]="ForceDirectedGraph",e[e.Sunburst=6]="Sunburst",e[e.HierarchyGraph=7]="HierarchyGraph",e[e.PortDiagram=8]="PortDiagram",e[e.SimpleGraph=9]="SimpleGraph",e[e.TreeMap=10]="TreeMap",e[e.Axis=11]="Axis",e[e.Radar=12]="Radar"}(t.UIType||(t.UIType={})),function(e){e[e.Discrete=0]="Discrete",e[e.Gradient=1]="Gradient"}(t.LegendType||(t.LegendType={})),function(e){e[e.Vertical=0]="Vertical",e[e.Horizontal=1]="Horizontal"}(t.LegendOrientation||(t.LegendOrientation={})),function(e){e[e.Rectangle=0]="Rectangle",e[e.Line=1]="Line",e[e.Circle=2]="Circle"}(t.LegendItemShape||(t.LegendItemShape={}));var o=function(){function e(e,t,n,o){this.x=0,this.y=0,this.width=0,this.height=0,this.x=e,this.y=t,this.width=n,this.height=o}return e.prototype.contains=function(e,t){return e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height},e}();t.Rect=o;var r=function(){function e(e,t){e?this.addClasses(e):this.classes={},this.style=t||{}}return e.prototype.addClasses=function(e){for(var t=e.split(" "),n=0;n<t.length;++n)this.classes[t[n]]=!0;return this},e.prototype.addStyles=function(e){for(var t in e)this.style[t]=e[t];return this},e.prototype.setColor=function(e){return this.addStyles({color:e}),this},e.prototype.setOpacity=function(e){return this.addStyles({opacity:e}),this},e.prototype.removeClass=function(e){return delete this.classes[e],this},e.prototype.removeStyle=function(e){return delete this.style[e],this},e.prototype.getClasses=function(){return Object.keys(this.classes)},e.prototype.getClassString=function(){var e="";for(var t in this.classes)e+=t+" ";return e},e.prototype.getStyles=function(){return this.style},e.prototype.getStyleString=function(){return JSON.stringify(this.style)},e}();t.Css=r;var i=function(){function e(e,t){this.min=e,this.max=t}return e.prototype.setMin=function(e){return this.min=e,this},e.prototype.getMin=function(){return this.min},e.prototype.setMax=function(e){return this.max=e,this},e.prototype.getMax=function(){return this.max},e}();t.Range=i},13:function(e,t,n){"use strict";function o(e,t,n,a,l){var s;if((s=document.createElement("div")).setAttribute("class","context-menu"),s.oncontextmenu=function(e){i(),e.preventDefault()},document.body.appendChild(s),n.length>0){var u=document.createElement("ul");s.appendChild(u);for(var c=function(a){var s=n[a],c=document.createElement("li");s.divider?(c.className+=" is-divider",c.innerHTML="<hr>"):(s.title||console.error("No title attribute set. Check the spelling of your options."),s.disabled&&(c.className+=" is-disabled"),s.action||s.submenu||(c.className+=" is-header"),s.submenu?c.innerHTML="<span><text>"+s.title+'</text><text style="width: 5px; float: right">&#9658</text></span>':c.innerHTML=s.title,c.onclick=function(e){s.disabled||s.action&&(s.action(c,t,a),i())},c.onmouseenter=function(){if(r(n),s.submenu){var i=c.getBoundingClientRect(),a={top:i.top+window.scrollY,bottom:i.bottom+window.scrollY,left:i.left+window.scrollX,right:i.right+window.scrollX,height:i.height,width:i.width};s.submenuDiv=o(e,t,s.submenu,a,l)}}),u.appendChild(c)},h=0;h<n.length;++h)c(h);s.style.display="block",function(e,t){var n=document.body.clientWidth,o=document.body.clientHeight,r=t.left,i=t.top;r=t.right+e.clientWidth<n?t.right:t.left-e.clientWidth,t.top+e.clientHeight>o&&(i=t.top-e.clientHeight),e.style.left=r-2+"px",e.style.top=i-2+"px"}(s,a),l||e.stopPropagation()}return s}function r(e){e.forEach(function(e,t,n){!function(e){e.submenuDiv&&(document.body.removeChild(e.submenuDiv),delete e.submenuDiv),e.submenu&&r(e.submenu)}(e)})}function i(){r(a);for(var e=document.getElementsByClassName("context-menu");e.length;)document.body.removeChild(e[0])}Object.defineProperty(t,"__esModule",{value:!0});var a=[];t.showContextMenu=function(e,t,n,r){void 0===r&&(r=!1),e&&(window.onkeyup=function(e){27===e.keyCode&&i()},i(),a=n,o(e,t,n,{left:e.pageX,top:e.pageY,right:e.pageX,bottom:e.pageY,height:0,width:0},r),e.preventDefault())}},18:function(e,t,n){"use strict";function o(e){var t=Number(e).toString(16);return 1==t.length?"0"+t:t}function r(e){var t=e.substring(e.indexOf("(")+1,e.indexOf(")")).split(",");return o(t[0])+o(t[1])+o(t[2])}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this._colorMap={},this.getRandomColor=e||function(){for(var e="#",t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e}}return e.prototype.hasColor=function(e){return this._colorMap.hasOwnProperty(e)},e.prototype.setColor=function(t,n){0===n.indexOf("rgb")&&(n=e.RgbToHex(n)),this._colorMap[t]=n},e.prototype.getColor=function(e){return this.hasColor(e)||(this._colorMap[e]=this.getRandomColor()),this._colorMap[e]},e.IntToHex=function(e){return"#"+e.toString(16).padStart(6,"0")},e.RgbToHex=function(e){return"#"+r(e)},e.RgbToInt=function(e){return parseInt(r(e),16)},e}();t.ColorManager=i},2:function(e,t,n){"use strict";function o(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function r(e){return function(t,n){return o(e(t),n)}}function i(e){return e||(e=o),1===e.length&&(e=r(e)),{left:function(t,n,o,r){for(null==o&&(o=0),null==r&&(r=t.length);o<r;){var i=o+r>>>1;e(t[i],n)<0?o=i+1:r=i}return o},right:function(t,n,o,r){for(null==o&&(o=0),null==r&&(r=t.length);o<r;){var i=o+r>>>1;e(t[i],n)>0?r=i:o=i+1}return o}}}Object.defineProperty(t,"__esModule",{value:!0}),t.getSelectionName=function(e){return"number"==typeof e?"n"+e:e?(e.length>0&&!isNaN(Number(e[0]))&&(e="z"+e),e=e.replace(/[\*\%\#\[\]\/\>\<\s\+\(\)\;\@\:\?\"=.,]/g,"-")):""},t.detectIE=function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(e.indexOf("Trident/")>0){var n=e.indexOf("rv:");return parseInt(e.substring(n+3,e.indexOf(".",n)),10)}var o=e.indexOf("Edge/");return o>0&&parseInt(e.substring(o+5,e.indexOf(".",o)),10)},t.useIEPolyfill=function(e){try{new CustomEvent("test")}catch(n){var t=function(t,n){n=n||{bubbles:!1,cancelable:!1};var o=document.createEvent("MouseEvent");return o.initMouseEvent(t,n.bubbles,n.cancelable,e,0,0,0,0,0,!1,!1,!1,!1,0,null),o};t.prototype=Event.prototype,e.MouseEvent=t}},t.removeFromList=function(e,t){if(e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},t.bisect=i,t.bucketData=function(e,t,n){for(var o=i().right,r=[],a=0;a<t.length-1;++a)r[a]=[];var l=t[0],s=t[t.length-1],u=t.slice(1);for(a=0;a<e.length;++a){var c=n(e[a]);c<l||c>s||r[o(u,c)].push(e[a])}var h={};for(a=0;a<t.length-1;++a)h[t[a]+"-"+t[a+1]]=r[a];return h},t.copy=function(e){var t={};for(var n in e)t[n]=e[n];return t},t.merge=function(e,t){for(var n in t)e[n]=t[n]},t.convertTraceToTrees=function(e){for(var t=[],n=[],o=[],r=0;r<e.length;r++){for(var i=e[r],a=n[n.length-1];n.length&&i.x>a.x+a.dx;)--n.length,--o.length,a=n[n.length-1];var l=o[o.length-1],s={key:i.key,value:i.dx,children:[],parent:l};i.name&&(s.name=i.name),l?l.children.push(s):t.push(s),n.push(i),o.push(s)}return t};var a=function(){function e(e){this._data=e||[]}return e.prototype.push=function(e){this._data.push(e)},e.prototype.get=function(e){return this._data[e]},e.prototype.length=function(){return this._data.length},e.prototype.getData=function(){return this._data},e}();t.SimpleBuffer=a;var l=function(){function e(e){this._data=new Array(e),this._startIdx=0,this._count=0,this._isRotating=!1}return e.prototype.push=function(e){this._isRotating?(this._data[this._startIdx]=e,++this._startIdx,this._startIdx===this._count&&(this._startIdx=0),this._isRotating=!0):this._count===this._data.length-1?(this._data[this._count]=e,++this._count,this._isRotating=!0):(this._data[this._count]=e,++this._count)},e.prototype.get=function(e){return this._isRotating&&(e+=this._startIdx)>=this._count&&(e-=this._count),this._data[e]},e.prototype.length=function(){return this._count},e.prototype.getData=function(){if(this._isRotating){for(var e=[],t=this._startIdx;t<this._data.length;++t)e.push(this._data[t]);for(t=0;t<this._startIdx;++t)e.push(this._data[t]);return e}return this._data},e}();t.RingBuffer=l,t.bisectBuffer=function(e){return e||(e=o),1===e.length&&(e=r(e)),{left:function(t,n,o,r){for(null==o&&(o=0),null==r&&(r=t.length());o<r;){var i=o+r>>>1;e(t.get(i),n)<0?o=i+1:r=i}return o},right:function(t,n,o,r){for(null==o&&(o=0),null==r&&(r=t.length());o<r;){var i=o+r>>>1;e(t.get(i),n)>0?r=i:o=i+1}return o}}},t.transposeKeys=function(e){var t={};function n(e,o,r,i){for(var a=[],l=0;l<o.length;++l)a[l]=o[l];if(a.push(r.key),Array.isArray(r.data))for(l=0;l<r.data.length;++l)n(e,a,r.data[l],i+1);else for(var s=e,u=a.length-1;u>=0;--u){var c=a[u],h=void 0;t.hasOwnProperty(c)?h=t[c]:(h=s.length,t[c]=h),s[h]||(s[h]={key:c,data:[]}),0===u?s[h].data=r.data:s=s[h].data}}for(var o=[],r=0;r<e.length;++r)n(o,[],e[r],0);return o},t.runFunctionOnLeaf=function e(t,n){if(t&&t.children&&t.children.length>0)for(var o=0;o<t.children.length;++o)e(t.children[o],n);else n(t)},t.isOverlapping=function(e,t){return e.x<=t.right&&e.right>=t.x&&e.y<=t.bottom&&e.bottom>=t.y}},30:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(2),i=n(1);!function(e){e[e.Tooltip=0]="Tooltip",e[e.Highlight=1]="Highlight",e[e.Render=2]="Render",e[e.None=3]="None"}(o||(o={}));var a=function(){return function(){this._nameMap={},this._objectMap=new Map}}();function l(e){e.getTooltip||(e.getTooltip=function(t){return e.renderer&&e.renderer.getTooltipData?e.renderer.getTooltipData(e,t):[{source:e,group:"",metrics:{}}]})}function s(e){e.api||(e.api={}),e.api.cursorChange||(e.api.cursorChange=function(t){if(e.renderer&&e.renderer.cursorChange)return e.renderer.cursorChange(e,t)}),e.api.hover||(e.api.hover=function(t){if(e.renderer&&e.renderer.hover)return e.renderer.hover(e,t)}),e.api.brush||(e.api.brush=function(t){if(e.renderer&&e.renderer.brush)return e.renderer.brush(e,t)}),e.api.zoom||(e.api.zoom=function(t){if(e.renderer&&e.renderer.zoom)return e.renderer.zoom(e,t)})}function u(e){e.api||(e.api={}),e.api.brush||(e.api.brush=function(t){if(e.renderer&&e.renderer.brush)return e.renderer.brush(e,t)}),e.api.render||(e.api.render=function(t,n){return t?e.renderer=t:t=e.renderer,new Promise(function(o,r){t&&(e.renderer.render(e,n),o("Ok")),r("No renderer available")})})}function c(e){l(e),s(e),u(e)}t.GroupInfo=a,t.addCallbacks=c;var h=function(){function e(){this._elems=[];var e=this;this._groupInfo=[];for(var t=0;t<3;++t)this._groupInfo.push(new a);this._onHoverCallback=function(t){t.caller||console.warn("Warning no caller specified for this event, cannot propoate changes",t);var n=e._groupInfo[1]._objectMap.get(t.caller);if(n)if(e._hoverCallback)e._hoverCallback(n,t);else for(var o=0;o<n.length;++o){var r=n[o];r.api&&r.api.hover&&r.api.hover(t)}},this._onZoomCallback=function(t){t.caller||console.warn("Warning no caller specified for this event, cannot propoate changes",t);var n=e._groupInfo[1]._objectMap.get(t.caller);if(n)if(e._zoomCallback)e._zoomCallback(n,t);else for(var o=0;o<n.length;++o){var r=n[o];r.api&&r.api.zoom&&r.api.zoom(t)}},this._onTooltipCallback=function(t){t.caller||console.warn("Warning no caller specified for this event, cannot propoate changes",t);var n=[],o=e._groupInfo[0]._objectMap.get(t.caller);if(o){if(e._tooltipCallback)n=n.concat(e._tooltipCallback(o,t));else for(var r=0;r<o.length;++r){var i=o[r].getTooltip(t);n=n.concat(i)}return t.data&&t.data.tooltip&&t.data.tooltip.setData(t.data.tooltip.getTitle(),n),n}},this._onCursorChangeCallback=function(t){t.caller||console.warn("Warning no caller specified for this event, cannot propoate changes",t);var n=e._groupInfo[1]._objectMap.get(t.caller);if(n)if(e._cursorChangeCallback)e._cursorChangeCallback(n,t);else for(var o=0;o<n.length;++o){var r=n[o];r.api&&r.api.cursorChange&&r.api.cursorChange(t)}},this._onBrushCallback=function(t){t.caller||console.warn("Warning no caller specified for this event, cannot propoate changes",t);var n=e._groupInfo[1]._objectMap.get(t.caller);if(n)if(e._brushCallback)e._brushCallback(n,t);else for(var o=0;o<n.length;++o){var r=n[o];r.api&&r.api.brush&&r.api.brush(t)}},this._onUpdateCallback=function(t,n){t||console.warn("Warning no caller specified for this event, cannot propoate changes");var o=e._groupInfo[2]._objectMap.get(t);if(o)for(var r=0;r<o.length;++r){var i=o[r];i.renderer&&i.renderer.render(i,n)}}}return e.prototype.removeFromGroup=function(e,t){var n=this._groupInfo[t]._objectMap.get(e);n&&r.removeFromList(e,n)},e.prototype.addToGroup=function(e,t,n){this._groupInfo[n]._nameMap.hasOwnProperty(t)||(this._groupInfo[n]._nameMap[t]=[]),this._groupInfo[n]._nameMap[t].push(e),this._groupInfo[n]._objectMap.set(e,this._groupInfo[n]._nameMap[t])},e.prototype.addElement=function(e,t,n,o){if(!e)return this;if(-1!==this._elems.indexOf(e))throw"Element already exists in this manager";c(e),this._elems.push(e);var r;e.getElements||(e.getElements=function(){return[e]}),r=e.getElements();for(var i=0;i<r.length;++i){var a=r[i];t&&this.addToTooltipGroup(a,t),n&&this.addToHighlightGroup(a,n),o&&this.addToRenderGroup(a,o)}return e.manager=this,this},e.prototype.removeElement=function(e){if(!e)return this;var t;t=e.getElements?e.getElements():[e];for(var n=0;n<t.length;++n){var o=t[n];this.removeFromTooltipGroup(o),this.removeFromHighlightGroup(o),this.removeFromRenderGroup(o)}return r.removeFromList(e,this._elems),delete e.manager,this},e.prototype.getElements=function(){return this._elems},e.prototype.setZoomCallback=function(e){return this._zoomCallback=e,this},e.prototype.setHoverCallback=function(e){return this._hoverCallback=e,this},e.prototype.setTooltipCallback=function(e){return this._tooltipCallback=e,this},e.prototype.setBrushCallback=function(e){return this._brushCallback=e,this},e.prototype.addToTooltipGroup=function(e,t){l(e),this.removeFromTooltipGroup(e),this.addToGroup(e,t,0);var n=this;if(e.onTooltip){var o=e.onTooltip;e.onTooltip=function(e){n._onTooltipCallback(e),o(e)}}else e.onTooltip=this._onTooltipCallback;return this},e.prototype.removeFromTooltipGroup=function(e){return this.removeFromGroup(e,0),this},e.prototype.addToHighlightGroup=function(e,t){s(e),this.removeFromHighlightGroup(e);var n=this;if(e.onBrush){var o=e.onBrush;e.onBrush=function(e){n._onBrushCallback(e),o(e)}}else e.onBrush=n._onBrushCallback;if(e.onHover){var a=e.onHover;e.onHover=function(e){n._onHoverCallback(e),a(e)}}else e.onHover=n._onHoverCallback;if(e.onCursorChanged){var l=e.onCursorChanged;e.onCursorChanged=function(e){n._onCursorChangeCallback(e),l(e)}}else e.onCursorChanged=this._onCursorChangeCallback;if(e.onZoom){var u=e.onZoom;e.onZoom=function(e){n._onZoomCallback(e),u(e)}}else e.onZoom=this._onZoomCallback;var c=this._groupInfo[1]._nameMap[t];if(c&&c.length){var h=c[0];if(h.api.getOptions&&e.api&&e.api.zoom){var d=h.api.getOptions(),f=r.copy(d);f.event=i.EventType.Zoom,setTimeout(function(){e.api.zoom(f)})}}return this.addToGroup(e,t,1),this},e.prototype.removeFromHighlightGroup=function(e){return this.removeFromGroup(e,1),this},e.prototype.addToRenderGroup=function(e,t){u(e),this.removeFromRenderGroup(e),this.addToGroup(e,t,2);var n=this;if(e.handleUpdate){var o=e.handleUpdate;e.handleUpdate=function(e,t){n._onUpdateCallback(e,t),o(e,t)}}else e.handleUpdate=this._onUpdateCallback;return this},e.prototype.removeFromRenderGroup=function(e){return this.removeFromGroup(e,2),this},e.prototype.clear=function(){this._elems.length=0,this._groupInfo.length=0;for(var e=0;e<3;++e)this._groupInfo.push(new a)},e}();t.ElementManager=h},340:function(e,t,n){"use strict";function o(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),o(n(1)),o(n(341)),o(n(30)),o(n(18)),o(n(2)),o(n(342))},341:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){return function(e,t){this.headerName=e,this.field=t||e}}();t.Column=o},342:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(2),i=n(18),a=n(13),l=n(343);function s(e,t){for(var n={},o={},r=0;r<t.length;++r){n[(a=t[r]).field]||(n[a.field]=0),o[a.field]||(o[a.field]=0);for(var i=0;i<e.length;++i)e[i][a.field]&&(e[i][a.field].value&&(e[i][a.field]=e[i][a.field].value),n[a.field]=Math.max(n[a.field],e[i][a.field]),o[a.field]+=e[i][a.field])}for(r=0;r<t.length;++r){var a=t[r];for(i=0;i<e.length;++i)e[i][a.field]={value:e[i][a.field],columnMax:n[a.field],total:o[a.field]}}}function u(e){var t=e.value;t.value=t.value?t.value:0;var n=document.createElement("div"),o=t.columnMax?t.value/t.columnMax*100:0,r=t.total?t.value/t.total*100:0;return n.className="div-percent-bar",n.style.height="25px",n.style.backgroundColor="#B3E5FC",n.style.width=o+"%",e.colDef.showAsPercentage?(n.innerHTML=r.toFixed(2)+"%",n.title=r.toFixed(2)+"% (Value: "+t.value+")"):(n.innerHTML=t.value.toFixed(2),n.title="Value: "+t.value+" ("+r.toFixed(2)+"%)"),n}function c(e,t,n,o,r){return e.value-t.value}t.percentCellRenderer=function(e){var t=e.value;null==t&&(t=0);var n=document.createElement("div");return n.className="div-percent-bar",n.style.width=t+"%",n.style.height="25px",n.style.backgroundColor="#B3E5FC",n.innerHTML=t.toFixed(2)+"%",n},t.computeMaxAndPercentage=s,t.valueCellRenderer=u,t.valueComparator=c,t.menuItemShowAsPercentage={title:"Display Percentage",action:function(e,n,o){var r=n.colDef.contextMenuItems.indexOf(t.menuItemShowAsPercentage);n.colDef.contextMenuItems[r]=t.menuItemShowAsTotal,n.colDef.showAsPercentage=!0,n.api.refreshCells({columns:[n.colDef],force:!0})}},t.menuItemShowAsTotal={title:"Display Raw Values",action:function(e,n,o){n.colDef.contextMenuItems.indexOf(t.menuItemShowAsTotal);n.colDef.contextMenuItems=[t.menuItemShowAsPercentage],n.colDef.showAsPercentage=!1,n.api.refreshCells({columns:[n.colDef],force:!0})}};var h=function(){function e(e,t,n,i){void 0===i&&(i={}),this._element=e,this._renderer=t,this._options=i,this._disableCallbacks=!1,n&&(this._div=document.querySelector(n));var a=this;this.onRowSelectedDefaultCallback=function(e){if(!a._disableCallbacks){var t=a._element,n=t.gridOptions,r=t.onHover;if(r){var i=n.columnApi.getAllColumns();if(i&&i.length>0){var l=i[0].colDef.field,s={caller:t,selection:e.node.data[l],data:{row:e}};s.event=e.node.isSelected()?o.EventType.HoverStart:o.EventType.HoverEnd,r(s)}}}},this.keyboardSelectionFocus=function(e){var t=e.previousCellDef,n=e.nextCellDef,i=a._element.gridOptions.columnApi.getAllColumns();if(i&&i.length>0){var l=a._element.gridOptions.selectionKey?a._element.gridOptions.selectionKey:i[0].colDef.field,s=function(i){return t=e.previousCellDef,a._element.gridOptions.api.forEachNode(function(t){i===t.rowIndex?t.setSelected(!0):e.event.shiftKey||a._renderer.hover(a._element,{event:o.EventType.HoverEnd,selection:r.getSelectionName(t.data[l])})}),n};switch(e.key){case 40:return s(t.rowIndex+1);case 38:return s(t.rowIndex-1);case 37:case 39:return n;default:throw"this will never happen, navigation is always on of the 4 keys above"}}}}return e.prototype.setDiv=function(e){this._div=e},e.prototype.select=function(e){var t=this,n=e.selection,i=this._element.gridOptions,a=i.columnApi.getAllColumns();if(t._disableCallbacks=!0,a&&a.length>0){var l=i.selectionKey?i.selectionKey:a[0].colDef.field,s=e.selectionKey?e.selectionKey:l;e.event===o.EventType.HoverStart?(this._prevSelection=e.selection,i.api.forEachNode(function(e){r.getSelectionName(e.data[s])===r.getSelectionName(n)&&(e.setSelected(!0),t._element.gridOptions.autoScrollToSelection&&i.api.ensureNodeVisible(e))})):e.event===o.EventType.HoverClear?i.api.deselectAll():(e.selection||(n=t._prevSelection),i.api.forEachNode(function(o){r.getSelectionName(o.data[s])===r.getSelectionName(n)&&(o.setSelected(!1),e.selection===t._prevSelection&&(t._prevSelection=void 0))}))}t._disableCallbacks=!1},e.prototype.setContextMenuItems=function(e,t){if(e){t||(t=[]);for(var n=0;n<e.length;++n){var o=e[n];o.onCellContextMenu=function(e){a.showContextMenu(e.event,e,e.colDef.contextMenuItems?t.concat(e.colDef.contextMenuItems):t)},o.children&&this.setContextMenuItems(o.children,t)}}},e.prototype.invalidate=function(e){void 0===e&&(e={});var n=this,o=this._element.gridOptions;o.animateRows=void 0===o.animateRows||o.animateRows,o.rowSelection=void 0!==o.rowSelection?o.rowSelection:"multiple",o.rowDeselection=void 0===o.rowDeselection||o.rowDeselection,o.suppressScrollOnNewData=void 0===o.suppressScrollOnNewData||o.suppressScrollOnNewData,o.suppressPropertyNamesCheck=void 0===o.suppressPropertyNamesCheck||o.suppressPropertyNamesCheck,o.defaultColDef=void 0!==o.defaultColDef?o.defaultColDef:{},o.defaultColDef.sortable=void 0===o.defaultColDef.sortable||o.defaultColDef.sortable,o.defaultColDef.resizable=void 0===o.defaultColDef.resizable||o.defaultColDef.resizable,o.defaultColDef.filter=void 0===o.defaultColDef.filter||o.defaultColDef.filter,o.autoScrollToSelection=void 0===o.autoScrollToSelection||o.autoScrollToSelection,o.onRowSelected?(o.userOnRowSelected||(o.userOnRowSelected=o.onRowSelected),o.onRowSelected=function(e){n._disableCallbacks||o.userOnRowSelected({caller:n._element,data:{row:e.node.data,isSelected:e.node.selected}})}):o.onRowSelected=this.onRowSelectedDefaultCallback,o.onRowClicked&&(o.userOnRowClicked||(o.userOnRowClicked=o.onRowClicked),o.onRowClicked=function(e){o.userOnRowClicked({caller:n._element,data:{row:e}})}),o.onRowDoubleClicked&&(o.userOnRowDoubleClicked||(o.userOnRowDoubleClicked=o.onRowDoubleClicked),o.onRowDoubleClicked=function(e){o.userOnRowDoubleClicked({caller:n._element,data:{row:e}})});var r=!1;if(o.rowData&&!o.getNodeChildDetails)for(var i=0;i<o.rowData.length;++i){var a=o.rowData[i];if(a.children&&a.children.length>0){r=!0;break}}if(o.columnDefs){var h=[],d=function(e){var r=o.columnDefs[e];if(r.canShowPercentage||r.showAsPercentage||r.showAsBar){h.push(r),r.cellRenderer=u,r.comparator=c,r.contextMenuItems||(r.contextMenuItems=[]);r.showAsPercentage?-1!==r.contextMenuItems.indexOf(t.menuItemShowAsPercentage)?r.contextMenuItems[e]=t.menuItemShowAsTotal:-1===r.contextMenuItems.indexOf(t.menuItemShowAsTotal)&&r.contextMenuItems.push(t.menuItemShowAsTotal):r.canShowPercentage&&(-1!==r.contextMenuItems.indexOf(t.menuItemShowAsTotal)?r.contextMenuItems[e]=t.menuItemShowAsPercentage:-1===r.contextMenuItems.indexOf(t.menuItemShowAsPercentage)&&r.contextMenuItems.push(t.menuItemShowAsPercentage))}if(r.onCellClicked){var i=r.onCellClicked;r.onCellClicked=function(e){i({caller:n._element,data:{cell:e}})}}if(r.onCellDoubleClicked){var a=r.onCellDoubleClicked;r.onCellDoubleClicked=function(e){a({caller:n._element,data:{cell:e}})}}};for(i=0;i<o.columnDefs.length;++i)d(i);if(r&&o.columnDefs.length>0){var f=o.columnDefs[0];f.cellRenderer="agGroupCellRenderer",f.cellRendererParams={innerRenderer:function(e){return e.data[f.field]},suppressCount:!0},o.getNodeChildDetails=function(e){return e.children?{group:!0,expanded:e.expanded,children:e.children,key:e[f.field]}:null}}h.length>0&&s(o.rowData,h)}o.enableSingleKeyboardSelection&&(o.navigateToNextCell=this.keyboardSelectionFocus);var p=null==o.contextMenuItems;if(o.columnDefs)for(i=0;p&&i<o.columnDefs.length;++i){o.columnDefs[i].contextMenuItems&&(p=!1)}for(p||this.setContextMenuItems(o.columnDefs,o.contextMenuItems);this._div.firstChild;)this._div.removeChild(this._div.firstChild);this._element.api?this._element.api.select=function(e){n.select(e)}:this._element.api={select:function(e){n.select(e)}},new l.Grid(this._div,this._element.gridOptions)},e}(),d=function(){function e(e,t,n){void 0===t&&(t={}),void 0===n&&(n=new i.ColorManager),this.invalidate=this.render,this._parent=e,this._rendererMap=new WeakMap,this._options=t,this._colorMgr=n}return e.prototype.getColorManager=function(){return this._colorMgr},e.prototype.setOnRenderCallback=function(e){this.onRender=e},e.prototype.setOptions=function(e){for(var t in e)this._options[t]=e[t]},e.prototype.hover=function(e,t){if(this._rendererMap.has(e))return this._rendererMap.get(e).select(t)},e.prototype.select=function(e,t){if(this._rendererMap.has(e))return this._rendererMap.get(e).select(t)},e.prototype.setDiv=function(e,t){this._rendererMap.has(e)||e.type===o.UIType.Grid&&this._rendererMap.set(e,new h(e,this)),this._rendererMap.has(e)&&this._rendererMap.get(e).setDiv(t)},e.prototype.render=function(e,t){void 0===t&&(t={});e.renderer=this,this._rendererMap.has(e)||e.type===o.UIType.Grid&&this._rendererMap.set(e,new h(e,this,this._parent)),this._rendererMap.has(e)&&(this._rendererMap.get(e).invalidate(t),this.onRender&&this.onRender(e,t))},e.prototype.destroy=function(e){this._rendererMap.delete(e)},e.prototype.getOptions=function(){return this._options},e}();t.AgGridRenderer=d},343:function(t,n){t.exports=e}})});